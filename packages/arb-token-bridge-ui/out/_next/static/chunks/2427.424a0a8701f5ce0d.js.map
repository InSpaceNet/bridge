{"version":3,"file":"static/chunks/2427.424a0a8701f5ce0d.js","mappings":"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EAC5D,CACD44B,gBAAiB,aACjB54B,KAAM,aACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,WACNjR,KAAM,SACR,EACD,CACDiR,KAAM,mBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,WACNjR,KAAM,SACR,EACD,CACDiR,KAAM,kBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,0BACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,qBACNjR,KAAM,SACR,EACD,CACDiR,KAAM,yBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,wBACNjR,KAAM,SACR,EACD,CACDiR,KAAM,4BACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,SACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,SACd1nB,KAAM,eACNjR,KAAM,QACR,EACA,CAAE84B,QAAS,GAAMH,aAAc,SAAU1nB,KAAM,QAASjR,KAAM,QAAS,EACvE,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,SACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,QACd1nB,KAAM,cACNjR,KAAM,OACR,EACD,CACDiR,KAAM,kBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CAAEI,QAAS,GAAOH,aAAc,QAAS1nB,KAAM,UAAWjR,KAAM,OAAQ,EACzE,CACDiR,KAAM,cACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,gBACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,WACNjR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AM,SACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,YACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,gBACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,SACd1nB,KAAM,oBACNjR,KAAM,QACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,4BACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,oBACNjR,KAAM,SACR,EACD,CACDiR,KAAM,iBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,cACNjR,KAAM,SACR,EACD,CACDiR,KAAM,mBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,cACNjR,KAAM,SACR,EACD,CACDiR,KAAM,qBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,gBACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,SACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,YACNjR,KAAM,SACR,EACD,CACDiR,KAAM,kBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,gBACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,WACNjR,KAAM,SACR,EACD,CACDiR,KAAM,2BACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,gBACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,WACNjR,KAAM,SACR,EACD,CACDiR,KAAM,uBACNjR,KAAM,OACR,EA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d1nB,KAAM,sBACNjR,KAAM,SACR,EACD,CACDiR,KAAM,6BACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,gBACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,WACNjR,KAAM,SACR,EACD,CACDiR,KAAM,2BACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,gBACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,WACNjR,KAAM,SACR,EACD,CACDiR,KAAM,uBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,EAAE,CACVznB,KAAM,QACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,aACNjR,KAAM,SACR,EACD,CACDiR,KAAM,gBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,aACNjR,KAAM,SACR,EACD,CACDiR,KAAM,iBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,QACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,sBACNjR,KAAM,SACR,EACD,CACDiR,KAAM,yBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,kBACNjR,KAAM,SACR,EACD,CACDiR,KAAM,qBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,aACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,SACd1nB,KAAM,eACNjR,KAAM,QACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,cACNjR,KAAM,SACR,EACD,CACDiR,KAAM,kBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,CACN,CACEI,QAAS,GACTH,aAAc,UACd1nB,KAAM,aACNjR,KAAM,SACR,EACA,CACE84B,QAAS,GACTH,aAAc,SACd1nB,KAAM,eACNjR,KAAM,QACR,EACA,CACE84B,QAAS,GACTH,aAAc,UACd1nB,KAAM,cACNjR,KAAM,SACR,EACD,CACDiR,KAAM,oBACNjR,KAAM,OACR,EACA,CACE64B,UAAW,GACXH,OAAQ,EAAE,CACVznB,KAAM,UACNjR,KAAM,OACR,EACA,CACE04B,OAAQ,EAAE,CACVznB,KAAM,kBACN8nB,QAAS,EAAE,CACXH,gBAAiB,aACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,aAAc,UACd1nB,KAAM,yBACNjR,KAAM,SACR,EACD,CACDiR,KAAM,yBACN8nB,QAAS,EAAE,CACXH,gBAAiB,aACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,aAAc,UACd1nB,KAAM,YACNjR,KAAM,SACR,EACA,CACE24B,aAAc,UACd1nB,KAAM,aACNjR,KAAM,SACR,EACD,CACDiR,KAAM,OACN8nB,QAAS,EAAE,CACXH,gBAAiB,aACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACDiR,KAAM,uBACN8nB,QAAS,CACP,CACEJ,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACD44B,gBAAiB,OACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,aAAc,SACd1nB,KAAM,eACNjR,KAAM,QACR,EACA,CACE24B,aAAc,UACd1nB,KAAM,cACNjR,KAAM,SACR,EACD,CACDiR,KAAM,gBACN8nB,QAAS,CACP,CACEJ,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACD44B,gBAAiB,OACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,aAAc,UACd1nB,KAAM,aACNjR,KAAM,SACR,EACA,CACE24B,aAAc,SACd1nB,KAAM,eACNjR,KAAM,QACR,EACA,CACE24B,aAAc,UACd1nB,KAAM,cACNjR,KAAM,SACR,EACD,CACDiR,KAAM,gBACN8nB,QAAS,EAAE,CACXH,gBAAiB,aACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,EAAE,CACVznB,KAAM,sBACN8nB,QAAS,CACP,CACEJ,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACD44B,gBAAiB,OACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,aAAc,SACd1nB,KAAM,eACNjR,KAAM,QACR,EACA,CACE24B,aAAc,UACd1nB,KAAM,YACNjR,KAAM,SACR,EACA,CACE24B,aAAc,UACd1nB,KAAM,KACNjR,KAAM,SACR,EACA,CACE24B,aAAc,UACd1nB,KAAM,SACNjR,KAAM,SACR,EACD,CACDiR,KAAM,OACN8nB,QAAS,CACP,CACEJ,aAAc,UACd1nB,KAAM,YACNjR,KAAM,SACR,EACD,CACD44B,gBAAiB,aACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,EAAE,CACVznB,KAAM,QACN8nB,QAAS,CACP,CACEJ,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACD44B,gBAAiB,OACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,EAAE,CACVznB,KAAM,QACN8nB,QAAS,EAAE,CACXH,gBAAiB,aACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,EAAE,CACVznB,KAAM,SACN8nB,QAAS,CACP,CACEJ,aAAc,OACd1nB,KAAM,GACNjR,KAAM,MACR,EACD,CACD44B,gBAAiB,OACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,EAAE,CACVznB,KAAM,SACN8nB,QAAS,CACP,CACEJ,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACD44B,gBAAiB,OACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,EAAE,CACVznB,KAAM,eACN8nB,QAAS,CACP,CACEJ,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACD44B,gBAAiB,OACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACDiR,KAAM,4BACN8nB,QAAS,CACP,CACEJ,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACD44B,gBAAiB,OACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,EAAE,CACVznB,KAAM,4BACN8nB,QAAS,EAAE,CACXH,gBAAiB,aACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,aAAc,kBACd1nB,KAAM,gBACNjR,KAAM,SACR,EACA,CACE24B,aAAc,UACd1nB,KAAM,KACNjR,KAAM,SACR,EACA,CACE24B,aAAc,UACd1nB,KAAM,SACNjR,KAAM,SACR,EACD,CACDiR,KAAM,cACN8nB,QAAS,EAAE,CACXH,gBAAiB,aACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,EAAE,CACVznB,KAAM,UACN8nB,QAAS,CACP,CACEJ,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACD44B,gBAAiB,OACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,aAAc,UACd1nB,KAAM,aACNjR,KAAM,SACR,EACA,CACE24B,aAAc,UACd1nB,KAAM,sBACNjR,KAAM,SACR,EACD,CACDiR,KAAM,6BACN8nB,QAAS,EAAE,CACXH,gBAAiB,aACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,aAAc,UACd1nB,KAAM,qBACNjR,KAAM,SACR,EACD,CACDiR,KAAM,qBACN8nB,QAAS,EAAE,CACXH,gBAAiB,aACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,EAAE,CACVznB,KAAM,kBACN8nB,QAAS,CACP,CACEJ,aAAc,UACd1nB,KAAM,GACNjR,KAAM,SACR,EACD,CACD44B,gBAAiB,OACjB54B,KAAM,UACR,EACA,CACE04B,OAAQ,CACN,CACEC,a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","sources":["webpack://_N_E/./public/images/arbinaut-fixing-spaceship.webp","webpack://_N_E/./src/components/common/Button.tsx","webpack://_N_E/./src/components/common/Dialog.tsx","webpack://_N_E/./src/components/App/WelcomeDialog.tsx","webpack://_N_E/./src/components/App/BlockedDialog.tsx","webpack://_N_E/./src/components/App/AppContext.tsx","webpack://_N_E/./src/hooks/arbTokenBridge.types.ts","webpack://_N_E/./src/hooks/useTransactions.ts","webpack://_N_E/./src/hooks/useChainId.ts","webpack://_N_E/./src/hooks/useBalance.ts","webpack://_N_E/./src/util/CommonAddressUtils.ts","webpack://_N_E/./src/defaults.ts","webpack://_N_E/./src/util/TokenUtils.ts","webpack://_N_E/./src/util/L2NativeUtils.ts","webpack://_N_E/./src/hooks/useIsConnectedToOrbitChain.ts","webpack://_N_E/./src/hooks/useIsConnectedToArbitrum.ts","webpack://_N_E/./src/util/wagmi/wagmiAdditionalNetworks.ts","webpack://_N_E/./src/util/wagmi/getWagmiChain.ts","webpack://_N_E/./src/types/ChainQueryParam.ts","webpack://_N_E/./src/hooks/useArbQueryParams.tsx","webpack://_N_E/./src/util/AnalyticsUtils.ts","webpack://_N_E/./src/hooks/useNetworksAndSigners.tsx","webpack://_N_E/./src/hooks/CCTP/useUpdateUSDCBalances.ts","webpack://_N_E/./src/hooks/useNativeCurrency.ts","webpack://_N_E/./src/hooks/useArbTokenBridge.ts","webpack://_N_E/./src/state/app/utils.ts","webpack://_N_E/./src/state/app/state.ts","webpack://_N_E/./src/state/app/actions.ts","webpack://_N_E/./src/state/app/index.ts","webpack://_N_E/./src/state/index.ts","webpack://_N_E/./src/components/common/Alert.tsx","webpack://_N_E/./src/components/TransferPanel/TokenDepositCheckDialog.tsx","webpack://_N_E/./src/hooks/useERC20L1Address.ts","webpack://_N_E/./src/components/common/SafeImage.tsx","webpack://_N_E/./public/images/grumpy-cat.webp","webpack://_N_E/./public/images/lists/arbitrum.svg","webpack://_N_E/./public/images/lists/uniswap.png","webpack://_N_E/./public/images/lists/gemini.png","webpack://_N_E/./public/images/lists/cmc.png","webpack://_N_E/./public/images/lists/ArbitrumFoundation.png","webpack://_N_E/./src/util/TokenListUtils.ts","webpack://_N_E/./src/hooks/useTokenLists.ts","webpack://_N_E/./src/components/TransferPanel/TokenSearchUtils.ts","webpack://_N_E/./src/components/TransferPanel/TokenImportDialog.tsx","webpack://_N_E/./src/components/common/Checkbox.tsx","webpack://_N_E/./src/hooks/useETHPrice.ts","webpack://_N_E/./src/util/NumberUtils.ts","webpack://_N_E/./src/hooks/useGasPrice.ts","webpack://_N_E/./src/util/cctp/MessageTransmitterAbi.ts","webpack://_N_E/./src/util/cctp/TokenMessengerAbi.ts","webpack://_N_E/./src/pages/api/cctp/[type].ts","webpack://_N_E/./src/hooks/CCTP/useCCTP.ts","webpack://_N_E/./src/util/TokenApprovalUtils.ts","webpack://_N_E/./src/hooks/useChainLayers.ts","webpack://_N_E/./src/util/CommonUtils.ts","webpack://_N_E/./src/components/TransferPanel/TokenApprovalDialog.tsx","webpack://_N_E/./src/components/common/Tab.tsx","webpack://_N_E/./src/components/common/BridgesTable.tsx","webpack://_N_E/./public/images/bridge/hop.png","webpack://_N_E/./public/images/bridge/celer.png","webpack://_N_E/./public/images/bridge/connext.png","webpack://_N_E/./public/images/bridge/across.png","webpack://_N_E/./public/images/bridge/stargate.png","webpack://_N_E/./public/images/bridge/synapse.png","webpack://_N_E/./public/images/bridge/wormhole.svg","webpack://_N_E/./public/images/bridge/lifi.webp","webpack://_N_E/./public/images/bridge/router.webp","webpack://_N_E/./src/util/fastBridges.ts","webpack://_N_E/./src/components/TransferPanel/WithdrawalConfirmationDialog.tsx","webpack://_N_E/./src/components/TransferPanel/DepositConfirmationDialog.tsx","webpack://_N_E/./src/components/common/Tooltip.tsx","webpack://_N_E/./src/hooks/useDebouncedValue.ts","webpack://_N_E/./src/util/TokenDepositUtils.ts","webpack://_N_E/./src/util/EthDepositUtils.ts","webpack://_N_E/./src/util/TokenWithdrawalUtils.ts","webpack://_N_E/./src/util/EthWithdrawalUtils.ts","webpack://_N_E/./src/components/TransferPanel/TransferPanelSummary.tsx","webpack://_N_E/./src/util/AddressUtils.ts","webpack://_N_E/./src/hooks/useAccountType.ts","webpack://_N_E/./src/components/TransferPanel/AdvancedSettings.tsx","webpack://_N_E/./src/components/common/StatusBadge.tsx","webpack://_N_E/./src/components/TransferPanel/TokenRow.tsx","webpack://_N_E/./src/components/TransferPanel/TokenSearch.tsx","webpack://_N_E/./src/components/TransferPanel/TokenButton.tsx","webpack://_N_E/./src/components/TransferPanel/TransferPanelMainInput.tsx","webpack://_N_E/./src/components/TransferPanel/TransferPanelMainUtils.ts","webpack://_N_E/./src/util/isUserRejectedError.ts","webpack://_N_E/./src/hooks/useSwitchNetworkWithConfig.tsx","webpack://_N_E/./src/components/TransferPanel/NetworkListbox.tsx","webpack://_N_E/./src/components/TransferPanel/OneNovaTransferDialog.tsx","webpack://_N_E/./src/components/TransferPanel/useTransferReadinessUtils.ts","webpack://_N_E/./src/components/TransferPanel/TransferPanelMain.tsx","webpack://_N_E/./src/util/L2ApprovalUtils.ts","webpack://_N_E/./src/components/TransferPanel/USDCDeposit/USDCDepositConfirmationDialogCheckbox.tsx","webpack://_N_E/./src/hooks/CCTP/useCCTPIsBlocked.ts","webpack://_N_E/./src/components/TransferPanel/CctpTabContent.tsx","webpack://_N_E/./src/components/TransferPanel/USDCDeposit/USDCDepositConfirmationDialog.tsx","webpack://_N_E/./src/components/TransferPanel/USDCWithdrawal/USDCWithdrawalConfirmationDialogCheckbox.tsx","webpack://_N_E/./src/components/TransferPanel/USDCWithdrawal/USDCWithdrawalConfirmationDialog.tsx","webpack://_N_E/./src/components/TransferPanel/CustomFeeTokenUtils.ts","webpack://_N_E/./src/components/TransferPanel/CustomFeeTokenApprovalDialog.tsx","webpack://_N_E/./src/util/cctp/FiatTokenProxyAbi.ts","webpack://_N_E/./src/util/cctp/TokenMinterAbi.ts","webpack://_N_E/./src/hooks/CCTP/fetchCCTPLimits.ts","webpack://_N_E/./src/util/cctp/fetchCCTP.ts","webpack://_N_E/./src/util/cctp/getAttestationHashAndMessageFromReceipt.ts","webpack://_N_E/./src/state/cctpState.ts","webpack://_N_E/./src/hooks/TransferPanel/useStyles.ts","webpack://_N_E/./src/components/TransferPanel/TransferPanelUtils.ts","webpack://_N_E/./src/hooks/TransferPanel/useImportTokenModal.ts","webpack://_N_E/./src/hooks/TransferPanel/useSummaryVisibility.ts","webpack://_N_E/./src/util/WithdrawOnlyUtils.ts","webpack://_N_E/./src/util/TokenTransferDisabledUtils.ts","webpack://_N_E/./src/components/TransferPanel/useTransferReadiness.ts","webpack://_N_E/./src/components/TransferPanel/TransferPanel.tsx","webpack://_N_E/./src/util/RetryableUtils.ts","webpack://_N_E/./src/hooks/useRedeemRetryable.ts","webpack://_N_E/./src/components/common/DepositCountdown.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/TransactionsTableCustomAddressLabel.tsx","webpack://_N_E/./src/hooks/useClaimWithdrawal.ts","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/TransactionsTableRowAction.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/TransactionsTableDepositRow.tsx","webpack://_N_E/./src/components/common/WithdrawalCountdown.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/TransactionsTableClaimableRow.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/NoDataOverlay.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/TableBodyLoading.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/TableBodyError.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/TableActionHeader.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/TransactionsTable.tsx","webpack://_N_E/./src/components/TransferPanel/DepositCardPending.tsx","webpack://_N_E/./src/components/TransferPanel/DepositCardL1Failure.tsx","webpack://_N_E/./src/components/TransferPanel/DepositCardCreationFailure.tsx","webpack://_N_E/./src/components/TransferPanel/DepositCardL2Failure.tsx","webpack://_N_E/./src/components/TransferPanel/DepositCard.tsx","webpack://_N_E/./src/components/TransferPanel/ClaimableCardConfirmed.tsx","webpack://_N_E/./src/components/TransferPanel/ClaimableCardUnconfirmed.tsx","webpack://_N_E/./src/components/TransferPanel/WithdrawalCard.tsx","webpack://_N_E/./src/components/TransactionHistory/PendingDepositWarning.tsx","webpack://_N_E/./src/components/TransactionHistory/PendingTransactions.tsx","webpack://_N_E/./src/components/TransactionHistory/FailedTransactionsWarning.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/TransactionsTableSwitch.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionsTable/TransactionsTableCctp.tsx","webpack://_N_E/./src/components/TransactionHistory/CustomMessageWarning.tsx","webpack://_N_E/./src/components/TransactionHistory/TransactionHistory.tsx","webpack://_N_E/./src/components/common/SidePanel.tsx","webpack://_N_E/./src/util/deposits/fetchDepositsFromSubgraph.ts","webpack://_N_E/./src/util/SubgraphUtils.ts","webpack://_N_E/./src/util/deposits/fetchDeposits.ts","webpack://_N_E/./src/util/deposits/helpers.ts","webpack://_N_E/./src/hooks/useDeposits.ts","webpack://_N_E/./src/util/withdrawals/fetchETHWithdrawalsFromEventLogs.ts","webpack://_N_E/./src/util/withdrawals/helpers.ts","webpack://_N_E/./src/util/withdrawals/fetchWithdrawalsFromSubgraph.ts","webpack://_N_E/./src/util/withdrawals/fetchTokenWithdrawalsFromEventLogs.ts","webpack://_N_E/./src/util/fetchL2Gateways.ts","webpack://_N_E/./src/util/withdrawals/fetchWithdrawals.ts","webpack://_N_E/./src/hooks/useWithdrawals.ts","webpack://_N_E/./src/components/TransactionHistory/TransactionStatusInfo.tsx","webpack://_N_E/./src/hooks/useNetworkTPS.ts","webpack://_N_E/./src/components/MainContent/ArbitrumStats.tsx","webpack://_N_E/./src/hooks/useTheme.ts","webpack://_N_E/./src/components/common/AddCustomChain.tsx","webpack://_N_E/./src/components/common/atoms/Radio.tsx","webpack://_N_E/./src/components/common/atoms/Switch.tsx","webpack://_N_E/./src/components/common/SettingsDialog.tsx","webpack://_N_E/./src/components/MainContent/MainContent.tsx","webpack://_N_E/./src/components/syncers/ArbTokenBridgeStoreSync.tsx","webpack://_N_E/./src/components/syncers/BalanceUpdater.tsx","webpack://_N_E/./src/components/common/Hooks.tsx","webpack://_N_E/./src/components/syncers/PendingTransactionsUpdater.tsx","webpack://_N_E/./src/components/syncers/RetryableTxnsIncluder.tsx","webpack://_N_E/./src/components/syncers/TokenListSyncer.tsx","webpack://_N_E/./src/components/common/HeaderNetworkLoadingIndicator.tsx","webpack://_N_E/./src/components/common/HeaderNetworkInformation.tsx","webpack://_N_E/./src/components/common/HeaderAccountPopover.tsx","webpack://_N_E/./src/components/common/NetworkSelectionContainer.tsx","webpack://_N_E/./src/components/common/HeaderConnectWalletButton.tsx","webpack://_N_E/./src/components/common/Notifications.tsx","webpack://_N_E/./src/components/common/MainNetworkNotSupported.tsx","webpack://_N_E/./src/components/common/HeaderNetworkNotSupported.tsx","webpack://_N_E/./src/util/wagmi/setup.ts","webpack://_N_E/./src/hooks/useAccountIsBlocked.ts","webpack://_N_E/./src/components/App/App.tsx","webpack://_N_E/ignored|/Users/ryan/Dev/arbitrum-token-bridge/node_modules/@unstoppabledomains/resolution/node_modules/bn.js/lib|buffer","webpack://_N_E/ignored|/Users/ryan/Dev/arbitrum-token-bridge/node_modules/brorand|crypto","webpack://_N_E/ignored|/Users/ryan/Dev/arbitrum-token-bridge/node_modules/crypto-js|crypto","webpack://_N_E/ignored|/Users/ryan/Dev/arbitrum-token-bridge/node_modules/elliptic/node_modules/bn.js/lib|buffer","webpack://_N_E/<anon>"],"sourcesContent":["export default {\"src\":\"/_next/static/media/arbinaut-fixing-spaceship.dafe6a86.webp\",\"height\":1402,\"width\":934,\"blurDataURL\":\"data:image/webp;base64,UklGRpAAAABXRUJQVlA4WAoAAAAQAAAABAAABwAAQUxQSCkAAAAAOhwAAAC4eAMCADP9ZwIBif+wPxqk/7LYbeb/4/KDqPyMZHwACwEBKQBWUDggQAAAAPABAJ0BKgUACAACQDgllAJ0BpN7xsoWWAD+8VVwbUR3RCNvz87ABwyDbuFlO3672k6T+AdH6KL2XS2x3SvBZAA=\",\"blurWidth\":5,\"blurHeight\":8};","import React, { forwardRef } from 'react'\nimport { twMerge } from 'tailwind-merge'\nimport { Loader, LoaderProps } from './atoms/Loader'\n\ntype ButtonVariant = 'primary' | 'secondary'\n\nfunction getClassNameForVariant(variant: ButtonVariant) {\n  switch (variant) {\n    case 'primary':\n      return 'bg-dark text-white'\n\n    case 'secondary':\n      return 'bg-transparent text-dark'\n  }\n}\n\nconst defaultClassName = 'arb-hover w-max rounded-lg px-4 py-3 text-sm'\nconst disabledClassName =\n  'disabled:bg-gray-3 disabled:text-white disabled:cursor-not-allowed'\n\ntype ButtonLoadingProps = Partial<{\n  loaderColor: string\n  loaderSize: LoaderProps['size']\n}>\n\nexport type ButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement> & {\n  variant: ButtonVariant\n  loading?: boolean\n  loadingProps?: ButtonLoadingProps\n  textLeft?: true\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      variant,\n      loading,\n      loadingProps,\n      // eslint-disable-next-line react/prop-types\n      disabled,\n      // eslint-disable-next-line react/prop-types\n      className: customClassName,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const showLoader = loading || false\n\n    return (\n      <button\n        ref={ref}\n        type=\"button\"\n        disabled={disabled}\n        className={twMerge(\n          defaultClassName,\n          disabledClassName,\n          getClassNameForVariant(variant),\n          customClassName\n        )}\n        {...props}\n      >\n        <div\n          className={`flex flex-row items-center justify-${\n            props.textLeft ? 'start' : 'center'\n          } space-x-3`}\n        >\n          {showLoader && (\n            <Loader\n              color={loadingProps?.loaderColor || 'white'}\n              size={loadingProps?.loaderSize || 'small'}\n            />\n          )}\n          <span>{children}</span>\n        </div>\n      </button>\n    )\n  }\n)\n\nButton.displayName = 'Button'\n","import { Dialog as HeadlessUIDialog, Transition } from '@headlessui/react'\nimport { Fragment, useCallback, useRef, useState } from 'react'\nimport { XMarkIcon } from '@heroicons/react/24/outline'\nimport { twMerge } from 'tailwind-merge'\n\nimport { Button, ButtonProps } from './Button'\nimport { getTransitionProps } from './Transition'\n/**\n * Returns a promise which resolves to an array [boolean, unknown] value,\n * `false` if the action was canceled and `true` if it was confirmed.\n * Second index contain any additional information\n */\ntype WaitForInputFunction = () => Promise<[boolean, unknown]>\n\n/**\n * Opens the dialog and returns a function which can be called to retreive a {@link WaitForInputFunction}.\n */\ntype OpenDialogFunction = () => WaitForInputFunction\n\n/**\n * Contains two props, `isOpen` and `onClose`, which should be passed down to a Dialog component.\n */\nexport type UseDialogProps = Pick<DialogProps, 'isOpen' | 'onClose'>\n\n/**\n * Contains additional info about the dialog.\n */\nexport type OtherDialogInfo = { didOpen: boolean }\n\n/**\n * Returns an array containing {@link UseDialogProps} and {@link OpenDialogFunction}.\n */\nexport type UseDialogResult = [\n  UseDialogProps,\n  OpenDialogFunction,\n  OtherDialogInfo\n]\n\n/**\n * Initial parameters for the dialog.\n */\ntype UseDialogParams = {\n  /**\n   * Whether the dialog should be open by default.\n   */\n  defaultIsOpen?: boolean\n}\n\nexport function useDialog(params?: UseDialogParams): UseDialogResult {\n  const resolveRef =\n    useRef<\n      (value: [boolean, unknown] | PromiseLike<[boolean, unknown]>) => void\n    >()\n\n  // Whether the dialog is currently open\n  const [isOpen, setIsOpen] = useState(params?.defaultIsOpen ?? false)\n  // Whether the dialog was ever open\n  const [didOpen, setDidOpen] = useState(params?.defaultIsOpen ?? false)\n\n  const openDialog: OpenDialogFunction = useCallback(() => {\n    setIsOpen(true)\n    setDidOpen(true)\n\n    return () => {\n      return new Promise(resolve => {\n        resolveRef.current = resolve\n      })\n    }\n  }, [])\n\n  const closeDialog = useCallback(\n    (confirmed: boolean, onCloseData?: unknown) => {\n      if (typeof resolveRef.current !== 'undefined') {\n        resolveRef.current([confirmed, onCloseData])\n      }\n\n      setIsOpen(false)\n    },\n    []\n  )\n\n  return [{ isOpen, onClose: closeDialog }, openDialog, { didOpen }]\n}\n\nexport type DialogProps = {\n  isOpen: boolean\n  isCustom?: boolean\n  closeable?: boolean\n  title?: string | JSX.Element\n  initialFocus?: React.MutableRefObject<HTMLElement | null>\n  cancelButtonProps?: Partial<ButtonProps>\n  actionButtonProps?: Partial<ButtonProps>\n  actionButtonTitle?: string\n  onClose: (confirmed: boolean, onCloseData?: unknown) => void\n  className?: string\n  children?: React.ReactNode\n}\n\nexport function Dialog(props: DialogProps) {\n  const isCustom = props.isCustom || false\n  const closeable = props.closeable || false\n  const className = props.className || ''\n  const cancelButtonRef = useRef(null)\n\n  return (\n    <Transition\n      appear\n      show={props.isOpen}\n      as={Fragment}\n      {...getTransitionProps('normal')}\n    >\n      <HeadlessUIDialog\n        static\n        as=\"div\"\n        open={props.isOpen}\n        initialFocus={props.initialFocus || cancelButtonRef}\n        onClose={() => props.onClose(false)}\n        className=\"fixed inset-0 z-50 flex bg-[rgba(0,0,0,0.6)] md:items-center md:justify-center\"\n      >\n        <div\n          className={twMerge(\n            'z-10 max-h-screen w-full overflow-y-auto bg-white md:max-h-[calc(100vh-80px)] md:w-auto md:rounded-xl md:shadow-[0px_4px_12px_#acacac]',\n            className\n          )}\n        >\n          {isCustom ? (\n            props.children\n          ) : (\n            <>\n              <div className=\"flex items-center justify-between px-8 py-4\">\n                <HeadlessUIDialog.Title className=\"text-2xl font-medium\">\n                  {props.title}\n                </HeadlessUIDialog.Title>\n                {closeable && (\n                  <button type=\"button\" onClick={() => props.onClose(false)}>\n                    <XMarkIcon className=\"arb-hover h-5 w-5\" />\n                  </button>\n                )}\n              </div>\n\n              <div className=\"flex-grow px-8 py-4\">{props.children}</div>\n\n              <div className=\"flex flex-row justify-end space-x-2 px-8 py-3 md:rounded-bl-xl md:rounded-br-xl md:bg-gray-2\">\n                <Button\n                  ref={cancelButtonRef}\n                  variant=\"secondary\"\n                  onClick={() => props.onClose(false)}\n                  aria-label=\"Dialog Cancel\"\n                  {...(props.cancelButtonProps || {})}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  variant=\"primary\"\n                  onClick={() => props.onClose(true)}\n                  {...(props.actionButtonProps || {})}\n                  aria-label={props.actionButtonTitle || 'Dialog Continue'}\n                >\n                  {props.actionButtonTitle || 'Continue'}\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </HeadlessUIDialog>\n    </Transition>\n  )\n}\n","import { useRef } from 'react'\nimport { Dialog as HeadlessUIDialog } from '@headlessui/react'\nimport Image from 'next/image'\nimport { useConnectModal } from '@rainbow-me/rainbowkit'\nimport * as Sentry from '@sentry/react'\n\nimport { Button } from '../common/Button'\nimport { ExternalLink } from '../common/ExternalLink'\nimport { Dialog, UseDialogProps } from '../common/Dialog'\nimport { errorToast } from '../common/atoms/Toast'\n\nexport function WelcomeDialog(props: UseDialogProps) {\n  const confirmButtonRef = useRef(null)\n  const { openConnectModal } = useConnectModal()\n\n  const closeHandler = () => {\n    props.onClose(true)\n\n    try {\n      openConnectModal?.()\n    } catch (error) {\n      errorToast('Failed to open up RainbowKit Connect Modal')\n      Sentry.captureException(error)\n    }\n  }\n\n  return (\n    <Dialog\n      {...props}\n      initialFocus={confirmButtonRef}\n      isCustom\n      className=\"mx-auto my-3 flex max-w-[340px] flex-col rounded-lg px-8 py-4 md:max-w-[600px]\"\n    >\n      <HeadlessUIDialog.Title className=\"text-2xl font-medium\">\n        Welcome\n      </HeadlessUIDialog.Title>\n\n      <div className=\"flex grow flex-col items-center gap-8 md:flex-row md:items-stretch\">\n        <Image\n          src=\"/images/arbinaut-flying.webp\"\n          alt=\"An Astronaut in an Arbitrum space suit\"\n          width={256}\n          height={383}\n          className=\"h-[55vh] max-h-[383px] w-auto\"\n        />\n        <div className=\"flex grow flex-col justify-between font-light\">\n          <p>We will NEVER ask you for your seed phrase or private keys.</p>\n          <div className=\"flex flex-col gap-2\">\n            <p className=\"text-sm\">\n              By clicking the button below, you agree to our{' '}\n              <ExternalLink\n                href=\"https://arbitrum.io/tos\"\n                className=\"arb-hover underline\"\n              >\n                Terms of Service.\n              </ExternalLink>\n            </p>\n\n            <Button\n              ref={confirmButtonRef}\n              variant=\"primary\"\n              className=\"w-full\"\n              onClick={closeHandler}\n            >\n              Agree to terms\n            </Button>\n          </div>\n        </div>\n      </div>\n    </Dialog>\n  )\n}\n","import { Dialog as HeadlessUIDialog } from '@headlessui/react'\nimport { ExclamationCircleIcon } from '@heroicons/react/24/outline'\n\nimport { Dialog, UseDialogProps } from '../common/Dialog'\nimport { ExternalLink } from '../common/ExternalLink'\nimport { GET_HELP_LINK } from '../../constants'\n\nexport function BlockedDialog(props: UseDialogProps & { address: string }) {\n  return (\n    <Dialog {...props} isCustom>\n      <div className=\"px-8 py-8\">\n        <HeadlessUIDialog.Title className=\"flex items-center space-x-2 text-2xl font-medium\">\n          <ExclamationCircleIcon className=\"h-8 w-8\" />\n          <span className=\"uppercase\">This wallet address is blocked</span>\n        </HeadlessUIDialog.Title>\n\n        <div className=\"h-4\" />\n\n        <div className=\"flex flex-col space-y-8 break-words\">\n          <span className=\"text-gray-dark\">{props.address.toLowerCase()}</span>\n          <span>This address is affiliated with a blocked activity.</span>\n          <span>\n            If you think this was an error, you can request a review by filing a{' '}\n            <ExternalLink href={GET_HELP_LINK} className=\"arb-hover underline\">\n              support ticket\n            </ExternalLink>\n            .\n          </span>\n        </div>\n      </div>\n    </Dialog>\n  )\n}\n","import {\n  createContext,\n  useContext,\n  useReducer,\n  Dispatch,\n  useCallback\n} from 'react'\n\nexport enum TransactionHistoryTab {\n  DEPOSITS = 0,\n  WITHDRAWALS = 1,\n  CCTP = 2\n}\ntype AppContextState = {\n  layout: {\n    isTransferPanelVisible: boolean\n    isTransferring: boolean\n    isTransactionHistoryPanelVisible: boolean\n    isTransactionHistoryShowingCctpDeposits: boolean\n    transactionHistorySelectedTab: TransactionHistoryTab\n  }\n}\n\nconst initialState: AppContextState = {\n  layout: {\n    isTransferPanelVisible: true,\n    isTransferring: false,\n    isTransactionHistoryPanelVisible: false,\n    isTransactionHistoryShowingCctpDeposits: true,\n    transactionHistorySelectedTab: TransactionHistoryTab.DEPOSITS\n  }\n}\n\ntype AppContextValue = [AppContextState, Dispatch<Action>]\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst AppContext = createContext<AppContextValue>([initialState, () => {}])\n\ntype Action =\n  | { type: 'layout.set_is_transfer_panel_visible'; payload: boolean }\n  | { type: 'layout.set_is_transferring'; payload: boolean }\n  | { type: 'layout.set_txhistory_panel_visible'; payload: boolean }\n  | { type: 'layout.set_txhistory_show_cctp_deposits'; payload: boolean }\n  | { type: 'layout.set_txhistory_tab'; payload: TransactionHistoryTab }\n\nfunction reducer(state: AppContextState, action: Action) {\n  switch (action.type) {\n    case 'layout.set_is_transfer_panel_visible':\n      return {\n        ...state,\n        layout: { ...state.layout, isTransferPanelVisible: action.payload }\n      }\n\n    case 'layout.set_txhistory_panel_visible':\n      return {\n        ...state,\n        layout: {\n          ...state.layout,\n          isTransactionHistoryPanelVisible: action.payload\n        }\n      }\n\n    case 'layout.set_txhistory_show_cctp_deposits':\n      return {\n        ...state,\n        layout: {\n          ...state.layout,\n          isTransactionHistoryShowingCctpDeposits: action.payload\n        }\n      }\n\n    case 'layout.set_is_transferring':\n      return {\n        ...state,\n        layout: { ...state.layout, isTransferring: action.payload }\n      }\n\n    case 'layout.set_txhistory_tab':\n      return {\n        ...state,\n        layout: {\n          ...state.layout,\n          transactionHistorySelectedTab: action.payload\n        }\n      }\n\n    default:\n      return state\n  }\n}\n\nexport function AppContextProvider({\n  children\n}: {\n  children: React.ReactNode\n}) {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  return (\n    <AppContext.Provider value={[state, dispatch]}>\n      {children}\n    </AppContext.Provider>\n  )\n}\n\nexport function useAppContextState(): AppContextState {\n  const [state] = useContext(AppContext)\n  return state\n}\n\n// exports actions in a more readable and succinct format\n// deprecates the direct use of `dispatch` in code, unless trying to override\nexport const useAppContextActions = (dispatchOverride?: Dispatch<Action>) => {\n  const [, dispatchContext] = useContext(AppContext)\n  const dispatch = dispatchOverride ?? dispatchContext\n\n  const setTransferring = (payload: boolean) => {\n    dispatch({ type: 'layout.set_is_transferring', payload })\n  }\n\n  const openTransactionHistoryPanel = () => {\n    dispatch({ type: 'layout.set_txhistory_panel_visible', payload: true })\n  }\n\n  const showCctpDepositsTransactions = useCallback(() => {\n    dispatch({ type: 'layout.set_txhistory_show_cctp_deposits', payload: true })\n  }, [dispatch])\n\n  const showCctpWithdrawalsTransactions = useCallback(() => {\n    dispatch({\n      type: 'layout.set_txhistory_show_cctp_deposits',\n      payload: false\n    })\n  }, [dispatch])\n\n  const closeTransactionHistoryPanel = () => {\n    dispatch({ type: 'layout.set_txhistory_panel_visible', payload: false })\n  }\n\n  const setTransactionHistoryTab = useCallback(\n    (payload: TransactionHistoryTab) => {\n      dispatch({ type: 'layout.set_txhistory_tab', payload })\n    },\n    [dispatch]\n  )\n\n  return {\n    setTransferring,\n    openTransactionHistoryPanel,\n    closeTransactionHistoryPanel,\n    showCctpDepositsTransactions,\n    showCctpWithdrawalsTransactions,\n    setTransactionHistoryTab\n  }\n}\n","import { Signer } from '@ethersproject/abstract-signer'\nimport { TransactionReceipt } from '@ethersproject/abstract-provider'\nimport { BigNumber, ContractReceipt, ethers } from 'ethers'\nimport { TokenList } from '@uniswap/token-lists'\nimport {\n  L1ToL2MessageStatus,\n  L2ToL1MessageStatus as OutgoingMessageState\n} from '@arbitrum/sdk'\nimport {\n  EthDepositMessage,\n  L1ToL2MessageReader,\n  L1ToL2MessageReaderClassic\n} from '@arbitrum/sdk/dist/lib/message/L1ToL2Message'\nimport { StandardArbERC20 } from '@arbitrum/sdk/dist/lib/abi/StandardArbERC20'\nimport { WithdrawalInitiatedEvent } from '@arbitrum/sdk/dist/lib/abi/L2ArbitrumGateway'\nimport { L2ToL1TransactionEvent } from '@arbitrum/sdk/dist/lib/message/L2ToL1Message'\nimport { EventArgs } from '@arbitrum/sdk/dist/lib/dataEntities/event'\n\nimport {\n  L1EthDepositTransaction,\n  L1EthDepositTransactionReceipt,\n  L1ContractCallTransaction,\n  L1ContractCallTransactionReceipt\n} from '@arbitrum/sdk/dist/lib/message/L1Transaction'\nimport {\n  L2ContractTransaction,\n  L2TransactionReceipt\n} from '@arbitrum/sdk/dist/lib/message/L2Transaction'\n\nimport {\n  FailedTransaction,\n  NewTransaction,\n  Transaction,\n  L1ToL2MessageData\n} from './useTransactions'\n\nexport { OutgoingMessageState }\n\nexport enum TokenType {\n  ERC20 = 'ERC20'\n}\n\nexport enum AssetType {\n  ERC20 = 'ERC20',\n  ETH = 'ETH'\n}\n\nexport type TransactionLifecycle<Tx, TxReceipt> = Partial<{\n  onTxSubmit: (tx: Tx) => void\n  onTxConfirm: (txReceipt: TxReceipt) => void\n  onTxError: (error: any) => void\n}>\n\nexport type L1EthDepositTransactionLifecycle = TransactionLifecycle<\n  L1EthDepositTransaction,\n  L1EthDepositTransactionReceipt\n>\n\nexport type L1ContractCallTransactionLifecycle = TransactionLifecycle<\n  L1ContractCallTransaction,\n  L1ContractCallTransactionReceipt\n>\n\nexport type L2ContractCallTransactionLifecycle = TransactionLifecycle<\n  L2ContractTransaction,\n  L2TransactionReceipt\n>\n\nexport enum NodeBlockDeadlineStatusTypes {\n  NODE_NOT_CREATED,\n  EXECUTE_CALL_EXCEPTION\n}\n\nexport type NodeBlockDeadlineStatus =\n  | number\n  | NodeBlockDeadlineStatusTypes.NODE_NOT_CREATED\n  | NodeBlockDeadlineStatusTypes.EXECUTE_CALL_EXCEPTION\n\nexport type L2ToL1EventResult = L2ToL1TransactionEvent\n\nexport type L2ToL1EventResultPlus = L2ToL1EventResult & {\n  sender?: string\n  destinationAddress?: string\n  l2TxHash?: string\n  type: AssetType\n  value: BigNumber\n  tokenAddress?: string\n  outgoingMessageState: OutgoingMessageState\n  symbol: string\n  decimals: number\n  nodeBlockDeadline?: NodeBlockDeadlineStatus\n  chainId?: number\n  parentChainId?: number\n}\n\nexport type WithdrawalInitiated = EventArgs<WithdrawalInitiatedEvent> & {\n  txHash: string\n  timestamp?: BigNumber\n}\n\nexport interface PendingWithdrawalsMap {\n  [id: string]: L2ToL1EventResultPlus\n}\nexport interface BridgeToken {\n  type: TokenType\n  name: string\n  symbol: string\n  address: string\n  l2Address?: string\n  logoURI?: string\n  listIds: Set<number> // no listID indicates added by user\n  isL2Native?: boolean\n}\n\nexport interface ERC20BridgeToken extends BridgeToken {\n  type: TokenType.ERC20\n  decimals: number\n}\n\nexport interface L2TokenData {\n  balance: BigNumber\n  contract: StandardArbERC20\n}\n\nexport interface ContractStorage<T> {\n  [contractAddress: string]: T | undefined\n}\nexport interface BridgeBalance {\n  balance: BigNumber | null\n\n  arbChainBalance: BigNumber | null\n}\n\n// removing 'tokens' / 'balance' could result in one interface\nexport interface AddressToSymbol {\n  [tokenAddress: string]: string\n}\nexport interface AddressToDecimals {\n  [tokenAddress: string]: number\n}\n\nexport type GasEstimates = {\n  estimatedL1Gas: BigNumber\n  estimatedL2Gas: BigNumber\n}\n\nexport type DepositGasEstimates = GasEstimates & {\n  estimatedL2SubmissionCost: BigNumber\n}\n\nexport interface ArbTokenBridgeEth {\n  deposit: (params: {\n    amount: BigNumber\n    l1Signer: Signer\n    txLifecycle?: L1EthDepositTransactionLifecycle\n  }) => Promise<void | ContractReceipt>\n  withdraw: (params: {\n    amount: BigNumber\n    l2Signer: Signer\n    txLifecycle?: L2ContractCallTransactionLifecycle\n  }) => Promise<void | ContractReceipt>\n  triggerOutbox: (params: {\n    id: string\n    l1Signer: Signer\n  }) => Promise<void | ContractReceipt>\n}\n\nexport interface ArbTokenBridgeToken {\n  add: (erc20L1orL2Address: string) => Promise<void>\n  addL2NativeToken: (erc20L2Address: string) => void\n  addTokensFromList: (tokenList: TokenList, listID: number) => void\n  removeTokensFromList: (listID: number) => void\n  updateTokenData: (l1Address: string) => Promise<void>\n  approve: (params: {\n    erc20L1Address: string\n    l1Signer: Signer\n  }) => Promise<void>\n  approveL2: (params: {\n    erc20L1Address: string\n    l2Signer: Signer\n  }) => Promise<void>\n  deposit: (params: {\n    erc20L1Address: string\n    amount: BigNumber\n    l1Signer: Signer\n    txLifecycle?: L1ContractCallTransactionLifecycle\n    destinationAddress?: string\n  }) => Promise<void | ContractReceipt>\n  withdraw: (params: {\n    erc20L1Address: string\n    amount: BigNumber\n    l2Signer: Signer\n    txLifecycle?: L2ContractCallTransactionLifecycle\n    destinationAddress?: string\n  }) => Promise<void | ContractReceipt>\n  triggerOutbox: (params: {\n    id: string\n    l1Signer: Signer\n  }) => Promise<void | ContractReceipt>\n}\n\nexport interface TransactionActions {\n  addFailedTransaction: (transaction: FailedTransaction) => void\n\n  setDepositsInStore: (transactions: Transaction[]) => void\n  setTransactionSuccess: (txID: string) => void\n  setTransactionFailure: (txID?: string) => void\n  removeTransaction: (txID: string) => void\n\n  addTransaction: (transaction: NewTransaction) => void\n  addTransactions: (transactions: Transaction[]) => void\n  clearPendingTransactions: () => void\n  setTransactionConfirmed: (txID: string) => void\n  updateTransaction: (\n    txReceipt: TransactionReceipt,\n    tx?: ethers.ContractTransaction,\n    l1ToL2MsgData?: L1ToL2MessageData\n  ) => void\n  fetchAndUpdateL1ToL2MsgStatus: (\n    txID: string,\n    l1ToL2Msg: L1ToL2MessageReader,\n    isEthDeposit: boolean,\n    status: L1ToL2MessageStatus\n  ) => void\n  fetchAndUpdateL1ToL2MsgClassicStatus: (\n    txID: string,\n    l1ToL2Msg: L1ToL2MessageReaderClassic,\n    isEthDeposit: boolean,\n    status: L1ToL2MessageStatus\n  ) => void\n  fetchAndUpdateEthDepositMessageStatus: (\n    txID: string,\n    ethDepositMessage: EthDepositMessage\n  ) => void\n}\n\nexport type ArbTokenBridgeTransactions = {\n  transactions: Transaction[]\n} & Pick<\n  TransactionActions,\n  | 'addTransaction'\n  | 'clearPendingTransactions'\n  | 'setTransactionConfirmed'\n  | 'updateTransaction'\n  | 'addTransactions'\n  | 'fetchAndUpdateL1ToL2MsgStatus'\n  | 'fetchAndUpdateL1ToL2MsgClassicStatus'\n  | 'fetchAndUpdateEthDepositMessageStatus'\n  | 'setDepositsInStore'\n>\n\nexport interface ArbTokenBridge {\n  bridgeTokens: ContractStorage<ERC20BridgeToken> | undefined\n  eth: ArbTokenBridgeEth\n  token: ArbTokenBridgeToken\n  transactions: ArbTokenBridgeTransactions\n  pendingWithdrawalsMap: PendingWithdrawalsMap\n  setWithdrawalsInStore: (txns: L2ToL1EventResultPlus[]) => void\n}\n","import { useReducer, useEffect, useMemo } from 'react'\nimport { TransactionReceipt } from '@ethersproject/abstract-provider'\nimport { AssetType, TransactionActions } from './arbTokenBridge.types'\nimport { BigNumber, ethers } from 'ethers'\nimport { L1ToL2MessageStatus } from '@arbitrum/sdk'\nimport {\n  EthDepositMessage,\n  EthDepositStatus,\n  L1ToL2MessageReader,\n  L1ToL2MessageReaderClassic\n} from '@arbitrum/sdk/dist/lib/message/L1ToL2Message'\n\ntype Action =\n  | { type: 'ADD_TRANSACTION'; transaction: Transaction }\n  | { type: 'SET_SUCCESS'; txID: string }\n  | { type: 'SET_FAILURE'; txID: string }\n  | { type: 'SET_INITIAL_TRANSACTIONS'; transactions: Transaction[] }\n  | { type: 'CLEAR_PENDING' }\n  | { type: 'CONFIRM_TRANSACTION'; txID: string }\n  | { type: 'REMOVE_TRANSACTION'; txID: string }\n  | { type: 'SET_BLOCK_NUMBER'; txID: string; blockNumber?: number }\n  | { type: 'SET_RESOLVED_TIMESTAMP'; txID: string; timestamp?: string }\n  | { type: 'ADD_TRANSACTIONS'; transactions: Transaction[] }\n  | {\n      type: 'UPDATE_L1TOL2MSG_DATA'\n      txID: string\n      l1ToL2MsgData: L1ToL2MessageData\n    }\n  | { type: 'SET_TRANSACTIONS'; transactions: Transaction[] }\n\nexport type TxnStatus = 'pending' | 'success' | 'failure' | 'confirmed'\n\n/** @interface\n * Transaction\n * @alias Transaction\n * @description Bridge transaction data with up to date status.\n */\nexport type TxnType =\n  | 'deposit'\n  | 'deposit-l1'\n  | 'deposit-l2' // unused; keeping for cache backwrads compatability\n  | 'withdraw'\n  | 'outbox'\n  | 'approve'\n  | 'deposit-l2-auto-redeem' // unused; keeping for cache backwrads compatability\n  | 'deposit-l2-ticket-created' // unused; keeping for cache backwrads compatability\n  | 'approve-l2'\n\nconst deprecatedTxTypes: Set<TxnType> = new Set([\n  'deposit-l2-auto-redeem',\n  'deposit-l2-ticket-created',\n  'deposit-l2'\n])\n\nexport const txnTypeToLayer = (txnType: TxnType): 1 | 2 => {\n  switch (txnType) {\n    case 'deposit':\n    case 'deposit-l1':\n    case 'outbox':\n    case 'approve':\n      return 1\n    case 'deposit-l2':\n    case 'withdraw':\n    case 'deposit-l2-auto-redeem':\n    case 'deposit-l2-ticket-created':\n    case 'approve-l2':\n      return 2\n  }\n}\n\nexport interface L1ToL2MessageData {\n  status: L1ToL2MessageStatus\n  retryableCreationTxID: string\n  l2TxID?: string\n  fetchingUpdate: boolean\n}\n\nexport type L2ToL1MessageData = {\n  uniqueId: BigNumber\n}\n\ntype TransactionBase = {\n  type: TxnType\n  status: TxnStatus\n  value: string | null\n  txID?: string\n  assetName: string\n  assetType: AssetType\n  tokenAddress?: string\n  sender: string\n  destination?: string\n  blockNumber?: number\n  l1NetworkID: string\n  l2NetworkID?: string\n  timestampResolved?: string // time when its status was changed\n  timestampCreated?: string //time when this transaction is first added to the list\n  l1ToL2MsgData?: L1ToL2MessageData\n  l2ToL1MsgData?: L2ToL1MessageData\n  isClassic?: boolean\n}\n\nexport interface Transaction extends TransactionBase {\n  txID: string\n}\n\nexport interface NewTransaction extends TransactionBase {\n  status: 'pending'\n}\n\nexport interface FailedTransaction extends TransactionBase {\n  status: 'failure'\n}\n\n// TODO: enforce this type restriction\nexport interface DepositTransaction extends Transaction {\n  l1ToL2MsgData: L1ToL2MessageData\n  type: 'deposit' | 'deposit-l1'\n}\n\nfunction updateStatus(state: Transaction[], status: TxnStatus, txID: string) {\n  const newState = [...state]\n  const index = newState.findIndex(txn => txn.txID === txID)\n  const transaction = newState[index]\n\n  if (!transaction) {\n    console.warn('transaction not found', txID)\n    return state\n  }\n\n  newState[index] = {\n    ...transaction,\n    status\n  }\n  return newState\n}\n\nfunction updateBlockNumber(\n  state: Transaction[],\n  txID: string,\n  blockNumber?: number\n) {\n  const newState = [...state]\n  const index = newState.findIndex(txn => txn.txID === txID)\n  const transaction = newState[index]\n\n  if (!transaction) {\n    console.warn('transaction not found', txID)\n    return state\n  }\n\n  newState[index] = {\n    ...transaction,\n    blockNumber\n  }\n  return newState\n}\n\nfunction updateTxnL1ToL2Msg(\n  state: Transaction[],\n  txID: string,\n  l1ToL2MsgData: L1ToL2MessageData\n) {\n  const newState = [...state]\n  const index = newState.findIndex(txn => txn.txID === txID)\n  const transaction = newState[index]\n\n  if (!transaction) {\n    console.warn('transaction not found', txID)\n    return state\n  }\n\n  if (!(transaction.type === 'deposit' || transaction.type === 'deposit-l1')) {\n    throw new Error(\n      \"Attempting to add a l1tol2msg to a tx that isn't a deposit:\" + txID\n    )\n  }\n\n  const previousL1ToL2MsgData = transaction.l1ToL2MsgData\n  if (!previousL1ToL2MsgData) {\n    newState[index] = {\n      ...transaction,\n      l1ToL2MsgData: {\n        status: l1ToL2MsgData.status,\n        retryableCreationTxID: l1ToL2MsgData.retryableCreationTxID,\n        fetchingUpdate: false\n      }\n    }\n    return newState\n  }\n\n  newState[index] = {\n    ...transaction,\n    l1ToL2MsgData: { ...previousL1ToL2MsgData, ...l1ToL2MsgData }\n  }\n  return newState\n}\n\nfunction updateResolvedTimestamp(\n  state: Transaction[],\n  txID: string,\n  timestamp?: string\n) {\n  const newState = [...state]\n  const index = newState.findIndex(txn => txn.txID === txID)\n  const transaction = newState[index]\n\n  if (!transaction) {\n    console.warn('transaction not found', txID)\n    return state\n  }\n\n  newState[index] = {\n    ...transaction,\n    timestampResolved: timestamp\n  }\n\n  return newState\n}\nfunction reducer(state: Transaction[], action: Action) {\n  switch (action.type) {\n    case 'SET_INITIAL_TRANSACTIONS': {\n      // Add l1 to L2 stuff with pending status\n      return [...action.transactions]\n    }\n    case 'ADD_TRANSACTIONS': {\n      // sanity / safety check: ensure no duplicates:\n      const currentTxIds = new Set(state.map(tx => tx.txID))\n      const txsToAdd = action.transactions.filter(tx => {\n        if (!currentTxIds.has(tx.txID)) {\n          return true\n        } else {\n          console.warn(\n            `Warning: trying to add ${tx.txID} which is already included`\n          )\n          return false\n        }\n      })\n      return state.concat(txsToAdd)\n    }\n    case 'ADD_TRANSACTION': {\n      return state.concat(action.transaction)\n    }\n    case 'REMOVE_TRANSACTION': {\n      return state.filter(txn => txn.txID !== action.txID)\n    }\n    case 'SET_SUCCESS': {\n      return updateStatus(state, 'success', action.txID)\n    }\n    case 'SET_FAILURE': {\n      return updateStatus(state, 'failure', action.txID)\n    }\n    case 'CLEAR_PENDING': {\n      return state.filter(txn => txn.status !== 'pending')\n    }\n    case 'CONFIRM_TRANSACTION': {\n      return updateStatus(state, 'confirmed', action.txID)\n    }\n    case 'SET_BLOCK_NUMBER': {\n      return updateBlockNumber(state, action.txID, action.blockNumber)\n    }\n    case 'SET_RESOLVED_TIMESTAMP': {\n      return updateResolvedTimestamp(state, action.txID, action.timestamp)\n    }\n    case 'UPDATE_L1TOL2MSG_DATA': {\n      return updateTxnL1ToL2Msg(state, action.txID, action.l1ToL2MsgData)\n    }\n    case 'SET_TRANSACTIONS': {\n      return action.transactions\n    }\n    default:\n      return state\n  }\n}\n\nconst localStorageReducer = (state: Transaction[], action: Action) => {\n  const newState = reducer(state, action)\n  // don't cache fetchingUpdate state\n  const stateForCache = newState.map(tx => {\n    if (tx.l1ToL2MsgData && tx.l1ToL2MsgData.fetchingUpdate) {\n      return {\n        ...tx,\n        l1ToL2MsgData: {\n          ...tx.l1ToL2MsgData,\n          fetchingUpdate: false\n        }\n      }\n    }\n    return tx\n  })\n  window.localStorage.setItem('arbTransactions', JSON.stringify(stateForCache))\n  return newState\n}\n\nconst useTransactions = (): [Transaction[], TransactionActions] => {\n  const [state, dispatch] = useReducer(localStorageReducer, [])\n\n  useEffect(() => {\n    const cachedTransactions = window.localStorage.getItem('arbTransactions')\n    dispatch({\n      type: 'SET_INITIAL_TRANSACTIONS',\n      transactions: cachedTransactions ? JSON.parse(cachedTransactions) : []\n    })\n  }, [])\n\n  const addTransaction = (transaction: NewTransaction) => {\n    if (!transaction.txID) {\n      console.warn(' Cannot add transaction: TxID not included (???)')\n      return\n    }\n    const tx = {\n      ...transaction,\n      timestampCreated: new Date().toISOString()\n    } as Transaction\n    return dispatch({\n      type: 'ADD_TRANSACTION',\n      transaction: tx\n    })\n  }\n  const addTransactions = (transactions: Transaction[]) => {\n    const timestampedTransactions = transactions.map(txn => {\n      return {\n        ...txn,\n        timestampCreated: new Date().toISOString()\n      }\n    })\n    return dispatch({\n      type: 'ADD_TRANSACTIONS',\n      transactions: timestampedTransactions\n    })\n  }\n  const addFailedTransaction = (transaction: FailedTransaction) => {\n    if (!transaction.txID) {\n      console.warn(' Cannot add transaction: TxID not included (???)')\n      return\n    }\n    const tx = transaction as Transaction\n    return dispatch({\n      type: 'ADD_TRANSACTION',\n      transaction: tx\n    })\n  }\n\n  const updateTxnL1ToL2MsgData = async (\n    txID: string,\n    l1ToL2MsgData: L1ToL2MessageData\n  ) => {\n    dispatch({\n      type: 'UPDATE_L1TOL2MSG_DATA',\n      txID: txID,\n      l1ToL2MsgData\n    })\n  }\n\n  const fetchAndUpdateEthDepositMessageStatus = async (\n    txID: string,\n    ethDepositMessage: EthDepositMessage\n  ) => {\n    updateTxnL1ToL2MsgData(txID, {\n      fetchingUpdate: true,\n      status: L1ToL2MessageStatus.NOT_YET_CREATED,\n      retryableCreationTxID: ethDepositMessage.l2DepositTxHash\n    })\n\n    const status = await ethDepositMessage.status()\n    const isDeposited = status === EthDepositStatus.DEPOSITED\n\n    updateTxnL1ToL2MsgData(txID, {\n      fetchingUpdate: false,\n      status: isDeposited\n        ? L1ToL2MessageStatus.FUNDS_DEPOSITED_ON_L2\n        : L1ToL2MessageStatus.NOT_YET_CREATED,\n      retryableCreationTxID: ethDepositMessage.l2DepositTxHash,\n      // Only show `l2TxID` after the deposit is confirmed\n      l2TxID: isDeposited ? ethDepositMessage.l2DepositTxHash : undefined\n    })\n  }\n\n  const fetchAndUpdateL1ToL2MsgStatus = async (\n    txID: string,\n    l1ToL2Msg: L1ToL2MessageReader,\n    isEthDeposit: boolean,\n    currentStatus: L1ToL2MessageStatus\n  ) => {\n    // set fetching:\n    updateTxnL1ToL2MsgData(txID, {\n      fetchingUpdate: true,\n      status: currentStatus,\n      retryableCreationTxID: l1ToL2Msg.retryableCreationId\n    })\n\n    const res = await l1ToL2Msg.getSuccessfulRedeem()\n\n    const l2TxID = (() => {\n      if (res.status === L1ToL2MessageStatus.REDEEMED) {\n        return res.l2TxReceipt.transactionHash\n      } else if (\n        res.status === L1ToL2MessageStatus.FUNDS_DEPOSITED_ON_L2 &&\n        isEthDeposit\n      ) {\n        return l1ToL2Msg.retryableCreationId /** for completed eth deposits, retryableCreationId is the l2txid */\n      } else {\n        return undefined\n      }\n    })()\n\n    updateTxnL1ToL2MsgData(txID, {\n      status: res.status,\n      l2TxID,\n      fetchingUpdate: false,\n      retryableCreationTxID: l1ToL2Msg.retryableCreationId\n    })\n  }\n\n  const fetchAndUpdateL1ToL2MsgClassicStatus = async (\n    txID: string,\n    l1ToL2Msg: L1ToL2MessageReaderClassic,\n    isEthDeposit: boolean,\n    status: L1ToL2MessageStatus\n  ) => {\n    const isCompletedEthDeposit =\n      isEthDeposit && status >= L1ToL2MessageStatus.FUNDS_DEPOSITED_ON_L2\n\n    const l2TxID = (() => {\n      if (isCompletedEthDeposit) {\n        return l1ToL2Msg.retryableCreationId\n      }\n\n      if (status === L1ToL2MessageStatus.REDEEMED) {\n        return l1ToL2Msg.l2TxHash\n      }\n\n      return undefined\n    })()\n\n    updateTxnL1ToL2MsgData(txID, {\n      status: isCompletedEthDeposit\n        ? L1ToL2MessageStatus.FUNDS_DEPOSITED_ON_L2\n        : status,\n      l2TxID,\n      fetchingUpdate: false,\n      retryableCreationTxID: l1ToL2Msg.retryableCreationId\n    })\n  }\n\n  const removeTransaction = (txID: string) => {\n    return dispatch({\n      type: 'REMOVE_TRANSACTION',\n      txID: txID\n    })\n  }\n\n  const setTransactionSuccess = (txID: string) => {\n    return dispatch({\n      type: 'SET_SUCCESS',\n      txID: txID\n    })\n  }\n  const setTransactionBlock = (txID: string, blockNumber?: number) => {\n    return dispatch({\n      type: 'SET_BLOCK_NUMBER',\n      txID,\n      blockNumber\n    })\n  }\n  const setResolvedTimestamp = (txID: string, timestamp?: string) => {\n    return dispatch({\n      type: 'SET_RESOLVED_TIMESTAMP',\n      txID,\n      timestamp\n    })\n  }\n  const setTransactionFailure = (txID?: string) => {\n    if (!txID) {\n      console.warn(' Cannot set transaction failure: TxID not included (???)')\n      return\n    }\n    return dispatch({\n      type: 'SET_FAILURE',\n      txID: txID\n    })\n  }\n  const clearPendingTransactions = () => {\n    return dispatch({\n      type: 'CLEAR_PENDING'\n    })\n  }\n\n  const setTransactionConfirmed = (txID: string) => {\n    return dispatch({\n      type: 'CONFIRM_TRANSACTION',\n      txID: txID\n    })\n  }\n\n  const updateTransaction = (\n    txReceipt: TransactionReceipt,\n    tx?: ethers.ContractTransaction,\n    l1ToL2MsgData?: L1ToL2MessageData\n  ) => {\n    if (!txReceipt.transactionHash) {\n      return console.warn(\n        '*** TransactionHash not included in transaction receipt (???) *** '\n      )\n    }\n    switch (txReceipt.status) {\n      case 0: {\n        setTransactionFailure(txReceipt.transactionHash)\n        break\n      }\n      case 1: {\n        setTransactionSuccess(txReceipt.transactionHash)\n        break\n      }\n      default:\n        console.warn('*** Status not included in transaction receipt *** ')\n        break\n    }\n    console.log('TX for update', tx)\n    if (tx?.blockNumber) {\n      setTransactionBlock(txReceipt.transactionHash, tx.blockNumber)\n    }\n    if (tx) {\n      setResolvedTimestamp(txReceipt.transactionHash, new Date().toISOString())\n    }\n    if (l1ToL2MsgData) {\n      updateTxnL1ToL2MsgData(txReceipt.transactionHash, l1ToL2MsgData)\n    }\n  }\n\n  const setDepositsInStore = (newTransactions: Transaction[]) => {\n    // appends the state with a new set of transactions\n    // useful when you want to display some transactions fetched from subgraph without worrying about existing state\n\n    const transactionsMap: { [id: string]: Transaction } = {}\n\n    ;[...transactions, ...newTransactions].forEach(tx => {\n      transactionsMap[tx.txID] = tx\n    })\n\n    return dispatch({\n      type: 'SET_TRANSACTIONS',\n      transactions: Object.values(transactionsMap)\n    })\n  }\n\n  const transactions = useMemo(() => {\n    return state.filter(tx => !deprecatedTxTypes.has(tx.type))\n  }, [state])\n\n  return [\n    transactions,\n    {\n      addTransaction,\n      addTransactions,\n      setDepositsInStore,\n      setTransactionSuccess,\n      setTransactionFailure,\n      clearPendingTransactions,\n      setTransactionConfirmed,\n      updateTransaction,\n      removeTransaction,\n      addFailedTransaction,\n      fetchAndUpdateL1ToL2MsgStatus,\n      fetchAndUpdateL1ToL2MsgClassicStatus,\n      fetchAndUpdateEthDepositMessageStatus\n    }\n  ]\n}\n\nexport default useTransactions\n","import { useState, useEffect } from 'react'\nimport { providers } from 'ethers'\n\nexport function useChainId({ provider }: { provider: providers.Provider }) {\n  const [chainId, setChainId] = useState<number | undefined>(undefined)\n\n  useEffect(() => {\n    let cancelled = false\n\n    async function updateChainId() {\n      const network = await provider.getNetwork()\n      if (!cancelled) {\n        setChainId(network.chainId)\n      }\n    }\n\n    updateChainId()\n\n    return () => {\n      cancelled = true\n    }\n  }, [provider])\n\n  return chainId\n}\n","import { useCallback, useMemo } from 'react'\nimport { BigNumber } from 'ethers'\nimport { Provider } from '@ethersproject/abstract-provider'\nimport useSWR, {\n  useSWRConfig,\n  unstable_serialize,\n  Middleware,\n  SWRHook\n} from 'swr'\nimport { MultiCaller } from '@arbitrum/sdk'\nimport * as Sentry from '@sentry/react'\n\nimport { useChainId } from './useChainId'\n\ntype Erc20Balances = {\n  [address: string]: BigNumber | undefined\n}\n\nexport type UseBalanceProps = {\n  provider: Provider\n  walletAddress: string | undefined\n}\n\nconst merge: Middleware = (useSWRNext: SWRHook) => {\n  return (key, fetcher, config) => {\n    const { cache } = useSWRConfig()\n\n    const extendedFetcher = async () => {\n      if (!fetcher) {\n        return\n      }\n      const newBalances = await fetcher(key)\n      const oldData = cache.get(unstable_serialize(key))?.data\n      return {\n        ...(oldData || {}),\n        ...newBalances\n      }\n    }\n\n    return useSWRNext(key, extendedFetcher, config)\n  }\n}\n\nconst useBalance = ({ provider, walletAddress }: UseBalanceProps) => {\n  const chainId = useChainId({ provider })\n  const walletAddressLowercased = useMemo(\n    () => walletAddress?.toLowerCase(),\n    [walletAddress]\n  )\n\n  const queryKey = useCallback(\n    (type: 'eth' | 'erc20') => {\n      if (\n        typeof chainId === 'undefined' ||\n        typeof walletAddressLowercased === 'undefined'\n      ) {\n        // Don't fetch\n        return null\n      }\n\n      return [walletAddressLowercased, chainId, 'balance', type] as const\n    },\n    [chainId, walletAddressLowercased]\n  )\n  const fetchErc20 = useCallback(\n    async (_addresses: string[] | undefined) => {\n      if (\n        typeof walletAddressLowercased === 'undefined' ||\n        !_addresses?.length\n      ) {\n        return {}\n      }\n\n      try {\n        const multiCaller = await MultiCaller.fromProvider(provider)\n        const addressesBalances = await multiCaller.getTokenData(_addresses, {\n          balanceOf: { account: walletAddressLowercased }\n        })\n\n        return _addresses.reduce((acc, address, index) => {\n          const balance = addressesBalances[index]\n          if (balance) {\n            acc[address.toLowerCase()] = balance.balance\n          }\n\n          return acc\n        }, {} as Erc20Balances)\n      } catch (error) {\n        // log some extra info on sentry in case multi-caller fails\n        Sentry.configureScope(function (scope) {\n          scope.setExtra('token_addresses', _addresses)\n          Sentry.captureException(error)\n        })\n        return {}\n      }\n    },\n    [provider, walletAddressLowercased]\n  )\n\n  const { data: dataEth = null, mutate: updateEthBalance } = useSWR(\n    queryKey('eth'),\n    ([_walletAddress]) => provider.getBalance(_walletAddress),\n    {\n      refreshInterval: 15_000,\n      shouldRetryOnError: true,\n      errorRetryCount: 2,\n      errorRetryInterval: 3_000\n    }\n  )\n  const { data: dataErc20 = null, mutate: mutateErc20 } = useSWR(\n    queryKey('erc20'),\n    () => fetchErc20([]),\n    {\n      shouldRetryOnError: true,\n      errorRetryCount: 2,\n      errorRetryInterval: 3_000,\n      use: [merge]\n    }\n  )\n\n  const updateErc20 = useCallback(\n    async (addresses: string[]) => {\n      const balances = await fetchErc20(addresses)\n\n      return mutateErc20(balances, {\n        populateCache(result, currentData) {\n          return {\n            ...currentData,\n            ...result\n          }\n        },\n        revalidate: false\n      })\n    },\n    [fetchErc20, mutateErc20]\n  )\n\n  return {\n    eth: [dataEth, updateEthBalance] as const,\n    erc20: [dataErc20, updateErc20] as const\n  }\n}\n\nexport { useBalance }\n","export const CommonAddress = {\n  Ethereum: {\n    USDC: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n    tokenMessengerContractAddress: '0xbd3fa81b58ba92a82136038b25adec7066af3155'\n  },\n  ArbitrumOne: {\n    USDC: '0xaf88d065e77c8cc2239327c5edb3a432268e5831',\n    'USDC.e': '0xff970a61a04b1ca14834a43f5de4533ebddb5cc8',\n    tokenMessengerContractAddress: '0x19330d10d9cc8751218eaf51e8885d058642e08a'\n  },\n  Goerli: {\n    USDC: '0x07865c6e87b9f70255377e024ace6630c1eaa37f',\n    tokenMessengerContractAddress: '0xd0c3da58f55358142b8d3e06c1c30c5c6114efe8'\n  },\n  ArbitrumGoerli: {\n    USDC: '0xfd064a18f3bf249cf1f87fc203e90d8f650f2d63',\n    'USDC.e': '0x8fb1e3fc51f3b789ded7557e680551d93ea9d892',\n    tokenMessengerContractAddress: '0x12dcfd3fe2e9eac2859fd1ed86d2ab8c5a2f9352'\n  }\n} as const\n","export const defaultErc20Decimals = 0\n","import { constants } from 'ethers'\nimport { Chain } from 'wagmi'\nimport { Provider } from '@ethersproject/providers'\nimport { Erc20Bridger, MultiCaller } from '@arbitrum/sdk'\nimport { ERC20__factory } from '@arbitrum/sdk/dist/lib/abi/factories/ERC20__factory'\nimport * as Sentry from '@sentry/react'\n\nimport { CommonAddress } from './CommonAddressUtils'\nimport { isNetwork } from './networks'\nimport { defaultErc20Decimals } from '../defaults'\nimport { ERC20BridgeToken, TokenType } from '../hooks/arbTokenBridge.types'\n\nexport function getDefaultTokenName(address: string) {\n  const lowercased = address.toLowerCase()\n  return (\n    lowercased.substring(0, 5) +\n    '...' +\n    lowercased.substring(lowercased.length - 3)\n  )\n}\n\nexport function getDefaultTokenSymbol(address: string) {\n  const lowercased = address.toLowerCase()\n  return (\n    lowercased.substring(0, 5) +\n    '...' +\n    lowercased.substring(lowercased.length - 3)\n  )\n}\n\nexport type Erc20Data = {\n  name: string\n  symbol: string\n  decimals: number\n  address: string\n}\n\nconst erc20DataCacheLocalStorageKey = 'arbitrum:bridge:erc20-cache'\n\ntype Erc20DataCache = {\n  [cacheKey: string]: Erc20Data\n}\n\ntype GetErc20DataCacheParams = {\n  chainId: number\n  address: string\n}\n\nfunction getErc20DataCacheKey({ chainId, address }: GetErc20DataCacheParams) {\n  return `${chainId}:${address}`\n}\n\nfunction getErc20DataCache(): Erc20DataCache\nfunction getErc20DataCache(params: GetErc20DataCacheParams): Erc20Data | null\nfunction getErc20DataCache(\n  params?: GetErc20DataCacheParams\n): Erc20DataCache | (Erc20Data | null) {\n  const cache: Erc20DataCache = JSON.parse(\n    // intentionally using || instead of ?? for it to work with an empty string\n    localStorage.getItem(erc20DataCacheLocalStorageKey) || '{}'\n  )\n\n  if (typeof params !== 'undefined') {\n    return cache[getErc20DataCacheKey(params)] ?? null\n  }\n\n  return cache\n}\n\ntype SetErc20DataCacheParams = GetErc20DataCacheParams & {\n  erc20Data: Erc20Data\n}\n\nfunction setErc20DataCache({ erc20Data, ...params }: SetErc20DataCacheParams) {\n  const cache = getErc20DataCache()\n  cache[getErc20DataCacheKey(params)] = erc20Data\n  localStorage.setItem(erc20DataCacheLocalStorageKey, JSON.stringify(cache))\n}\n\nexport type FetchErc20DataProps = {\n  /**\n   * Address of the ERC-20 token contract.\n   */\n  address: string\n  /**\n   * Provider for the chain where the ERC-20 token contract is deployed.\n   */\n  provider: Provider\n}\n\nexport async function fetchErc20Data({\n  address,\n  provider\n}: FetchErc20DataProps): Promise<Erc20Data> {\n  const chainId = (await provider.getNetwork()).chainId\n  const cachedErc20Data = getErc20DataCache({ chainId, address })\n\n  if (cachedErc20Data) {\n    return cachedErc20Data\n  }\n\n  try {\n    const multiCaller = await MultiCaller.fromProvider(provider)\n    const [tokenData] = await multiCaller.getTokenData([address], {\n      name: true,\n      symbol: true,\n      decimals: true\n    })\n\n    const erc20Data: Erc20Data = {\n      name: tokenData?.name ?? getDefaultTokenName(address),\n      symbol: tokenData?.symbol ?? getDefaultTokenSymbol(address),\n      decimals: tokenData?.decimals ?? defaultErc20Decimals,\n      address\n    }\n\n    try {\n      setErc20DataCache({ chainId, address, erc20Data })\n    } catch (e) {\n      console.warn('Failed to store ERC-20 data to cache.')\n      console.warn(e)\n    }\n\n    return erc20Data\n  } catch (error) {\n    // log some extra info on sentry in case multi-caller fails\n    Sentry.configureScope(function (scope) {\n      scope.setExtra('token_address', address)\n      Sentry.captureException(error)\n    })\n    throw error\n  }\n}\n\nexport async function isValidErc20({\n  address,\n  provider\n}: FetchErc20DataProps): Promise<boolean> {\n  const erc20 = ERC20__factory.connect(address, provider)\n\n  try {\n    await Promise.all([\n      // we don't reallly care about the balance in this call, so we're just using vitalik.eth\n      // didn't want to use address zero in case contracts have checks for it\n      erc20.balanceOf('0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045'),\n      erc20.totalSupply()\n    ])\n\n    return true\n  } catch (err) {\n    return false\n  }\n}\n\nexport type FetchErc20AllowanceParams = FetchErc20DataProps & {\n  /**\n   * Address of the owner of the ERC-20 tokens.\n   */\n  owner: string\n  /**\n   * Address of the spender of the ERC-20 tokens.\n   */\n  spender: string\n}\n\n/**\n * Fetches allowance for an ERC-20 token.\n */\nexport async function fetchErc20Allowance(params: FetchErc20AllowanceParams) {\n  const { address, provider, owner, spender } = params\n  try {\n    const multiCaller = await MultiCaller.fromProvider(provider)\n    const [tokenData] = await multiCaller.getTokenData([address], {\n      allowance: { owner, spender }\n    })\n    return tokenData?.allowance ?? constants.Zero\n  } catch (error) {\n    // log the issue on sentry, later, fall back if there is no multicall\n    Sentry.configureScope(function (scope) {\n      scope.setExtra('token_address', address)\n      Sentry.captureException(error)\n    })\n    throw error\n  }\n}\n\n/**\n * Retrieves the L1 address of an ERC-20 token using its L2 address.\n * @param erc20L2Address\n * @param l2Provider\n * @returns\n */\nexport async function getL1ERC20Address({\n  erc20L2Address,\n  l2Provider\n}: {\n  erc20L2Address: string\n  l2Provider: Provider\n}): Promise<string | null> {\n  try {\n    const erc20Bridger = await Erc20Bridger.fromProvider(l2Provider)\n    return await erc20Bridger.getL1ERC20Address(erc20L2Address, l2Provider)\n  } catch (error) {\n    return null\n  }\n}\n\n/*\n Retrieves the L1 gateway of an ERC-20 token using its L1 address.\n*/\nexport async function fetchErc20L1GatewayAddress({\n  erc20L1Address,\n  l1Provider,\n  l2Provider\n}: {\n  erc20L1Address: string\n  l1Provider: Provider\n  l2Provider: Provider\n}): Promise<string> {\n  const erc20Bridger = await Erc20Bridger.fromProvider(l2Provider)\n  return erc20Bridger.getL1GatewayAddress(erc20L1Address, l1Provider)\n}\n\n/*\n Retrieves the L2 gateway of an ERC-20 token using its L1 address.\n*/\nexport async function fetchErc20L2GatewayAddress({\n  erc20L1Address,\n  l2Provider\n}: {\n  erc20L1Address: string\n  l2Provider: Provider\n}): Promise<string> {\n  const erc20Bridger = await Erc20Bridger.fromProvider(l2Provider)\n  return erc20Bridger.getL2GatewayAddress(erc20L1Address, l2Provider)\n}\n\n/*\n Retrieves the L2 address of an ERC-20 token using its L1 address.\n*/\nexport async function getL2ERC20Address({\n  erc20L1Address,\n  l1Provider,\n  l2Provider\n}: {\n  erc20L1Address: string\n  l1Provider: Provider\n  l2Provider: Provider\n}): Promise<string> {\n  const erc20Bridger = await Erc20Bridger.fromProvider(l2Provider)\n  return await erc20Bridger.getL2ERC20Address(erc20L1Address, l1Provider)\n}\n\n/*\n Retrieves data about whether an ERC-20 token is disabled on the router.\n */\nexport async function l1TokenIsDisabled({\n  erc20L1Address,\n  l1Provider,\n  l2Provider\n}: {\n  erc20L1Address: string\n  l1Provider: Provider\n  l2Provider: Provider\n}): Promise<boolean> {\n  const erc20Bridger = await Erc20Bridger.fromProvider(l2Provider)\n  return erc20Bridger.l1TokenIsDisabled(erc20L1Address, l1Provider)\n}\n\ntype SanitizeTokenOptions = {\n  erc20L1Address?: string | null // token address on L1\n  chain: Chain // chain for which we want to retrieve the token name / symbol\n}\n\nexport const isTokenMainnetUSDC = (tokenAddress: string | undefined) =>\n  tokenAddress?.toLowerCase() === CommonAddress.Ethereum.USDC.toLowerCase()\n\nexport const isTokenGoerliUSDC = (tokenAddress: string | undefined) =>\n  tokenAddress?.toLowerCase() === CommonAddress.Goerli.USDC.toLowerCase()\n\nexport const isTokenArbitrumOneNativeUSDC = (\n  tokenAddress: string | undefined\n) =>\n  tokenAddress?.toLowerCase() === CommonAddress.ArbitrumOne.USDC.toLowerCase()\n\nexport const isTokenArbitrumGoerliNativeUSDC = (\n  tokenAddress: string | undefined\n) =>\n  tokenAddress?.toLowerCase() ===\n  CommonAddress.ArbitrumGoerli.USDC.toLowerCase()\n\nexport const isTokenUSDC = (tokenAddress: string | undefined) => {\n  return (\n    isTokenMainnetUSDC(tokenAddress) ||\n    isTokenGoerliUSDC(tokenAddress) ||\n    isTokenArbitrumOneNativeUSDC(tokenAddress) ||\n    isTokenArbitrumGoerliNativeUSDC(tokenAddress)\n  )\n}\n\n// get the exact token symbol for a particular chain\nexport function sanitizeTokenSymbol(\n  tokenSymbol: string,\n  options: SanitizeTokenOptions\n) {\n  if (!options.erc20L1Address) {\n    return tokenSymbol\n  }\n\n  const { isArbitrumOne, isArbitrumGoerli } = isNetwork(options.chain.id)\n\n  if (\n    isTokenMainnetUSDC(options.erc20L1Address) ||\n    isTokenGoerliUSDC(options.erc20L1Address)\n  ) {\n    // It should be `USDC` on all chains except Arbitrum One/Arbitrum Goerli\n    if (isArbitrumOne || isArbitrumGoerli) return 'USDC.e'\n    return 'USDC'\n  }\n\n  return tokenSymbol\n}\n\n// get the exact token name for a particular chain\nexport function sanitizeTokenName(\n  tokenName: string,\n  options: SanitizeTokenOptions\n) {\n  if (!options.erc20L1Address) {\n    return tokenName\n  }\n\n  const { isArbitrumOne, isArbitrumGoerli } = isNetwork(options.chain.id)\n\n  if (\n    isTokenMainnetUSDC(options.erc20L1Address) ||\n    isTokenGoerliUSDC(options.erc20L1Address)\n  ) {\n    // It should be `USD Coin` on all chains except Arbitrum One/Arbitrum Goerli\n    if (isArbitrumOne || isArbitrumGoerli) return 'Bridged USDC'\n    return 'USD Coin'\n  }\n\n  return tokenName\n}\n\nexport function erc20DataToErc20BridgeToken(data: Erc20Data): ERC20BridgeToken {\n  return {\n    name: data.name,\n    type: TokenType.ERC20,\n    symbol: data.symbol,\n    address: data.address,\n    decimals: data.decimals,\n    listIds: new Set()\n  }\n}\n","import { ChainId } from '../util/networks'\nimport { CommonAddress } from './CommonAddressUtils'\n\nexport type L2NativeToken = {\n  name: string\n  symbol: string\n  address: string\n  decimals: number\n  logoURI: string\n}\n\nexport const ArbOneNativeUSDC = {\n  name: 'USD Coin',\n  symbol: 'USDC',\n  address: CommonAddress.ArbitrumOne.USDC,\n  decimals: 6,\n  logoURI: 'https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png'\n}\n\nconst L2NativeTokens: { [chainId: number]: L2NativeToken[] } = {\n  [ChainId.ArbitrumOne]: [\n    {\n      name: 'GMX',\n      symbol: 'GMX',\n      address: '0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a',\n      decimals: 18,\n      logoURI: 'https://s2.coinmarketcap.com/static/img/coins/64x64/11857.png'\n    },\n    {\n      name: 'STASIS EURO',\n      symbol: 'EURS',\n      address: '0xD22a58f79e9481D1a88e00c343885A588b34b68B',\n      decimals: 2,\n      logoURI: 'https://s2.coinmarketcap.com/static/img/coins/64x64/2989.png'\n    }\n  ],\n  [ChainId.ArbitrumNova]: [],\n  [ChainId.ArbitrumGoerli]: []\n}\n\nfunction find(erc20L2Address: string, l2ChainId: number) {\n  return (\n    (L2NativeTokens[l2ChainId] ?? [])\n      //\n      .find(\n        token => token.address.toLowerCase() === erc20L2Address.toLowerCase()\n      )\n  )\n}\n\nexport function getL2NativeToken(\n  erc20L2Address: string,\n  l2ChainId: number\n): L2NativeToken {\n  const token = find(erc20L2Address, l2ChainId)\n\n  if (typeof token === 'undefined') {\n    throw new Error(\n      `Can't find L2-native token with address ${erc20L2Address} on chain ${l2ChainId}`\n    )\n  }\n\n  return token\n}\n","import { useNetwork } from 'wagmi'\n\nimport { isNetwork } from '../util/networks'\n\nexport function useIsConnectedToOrbitChain() {\n  const { chain } = useNetwork()\n\n  if (typeof chain === 'undefined') {\n    return undefined\n  }\n\n  return isNetwork(chain.id).isOrbitChain\n}\n","import { useNetwork } from 'wagmi'\n\nimport { isNetwork } from '../util/networks'\n\nexport function useIsConnectedToArbitrum() {\n  const { chain } = useNetwork()\n\n  if (typeof chain === 'undefined') {\n    return undefined\n  }\n\n  return isNetwork(chain.id).isArbitrum\n}\n","import { Chain, sepolia as sepoliaDefault } from 'wagmi'\n\nimport { ether } from '../../constants'\nimport { ChainId, ChainWithRpcUrl, explorerUrls, rpcURLs } from '../networks'\n\nexport function chainToWagmiChain(chain: ChainWithRpcUrl): Chain {\n  return {\n    id: chain.chainID,\n    name: chain.name,\n    network: chain.name.toLowerCase().split(' ').join('-'),\n    nativeCurrency: chain.nativeTokenData ?? ether,\n    rpcUrls: {\n      default: {\n        http: [chain.rpcUrl]\n      },\n      public: {\n        http: [chain.rpcUrl]\n      }\n    }\n  }\n}\n\nexport const sepolia: Chain = {\n  ...sepoliaDefault,\n  rpcUrls: {\n    ...sepoliaDefault.rpcUrls,\n    // override the default public RPC with the Infura RPC\n    // public RPCs are getting rate limited\n    default: {\n      http: [rpcURLs[ChainId.Sepolia]!]\n    }\n  }\n}\n\nexport const arbitrumSepolia: Chain = {\n  id: ChainId.ArbitrumSepolia,\n  name: 'Arbitrum Sepolia',\n  network: 'arbitrum-sepolia',\n  nativeCurrency: ether,\n  rpcUrls: {\n    default: {\n      http: [rpcURLs[ChainId.ArbitrumSepolia]!]\n    },\n    public: {\n      http: [rpcURLs[ChainId.ArbitrumSepolia]!]\n    }\n  },\n  blockExplorers: {\n    etherscan: {\n      name: 'Arbiscan',\n      url: explorerUrls[ChainId.ArbitrumSepolia]!\n    },\n    default: { name: 'Arbiscan', url: explorerUrls[ChainId.ArbitrumSepolia]! }\n  }\n}\n\nexport const arbitrumNova: Chain = {\n  id: ChainId.ArbitrumNova,\n  name: 'Arbitrum Nova',\n  network: 'arbitrum-nova',\n  nativeCurrency: ether,\n  rpcUrls: {\n    default: {\n      http: [rpcURLs[ChainId.ArbitrumNova]!]\n    },\n    public: {\n      http: [rpcURLs[ChainId.ArbitrumNova]!]\n    }\n  },\n  blockExplorers: {\n    etherscan: { name: 'Arbiscan', url: 'https://nova.arbiscan.io' },\n    default: { name: 'Arbiscan', url: 'https://nova.arbiscan.io' }\n  }\n}\n\nexport const xaiTestnet: Chain = {\n  id: ChainId.XaiTestnet,\n  name: 'Xai Orbit Testnet',\n  network: 'xai-testnet',\n  nativeCurrency: ether,\n  rpcUrls: {\n    default: {\n      http: [rpcURLs[ChainId.XaiTestnet]!]\n    },\n    public: {\n      http: [rpcURLs[ChainId.XaiTestnet]!]\n    }\n  },\n  blockExplorers: {\n    default: {\n      name: 'Blockscout',\n      url: 'https://testnet-explorer.xai-chain.net'\n    }\n  }\n}\n\nexport const inspace: Chain = {\n  id: ChainId.Inspace,\n  name: 'Inspace Network',\n  network: 'inspace-network',\n  nativeCurrency: ether,\n  rpcUrls: {\n    default: {\n      http: [rpcURLs[ChainId.Inspace]!]\n    },\n    public: {\n      http: [rpcURLs[ChainId.Inspace]!]\n    }\n  },\n  blockExplorers: {\n    default: {\n      name: 'Inspace scan',\n      url: 'https://scan.inspace.network'\n    }\n  }\n}\n\nexport const stylusTestnet: Chain = {\n  id: ChainId.StylusTestnet,\n  name: 'Stylus Testnet',\n  network: 'stylus-testnet',\n  nativeCurrency: ether,\n  rpcUrls: {\n    default: {\n      http: [rpcURLs[ChainId.StylusTestnet]!]\n    },\n    public: {\n      http: [rpcURLs[ChainId.StylusTestnet]!]\n    }\n  },\n  blockExplorers: {\n    default: {\n      name: 'Blockscout',\n      url: 'https://stylus-testnet-explorer.arbitrum.io'\n    }\n  }\n}\n\n/**\n * For e2e testing\n */\nexport const localL1Network: Chain = {\n  id: ChainId.Local,\n  name: 'EthLocal',\n  network: 'local',\n  nativeCurrency: ether,\n  rpcUrls: {\n    default: {\n      http: [rpcURLs[ChainId.Local]!]\n    },\n    public: {\n      http: [rpcURLs[ChainId.Local]!]\n    }\n  },\n  blockExplorers: {\n    default: { name: 'Blockscout', url: '' }\n  }\n}\n\n/**\n * For e2e testing\n */\nexport const localL2Network: Chain = {\n  id: ChainId.ArbitrumLocal,\n  name: 'ArbLocal',\n  network: 'arbitrum-local',\n  nativeCurrency: ether,\n  rpcUrls: {\n    default: {\n      http: [rpcURLs[ChainId.ArbitrumLocal]!]\n    },\n    public: {\n      http: [rpcURLs[ChainId.ArbitrumLocal]!]\n    }\n  },\n  blockExplorers: {\n    default: { name: 'Blockscout', url: '' }\n  }\n}\n","import { Chain } from 'wagmi'\nimport { mainnet, goerli, arbitrum, arbitrumGoerli } from 'wagmi/chains'\n\nimport {\n  chainToWagmiChain,\n  sepolia,\n  arbitrumNova,\n  arbitrumSepolia,\n  xaiTestnet,\n  stylusTestnet,\n  localL1Network,\n  localL2Network,\n  inspace\n} from './wagmiAdditionalNetworks'\nimport { ChainId } from '../networks'\nimport { getCustomChainFromLocalStorageById } from '../networks'\n\nexport function getWagmiChain(chainId: number): Chain {\n  const customChain = getCustomChainFromLocalStorageById(chainId)\n\n  if (customChain) {\n    return chainToWagmiChain(customChain)\n  }\n\n  switch (chainId) {\n    case ChainId.Ethereum:\n      return mainnet\n\n    case ChainId.ArbitrumOne:\n      return arbitrum\n\n    case ChainId.ArbitrumNova:\n      return arbitrumNova\n\n    // Testnets\n    case ChainId.Goerli:\n      return goerli\n\n    case ChainId.ArbitrumGoerli:\n      return arbitrumGoerli\n\n    case ChainId.Sepolia:\n      return sepolia\n\n    case ChainId.ArbitrumSepolia:\n      return arbitrumSepolia\n\n    case ChainId.XaiTestnet:\n      return xaiTestnet\n\n    case ChainId.Inspace:\n      return inspace\n\n    case ChainId.StylusTestnet:\n      return stylusTestnet\n\n    // Local networks\n    case ChainId.Local:\n      return localL1Network\n\n    case ChainId.ArbitrumLocal:\n      return localL2Network\n\n    default:\n      throw new Error(`[getWagmiChain] Unexpected chain id: ${chainId}`)\n  }\n}\n","import { Chain } from 'wagmi'\nimport * as chains from 'wagmi/chains'\n\nimport {\n  ChainId,\n  getCustomChainsFromLocalStorage,\n  getSupportedNetworks\n} from '../util/networks'\nimport * as customChains from '../util/wagmi/wagmiAdditionalNetworks'\n\nconst chainQueryParams = [\n  'ethereum',\n  'goerli',\n  'sepolia',\n  'arbitrum-one',\n  'arbitrum-nova',\n  'arbitrum-goerli',\n  'arbitrum-sepolia',\n  'stylus-testnet',\n  'xai-testnet',\n  'inspace-network',\n  'local',\n  'arbitrum-local'\n] as const\n\nexport type ChainKeyQueryParam = (typeof chainQueryParams)[number]\nexport type ChainQueryParam = ChainKeyQueryParam | ChainId | number\n\nexport function isValidChainQueryParam(value: string | number): boolean {\n  if (typeof value === 'string') {\n    return (chainQueryParams as readonly string[]).includes(value)\n  }\n\n  const supportedNetworkIds = getSupportedNetworks(value, true)\n  return supportedNetworkIds.includes(value)\n}\n\nexport function getChainQueryParamForChain(chainId: ChainId): ChainQueryParam {\n  switch (chainId) {\n    case ChainId.Ethereum:\n      return 'ethereum'\n\n    case ChainId.Goerli:\n      return 'goerli'\n\n    case ChainId.ArbitrumOne:\n      return 'arbitrum-one'\n\n    case ChainId.ArbitrumNova:\n      return 'arbitrum-nova'\n\n    case ChainId.ArbitrumGoerli:\n      return 'arbitrum-goerli'\n\n    case ChainId.StylusTestnet:\n      return 'stylus-testnet'\n\n    case ChainId.XaiTestnet:\n      return 'xai-testnet'\n\n    case ChainId.Sepolia:\n      return 'sepolia'\n\n    case ChainId.ArbitrumSepolia:\n      return 'arbitrum-sepolia'\n\n    case ChainId.Local:\n      return 'local'\n\n    case ChainId.ArbitrumLocal:\n      return 'arbitrum-local'\n\n    case ChainId.Inspace:\n      return 'inspace-network'\n\n    default:\n      const customChains = getCustomChainsFromLocalStorage()\n      const customChain = customChains.find(\n        customChain => customChain.chainID === chainId\n      )\n\n      if (customChain) {\n        return customChain.chainID\n      }\n\n      throw new Error(\n        `[getChainQueryParamForChain] Unexpected chain id: ${chainId}`\n      )\n  }\n}\n\nexport function getChainForChainKeyQueryParam(\n  chainKeyQueryParam: ChainKeyQueryParam\n): Chain {\n  switch (chainKeyQueryParam) {\n    case 'ethereum':\n      return chains.mainnet\n\n    case 'goerli':\n      return chains.goerli\n\n    case 'sepolia':\n      return chains.sepolia\n\n    case 'arbitrum-one':\n      return chains.arbitrum\n\n    case 'arbitrum-nova':\n      return customChains.arbitrumNova\n\n    case 'arbitrum-goerli':\n      return chains.arbitrumGoerli\n\n    case 'arbitrum-sepolia':\n      return customChains.arbitrumSepolia\n\n    case 'stylus-testnet':\n      return customChains.stylusTestnet\n\n    case 'xai-testnet':\n      return customChains.xaiTestnet\n\n    case 'inspace-network':\n      return customChains.inspace\n\n    case 'local':\n      return customChains.localL1Network\n\n    case 'arbitrum-local':\n      return customChains.localL2Network\n\n    default:\n      throw new Error(\n        `[getChainForChainKeyQueryParam] Unexpected chainKeyQueryParam: ${chainKeyQueryParam}`\n      )\n  }\n}\n","/*\n\n  This hook is an abstraction over `useQueryParams` hooks' library\n  - It contains all the browser query params we use / intend to use in our application\n  - Provides methods to listen to, and update all these query params\n  - If we introduce a new queryParam for our bridge in the future, define it here and it will be accessible throughout the app :)\n\n  - Example - to get the value of `?amount=` in browser, simply use\n    `const [{ amount }] = useArbQueryParams()`\n\n  - Example - to set the value of `?amount=` in browser, simply use\n    `const [, setQueryParams] = useArbQueryParams()`\n    `setQueryParams(newAmount)`\n\n*/\nimport React from 'react'\nimport { NextAdapter } from 'next-query-params'\nimport queryString from 'query-string'\nimport {\n  BooleanParam,\n  NumberParam,\n  QueryParamProvider,\n  StringParam,\n  decodeNumber,\n  decodeString,\n  useQueryParams,\n  withDefault\n} from 'use-query-params'\n\nimport {\n  ChainKeyQueryParam,\n  getChainForChainKeyQueryParam,\n  getChainQueryParamForChain,\n  isValidChainQueryParam\n} from '../types/ChainQueryParam'\nimport { ChainId } from '../util/networks'\n\nexport enum AmountQueryParamEnum {\n  MAX = 'max'\n}\n\nexport const useArbQueryParams = () => {\n  /*\n    returns [\n      queryParams (getter for all query state variables),\n      setQueryParams (setter for all query state variables)\n    ]\n  */\n  return useQueryParams({\n    sourceChain: ChainParam,\n    destinationChain: ChainParam,\n    amount: withDefault(AmountQueryParam, ''), // amount which is filled in Transfer panel\n    l2ChainId: NumberParam, // L2 chain-id with which we can initiaze (override) our networks/signer\n    token: StringParam, // import a new token using a Dialog Box\n    settingsOpen: withDefault(BooleanParam, false)\n  })\n}\n\nconst isMax = (amount: string | undefined) =>\n  amount?.toLowerCase() === AmountQueryParamEnum.MAX\n\n/**\n * Sanitise amount value\n * @param amount - transfer amount value from the input field or from the URL\n * @returns sanitised value\n */\nconst sanitizeAmountQueryParam = (amount: string) => {\n  // no need to process empty string\n  if (amount.length === 0) {\n    return amount\n  }\n\n  const parsedAmount = amount.replace(/[,]/g, '.').toLowerCase()\n\n  // add 0 to values starting with .\n  if (parsedAmount.startsWith('.')) {\n    return `0${parsedAmount}`\n  }\n\n  // to catch strings like `amount=asdf` from the URL\n  if (isNaN(Number(parsedAmount))) {\n    // return original string if the string is `max` (case-insensitive)\n    // it doesn't show on the input[type=number] field because it isn't in the allowed chars\n    return isMax(parsedAmount) ? parsedAmount : ''\n  }\n\n  // to reach here they must be a number\n  // check for negative sign at first char\n  if (parsedAmount.startsWith('-')) {\n    return String(Math.abs(Number(parsedAmount)))\n  }\n\n  // replace leading zeros\n  // this regex finds 1 or more 0s before any digits including 0\n  // but the digits are not captured into the result string\n  return parsedAmount.replace(/^0+(?=\\d)/, '')\n}\n\n// Our custom query param type for Amount field - will be parsed and returned as a string,\n// but we need to make sure that only valid numeric-string values are considered, else return '0'\n// Defined here so that components can directly rely on this for clean amount values and not rewrite parsing logic everywhere it gets used\nexport const AmountQueryParam = {\n  // type of amount is always string | undefined coming from the input element onChange event `e.target.value`\n  encode: (amount: string | undefined = '') => sanitizeAmountQueryParam(amount),\n  decode: (amount: string | (string | null)[] | null | undefined) => {\n    // toString() casts the potential string array into a string\n    const amountStr = amount?.toString() ?? ''\n    return sanitizeAmountQueryParam(amountStr)\n  }\n}\n\n// Parse chainId to ChainQueryParam or ChainId for orbit chain\nfunction encodeChainQueryParam(\n  chainId: number | null | undefined\n): string | undefined {\n  if (!chainId) {\n    return undefined\n  }\n\n  try {\n    const chain = getChainQueryParamForChain(chainId)\n    return chain.toString()\n  } catch (e) {\n    return undefined\n  }\n}\n\nfunction isValidNumber(value: number | null | undefined): value is number {\n  if (typeof value === 'undefined' || value === null) {\n    return false\n  }\n\n  return !Number.isNaN(value)\n}\n\n// Parse ChainQueryParam/ChainId to ChainId\n// URL accept both chainId and chainQueryParam (string)\nfunction decodeChainQueryParam(\n  value: string | (string | null)[] | null | undefined\n  // ChainId type doesn't include custom orbit chain, we need to add number type\n): ChainId | number | undefined {\n  const valueString = decodeString(value)\n  if (!valueString) {\n    return undefined\n  }\n\n  const valueNumber = decodeNumber(value)\n  if (\n    isValidNumber(valueNumber) &&\n    isValidChainQueryParam(valueNumber as ChainId)\n  ) {\n    return valueNumber\n  }\n\n  if (isValidChainQueryParam(valueString)) {\n    return getChainForChainKeyQueryParam(valueString as ChainKeyQueryParam).id\n  }\n\n  return undefined\n}\n\nexport const ChainParam = {\n  encode: encodeChainQueryParam,\n  decode: decodeChainQueryParam\n}\n\nexport function ArbQueryParamProvider({\n  children\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <QueryParamProvider\n      adapter={NextAdapter}\n      options={{\n        searchStringToObject: queryString.parse,\n        objectToSearchString: queryString.stringify,\n        updateType: 'replaceIn', // replace just a single parameter when updating query-state, leaving the rest as is\n        removeDefaultsFromUrl: true\n      }}\n    >\n      {children}\n    </QueryParamProvider>\n  )\n}\n","import posthog from 'posthog-js'\n\nimport {\n  ExploreArbitrumDeFiProjectName,\n  ExploreArbitrumNFTProjectName\n} from '../components/MainContent/ExploreArbitrumContent'\nimport {\n  NonCanonicalTokenAddresses,\n  NonCanonicalTokenNames,\n  NonCanonicalTokenSupportedBridges,\n  FastBridgeNames,\n  SpecialTokenSymbol\n} from './fastBridges'\nimport { ProviderName } from '../hooks/useNetworksAndSigners'\nimport { getNetworkName } from './networks'\n\ntype AccountType = 'EOA' | 'Smart Contract'\ntype AssetType = 'ETH' | 'ERC-20'\ntype FastBridgeName = `${FastBridgeNames}`\ntype NonCanonicalTokenName = `${NonCanonicalTokenNames}`\n\nconst AnalyticsNetworkNames = ['Arbitrum One', 'Arbitrum Nova'] as const\ntype AllNetworkNames = ReturnType<typeof getNetworkName>\ntype AnalyticsNetworkName = (typeof AnalyticsNetworkNames)[number]\nexport const shouldTrackAnalytics = (\n  networkName: AllNetworkNames\n): networkName is AnalyticsNetworkName => {\n  if (process.env.NODE_ENV === 'development') {\n    // sends events for any network when in dev\n    return true\n  }\n  return AnalyticsNetworkNames.includes(networkName as AnalyticsNetworkName)\n}\n\ntype AnalyticsEventMap = {\n  Deposit: {\n    tokenSymbol?: string\n    assetType: AssetType\n    accountType: AccountType\n    network: AnalyticsNetworkName\n    amount: number\n  }\n  Withdraw: {\n    tokenSymbol?: string\n    assetType: AssetType\n    accountType: AccountType\n    network: AnalyticsNetworkName\n    amount: number\n  }\n  'Connect Wallet Click': { walletName: ProviderName }\n  'Explore: DeFi Project Click': { project: ExploreArbitrumDeFiProjectName }\n  'Explore: NFT Project Click': { project: ExploreArbitrumNFTProjectName }\n  'Fast Bridge Click': {\n    bridge:\n      | FastBridgeName\n      | NonCanonicalTokenSupportedBridges<NonCanonicalTokenAddresses.FRAX>\n    tokenSymbol?: NonCanonicalTokenName | SpecialTokenSymbol.USDC\n  }\n  'Use Arbitrum Bridge Click': { tokenSymbol: NonCanonicalTokenName | 'USDC' }\n  'Copy Bridge Link Click': { tokenSymbol: NonCanonicalTokenName }\n  'Switch Network and Transfer': {\n    type: 'Deposit' | 'Withdrawal'\n    tokenSymbol?: string\n    assetType: AssetType\n    accountType: AccountType\n    network: AnalyticsNetworkName\n    amount: number\n  }\n  'Redeem Retryable': { network: AnalyticsNetworkName }\n  'Open Transaction History Click': { pageElement: 'Tx Info Banner' | 'Header' }\n  'Tx Error: Get Help Click': { network: AnalyticsNetworkName }\n  'Multiple Tx Error: Get Help Click': { network: AnalyticsNetworkName }\n  'Address Block': { address: string }\n  'Slow Bridge Click': undefined\n  'Move More Funds Click': undefined\n  'Explore: Randomize Click': undefined\n  'Add to Google Calendar Click': undefined\n  'CCTP Deposit': {\n    accountType: AccountType\n    network: AnalyticsNetworkName\n    amount: number\n    complete: boolean\n  }\n  'CCTP Withdrawal': {\n    accountType: AccountType\n    network: AnalyticsNetworkName\n    amount: number\n    complete: boolean\n  }\n}\n\ntype AnalyticsEvent = keyof AnalyticsEventMap\n\nexport function trackEvent(\n  event: AnalyticsEvent,\n  properties?: AnalyticsEventMap[AnalyticsEvent]\n): void {\n  if (process.env.NODE_ENV !== 'production') {\n    return\n  }\n\n  // Posthog\n  posthog.capture(event, properties)\n}\n","/*\n\nHooks and utility functions written to maintain L1 and L2 connnection state (using context) and their metadata across the Bridge UI.\nThese can be used to answer and access the following use-cases across the app -\n\n1. Is the network connected? If yes, is it Arbitrum (L2) or Ethereum (L1)?\n2. Signer exposed by the wallet to sign and execute RPC transactions\n3. Provider exposed by the wallet to query the blockchain\n\n*/\n\nimport React, {\n  useRef,\n  useCallback,\n  useEffect,\n  useState,\n  useContext,\n  createContext\n} from 'react'\nimport {\n  JsonRpcProvider,\n  StaticJsonRpcProvider,\n  Web3Provider\n} from '@ethersproject/providers'\nimport { getChain, getParentChain } from '@arbitrum/sdk'\nimport { Chain, useAccount, useNetwork, useProvider } from 'wagmi'\nimport { useConnectModal } from '@rainbow-me/rainbowkit'\nimport { useLocalStorage } from 'react-use'\nimport * as Sentry from '@sentry/react'\n\nimport { useIsConnectedToOrbitChain } from './useIsConnectedToOrbitChain'\nimport { useIsConnectedToArbitrum } from './useIsConnectedToArbitrum'\nimport {\n  chainIdToDefaultL2ChainId,\n  getNetworkName,\n  isNetwork,\n  rpcURLs\n} from '../util/networks'\nimport { getWagmiChain } from '../util/wagmi/getWagmiChain'\nimport { useArbQueryParams } from './useArbQueryParams'\nimport { trackEvent } from '../util/AnalyticsUtils'\nimport { errorToast } from '../components/common/atoms/Toast'\n\nimport { TOS_LOCALSTORAGE_KEY } from '../constants'\n\nexport enum UseNetworksAndSignersStatus {\n  LOADING = 'loading',\n  NOT_CONNECTED = 'not_connected',\n  NOT_SUPPORTED = 'not_supported',\n  CONNECTED = 'connected'\n}\n\nexport type UseNetworksAndSignersLoadingOrErrorStatus =\n  | UseNetworksAndSignersStatus.LOADING\n  | UseNetworksAndSignersStatus.NOT_CONNECTED\n\nexport type UseNetworksAndSignersNotSupportedStatus =\n  UseNetworksAndSignersStatus.NOT_SUPPORTED\n\nconst defaultStatus =\n  typeof global.window?.ethereum === 'undefined'\n    ? UseNetworksAndSignersStatus.NOT_CONNECTED\n    : UseNetworksAndSignersStatus.LOADING\n\nexport type UseNetworksAndSignersLoadingOrErrorResult = {\n  status: UseNetworksAndSignersLoadingOrErrorStatus\n}\n\nexport type UseNetworksAndSignersNotSupportedResult = {\n  status: UseNetworksAndSignersStatus.NOT_SUPPORTED\n  chainId: number // the current unsupported chainId which is connected to UI\n}\n\nexport type UseNetworksAndSignersConnectedResult = {\n  status: UseNetworksAndSignersStatus.CONNECTED\n  l1: {\n    network: Chain\n    provider: JsonRpcProvider\n  }\n  l2: {\n    network: Chain\n    provider: JsonRpcProvider\n  }\n}\n\nexport type UseNetworksAndSignersResult =\n  | UseNetworksAndSignersLoadingOrErrorResult\n  | UseNetworksAndSignersConnectedResult\n  | UseNetworksAndSignersNotSupportedResult\n\nexport const NetworksAndSignersContext = createContext<\n  UseNetworksAndSignersConnectedResult | undefined\n>(undefined)\n\nexport function useNetworksAndSigners() {\n  const context = useContext(NetworksAndSignersContext)\n\n  if (typeof context === 'undefined') {\n    throw new Error(\n      'The useNetworksAndSigners Hook must only be used inside NetworksAndSignersContext.Provider.'\n    )\n  }\n\n  return context\n}\n\nexport type FallbackProps =\n  | { status: UseNetworksAndSignersLoadingOrErrorStatus }\n  | { status: UseNetworksAndSignersNotSupportedStatus }\n\nexport type NetworksAndSignersProviderProps = {\n  /**\n   * Chooses a specific L2 chain in a situation where multiple L2 chains are connected to a single L1 chain.\n   */\n  selectedL2ChainId?: number\n  /**\n   * Render prop that gets called with the current status in case of anything other than a successful connection.\n   *\n   * @see https://reactjs.org/docs/render-props.html\n   */\n  fallback: (props: FallbackProps) => JSX.Element\n  /**\n   * Renders on successful connection.\n   */\n  children: React.ReactNode\n}\n\n// TODO: maintain these wallet names in a central constants file (like networks.ts/wallet.ts) - can be consistently accessed all throughout the app?\nexport type ProviderName =\n  | 'MetaMask'\n  | 'Coinbase Wallet'\n  | 'Trust Wallet'\n  | 'WalletConnect'\n  | 'Safe' // not used yet\n  | 'Injected'\n  | 'Other'\n\n// connector names: https://github.com/wagmi-dev/wagmi/blob/b17c07443e407a695dfe9beced2148923b159315/docs/pages/core/connectors/_meta.en-US.json#L4\nfunction getWalletName(connectorName: string): ProviderName {\n  switch (connectorName) {\n    case 'MetaMask':\n    case 'Coinbase Wallet':\n    case 'Trust Wallet':\n    case 'Safe':\n    case 'Injected':\n\n    case 'WalletConnectLegacy':\n    case 'WalletConnect':\n      return 'WalletConnect'\n\n    default:\n      return 'Other'\n  }\n}\n\n/** given our RPC url, sanitize it before logging to Sentry, to only pass the url and not the keys */\nfunction getBaseUrl(url: string) {\n  try {\n    const urlObject = new URL(url)\n    return `${urlObject.protocol}//${urlObject.hostname}`\n  } catch {\n    // if invalid url passed\n    return ''\n  }\n}\n\nexport function NetworksAndSignersProvider(\n  props: NetworksAndSignersProviderProps\n): JSX.Element {\n  const { selectedL2ChainId } = props\n  const { address, connector, isDisconnected, isConnected } = useAccount()\n  const { chain } = useNetwork()\n  const provider = useProvider()\n  const { openConnectModal } = useConnectModal()\n  const [result, setResult] = useState<UseNetworksAndSignersResult>({\n    status: defaultStatus\n  })\n  const [tosAccepted] = useLocalStorage<string>(TOS_LOCALSTORAGE_KEY)\n  const isConnectedToArbitrum = useIsConnectedToArbitrum()\n  const isConnectedToOrbitChain = useIsConnectedToOrbitChain()\n\n  const isTosAccepted = tosAccepted !== undefined\n\n  const [, setQueryParams] = useArbQueryParams()\n\n  // Reset back to the not connected state in case the user manually disconnects through their wallet\n  useEffect(() => {\n    if (isDisconnected || !isConnected) {\n      setResult({ status: UseNetworksAndSignersStatus.NOT_CONNECTED })\n    }\n    if (isConnected && connector) {\n      const walletName = getWalletName(connector.name)\n      trackEvent('Connect Wallet Click', { walletName })\n    }\n\n    // set a custom tag in sentry to filter issues by connected wallet.name\n    Sentry.setTag('wallet.name', connector?.name ?? '')\n  }, [isDisconnected, isConnected, connector])\n\n  useEffect(() => {\n    if (result.status !== UseNetworksAndSignersStatus.CONNECTED) {\n      return\n    }\n\n    Sentry.setTag('network.parent_chain_id', result.l1.network.id)\n    Sentry.setTag(\n      'network.parent_chain_rpc_url',\n      getBaseUrl(rpcURLs[result.l1.network.id] ?? '')\n    )\n\n    Sentry.setTag('network.child_chain_id', result.l2.network.id)\n    Sentry.setTag(\n      'network.child_chain_rpc_url',\n      getBaseUrl(rpcURLs[result.l2.network.id] ?? '')\n    )\n  }, [result])\n\n  useEffect(() => {\n    if (isTosAccepted) {\n      openConnectModal?.()\n    }\n  }, [isTosAccepted, openConnectModal])\n\n  const invocationCounter = useRef(0)\n\n  // TODO: Don't run all of this when an account switch happens. Just derive signers from networks?\n  const update = useCallback(async () => {\n    if (!address || !chain) {\n      return\n    }\n\n    // making sure the latest state is applied\n    invocationCounter.current += 1\n    const thisInvocation = invocationCounter.current\n\n    const providerChainId = chain.id\n    const chainNotSupported = !(providerChainId in chainIdToDefaultL2ChainId)\n\n    if (chainNotSupported) {\n      if (thisInvocation !== invocationCounter.current) {\n        // don't apply if the iteration is not the latest\n        return\n      }\n      setResult({\n        status: UseNetworksAndSignersStatus.NOT_SUPPORTED,\n        chainId: providerChainId\n      })\n      return\n    }\n\n    /***\n     * Case 1: Connected to an Orbit chain & Arbitrum is 'preferredL2ChainId.' Need to set 'preferredL2ChainId' to an Orbit chain.\n     * Case 2: selectedChainId is defined but not supported by provider => reset query params -> case 1\n     * Case 3: selectedChainId is defined but not supported by provider => reset query params -> case 1\n     * Case 4: selectedChainId is defined and supported, continue\n     */\n    const isSelectedL2ChainArbitrum = isNetwork(selectedL2ChainId!).isArbitrum\n    let _selectedL2ChainId = selectedL2ChainId\n    const providerSupportedL2 = chainIdToDefaultL2ChainId[providerChainId]!\n\n    // Case 1: Connected to an Orbit chain & Arbitrum is 'preferredL2ChainId'. Need to set 'preferredL2ChainId' to an Orbit chain.\n    if (isConnectedToOrbitChain && isSelectedL2ChainArbitrum) {\n      if (thisInvocation !== invocationCounter.current) {\n        // don't apply if the iteration is not the latest\n        return\n      }\n      setQueryParams({ l2ChainId: providerChainId })\n      return\n    }\n\n    // Case 2: use a default L2 based on the connected provider chainid\n    _selectedL2ChainId = _selectedL2ChainId || providerSupportedL2[0]\n    if (typeof _selectedL2ChainId === 'undefined') {\n      setResult({\n        status: UseNetworksAndSignersStatus.NOT_SUPPORTED,\n        chainId: providerChainId\n      })\n      return\n    }\n\n    // Case 3: L2 is not supported by provider\n    if (!providerSupportedL2.includes(_selectedL2ChainId)) {\n      // remove the l2chainId, keeping the rest of the params intact\n      setQueryParams({\n        l2ChainId: undefined\n      })\n\n      return\n    }\n\n    // Case 4\n    getParentChain(provider as Web3Provider)\n      .then(async parentChain => {\n        const isParentChainArbitrum = isNetwork(parentChain.chainID).isArbitrum\n\n        // There's no preferred L2 set, but Arbitrum is the ParentChain.\n        if (isParentChainArbitrum && !selectedL2ChainId) {\n          // By default, we want Arbitrum to be paired with Ethereum instead of an Orbit chain in our UI.\n          // This is so we default users to their preferred case: Withdrawal from Arbitrum to Ethereum.\n          // However, the current flow would set it to Arbitrum's partner Orbit chain.\n          // We jump to 'getChain'. This means Arbitrum will be considered an L2 and paired with Ethereum.\n          throw new Error()\n        }\n\n        // Web3Provider is connected to a ParentChain. We instantiate a provider for the Chain.\n        const chainProvider = new StaticJsonRpcProvider(\n          rpcURLs[_selectedL2ChainId!] // _selectedL2ChainId is defined here because of L185\n        )\n        const chain = await getChain(chainProvider)\n\n        if (isParentChainArbitrum && isSelectedL2ChainArbitrum) {\n          // Special case if user selects an Ethereum-Orbit pair in the UI.\n          // Before the switch happens, Arbitrum is the preferred L2 chain (in query params), but L1 is also Arbitrum, hence such if statement.\n\n          // We know our 'chain' is Arbitrum, we need to set 'parentChain' to Ethereum (Arbitrum's 'partnerChainID').\n          parentChain = await getParentChain(chain.partnerChainID)\n        }\n\n        // from the ParentChain, instantiate the provider for that too\n        // - done to feed into a consistent l1-l2 network-signer result state both having signer+providers\n        const parentProvider = new StaticJsonRpcProvider(\n          rpcURLs[parentChain.chainID]\n        )\n\n        if (thisInvocation !== invocationCounter.current) {\n          // don't apply if the iteration is not the latest\n          return\n        }\n        setResult({\n          status: UseNetworksAndSignersStatus.CONNECTED,\n          l1: {\n            network: getWagmiChain(parentChain.chainID),\n            provider: parentProvider\n          },\n          l2: {\n            network: getWagmiChain(chain.chainID),\n            provider: chainProvider\n          }\n        })\n\n        // set the child(l2/l3) chain id in query params so that it remembers it when switching back from parent\n        // else, the child chain will reset to default when switching back from parent\n        setQueryParams({\n          l2ChainId: chain.chainID\n        })\n      })\n      .catch(error => {\n        // Web3Provider is connected to a Chain. We instantiate a provider for the ParentChain.\n        if (providerChainId !== _selectedL2ChainId && !isConnectedToArbitrum) {\n          // Make sure the Chain provider chainid match the selected chainid\n          // We continue the check if connected to Arbitrum, because Arbitrum can be either ParentChain or Chain.\n          setResult({\n            status: UseNetworksAndSignersStatus.NOT_SUPPORTED,\n            chainId: providerChainId\n          })\n          return\n        }\n\n        // show a toast message if connecting to the valid network resulted in failure\n        if (_selectedL2ChainId && error && error.event === 'noNetwork') {\n          errorToast(\n            `Failed to connect to ${getNetworkName(_selectedL2ChainId)}.`\n          )\n        }\n\n        getChain(provider as Web3Provider)\n          .then(async chain => {\n            const parentChainId = chain.partnerChainID\n            const parentProvider = new StaticJsonRpcProvider(\n              rpcURLs[parentChainId]\n            )\n            const parentChain = await getParentChain(parentProvider)\n            const chainProvider = new StaticJsonRpcProvider(\n              rpcURLs[chain.chainID]\n            )\n\n            if (thisInvocation !== invocationCounter.current) {\n              // don't apply if the iteration is not the latest\n              return\n            }\n            setResult({\n              status: UseNetworksAndSignersStatus.CONNECTED,\n              l1: {\n                network: getWagmiChain(parentChain.chainID),\n                provider: parentProvider\n              },\n              l2: {\n                network: getWagmiChain(chain.chainID),\n                provider: chainProvider\n              }\n            })\n\n            // set the child(l2/l3) chain id in query params so that it remembers it when switching back from parent\n            // else, the child chain will reset to default when switching back from parent\n            setQueryParams({\n              l2ChainId: chain.chainID\n            })\n          })\n          .catch(() => {\n            if (thisInvocation !== invocationCounter.current) {\n              // don't apply if the iteration is not the latest\n              return\n            }\n            setResult({\n              status: UseNetworksAndSignersStatus.NOT_SUPPORTED,\n              chainId: providerChainId\n            })\n          })\n      })\n  }, [\n    address,\n    chain,\n    provider,\n    selectedL2ChainId,\n    setQueryParams,\n    isConnectedToArbitrum,\n    isConnectedToOrbitChain\n  ])\n\n  useEffect(() => {\n    update()\n    // The `chain` object has to be in the list of dependencies for switching between L1-L2 pairs.\n  }, [chain, update])\n\n  if (result.status !== UseNetworksAndSignersStatus.CONNECTED) {\n    const fallbackProps =\n      result.status === UseNetworksAndSignersStatus.NOT_SUPPORTED\n        ? { status: result.status }\n        : { status: result.status }\n\n    return props.fallback(fallbackProps)\n  }\n\n  return (\n    <NetworksAndSignersContext.Provider value={result}>\n      {props.children}\n    </NetworksAndSignersContext.Provider>\n  )\n}\n","import { useCallback } from 'react'\nimport { CommonAddress } from '../../util/CommonAddressUtils'\nimport { isTokenGoerliUSDC, isTokenMainnetUSDC } from '../../util/TokenUtils'\nimport { useBalance } from '../useBalance'\nimport { useNetworksAndSigners } from '../useNetworksAndSigners'\n\nfunction getL1AddressFromAddress(address: string) {\n  switch (address) {\n    case CommonAddress.Goerli.USDC:\n    case CommonAddress.ArbitrumGoerli.USDC:\n    case CommonAddress.ArbitrumGoerli['USDC.e']:\n      return CommonAddress.Goerli.USDC\n\n    case CommonAddress.Ethereum.USDC:\n    case CommonAddress.ArbitrumOne.USDC:\n    case CommonAddress.ArbitrumOne['USDC.e']:\n      return CommonAddress.Ethereum.USDC\n\n    default:\n      return CommonAddress.Ethereum.USDC\n  }\n}\n\nexport function useUpdateUSDCBalances({\n  walletAddress\n}: {\n  walletAddress: string | undefined\n}) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const {\n    erc20: [, updateErc20L1Balance]\n  } = useBalance({\n    provider: l1.provider,\n    walletAddress\n  })\n  const {\n    erc20: [, updateErc20L2Balance]\n  } = useBalance({\n    provider: l2.provider,\n    walletAddress\n  })\n\n  const updateUSDCBalances = useCallback(\n    (address: `0x${string}` | string) => {\n      const l1Address = getL1AddressFromAddress(address)\n\n      updateErc20L1Balance([l1Address.toLowerCase()])\n      if (isTokenMainnetUSDC(l1Address)) {\n        updateErc20L2Balance([\n          CommonAddress.ArbitrumOne.USDC,\n          CommonAddress.ArbitrumOne['USDC.e']\n        ])\n      } else if (isTokenGoerliUSDC(l1Address)) {\n        updateErc20L2Balance([\n          CommonAddress.ArbitrumGoerli.USDC,\n          CommonAddress.ArbitrumGoerli['USDC.e']\n        ])\n      }\n    },\n    [updateErc20L1Balance, updateErc20L2Balance]\n  )\n\n  return { updateUSDCBalances }\n}\n","import { Provider, StaticJsonRpcProvider } from '@ethersproject/providers'\nimport { EthBridger, getChain, L2Network } from '@arbitrum/sdk'\nimport useSWRImmutable from 'swr/immutable'\n\nimport { ether } from '../constants'\nimport { rpcURLs } from '../util/networks'\nimport { fetchErc20Data } from '../util/TokenUtils'\n\ntype NativeCurrencyBase = {\n  name: string\n  symbol: string\n  decimals: number\n  logoUrl?: string\n}\n\nexport type NativeCurrencyEther = NativeCurrencyBase & {\n  isCustom: false\n}\n\nexport type NativeCurrencyErc20 = NativeCurrencyBase & {\n  isCustom: true\n  /**\n   * Address of the ERC-20 token contract on the parent chain.\n   */\n  address: string\n}\n\nexport type NativeCurrency = NativeCurrencyEther | NativeCurrencyErc20\n\nconst nativeCurrencyEther: NativeCurrencyEther = {\n  ...ether,\n  logoUrl:\n    'https://raw.githubusercontent.com/ethereum/ethereum-org-website/957567c341f3ad91305c60f7d0b71dcaebfff839/src/assets/assets/eth-diamond-black-gray.png',\n  isCustom: false\n}\n\nexport function useNativeCurrency({\n  provider\n}: {\n  provider: Provider\n}): NativeCurrency {\n  const { data = nativeCurrencyEther } = useSWRImmutable(\n    ['nativeCurrency', provider],\n    ([, _provider]) => fetchNativeCurrency({ provider: _provider }),\n    {\n      shouldRetryOnError: true,\n      errorRetryCount: 2,\n      errorRetryInterval: 1_000\n    }\n  )\n\n  return data\n}\n\nexport async function fetchNativeCurrency({\n  provider\n}: {\n  provider: Provider\n}): Promise<NativeCurrency> {\n  let chain: L2Network\n\n  try {\n    chain = await getChain(provider)\n  } catch (error) {\n    // This will only throw for L1s, so we can safely assume that the native currency is ETH\n    return nativeCurrencyEther\n  }\n\n  const ethBridger = await EthBridger.fromProvider(provider)\n\n  // Could be an L2 or an Orbit chain, but doesn't really matter\n  if (typeof ethBridger.nativeToken === 'undefined') {\n    return nativeCurrencyEther\n  }\n\n  const address = ethBridger.nativeToken.toLowerCase()\n  const parentChainId = chain.partnerChainID\n  const parentChainProvider = new StaticJsonRpcProvider(rpcURLs[parentChainId])\n\n  const { name, symbol, decimals } = await fetchErc20Data({\n    address,\n    provider: parentChainProvider\n  })\n\n  return { name, symbol, decimals, address, isCustom: true }\n}\n","import { useCallback, useState, useMemo, useEffect } from 'react'\nimport { Chain, useAccount } from 'wagmi'\nimport { BigNumber, utils } from 'ethers'\nimport { Signer } from '@ethersproject/abstract-signer'\nimport { JsonRpcProvider } from '@ethersproject/providers'\nimport { useLocalStorage } from '@rehooks/local-storage'\nimport { TokenList } from '@uniswap/token-lists'\nimport { MaxUint256 } from '@ethersproject/constants'\nimport {\n  EthBridger,\n  Erc20Bridger,\n  L1ToL2MessageStatus,\n  L2ToL1Message\n} from '@arbitrum/sdk'\nimport { L1EthDepositTransaction } from '@arbitrum/sdk/dist/lib/message/L1Transaction'\nimport { ERC20__factory } from '@arbitrum/sdk/dist/lib/abi/factories/ERC20__factory'\nimport { EventArgs } from '@arbitrum/sdk/dist/lib/dataEntities/event'\nimport { L2ToL1TransactionEvent } from '@arbitrum/sdk/dist/lib/message/L2ToL1Message'\nimport { L2ToL1TransactionEvent as ClassicL2ToL1TransactionEvent } from '@arbitrum/sdk/dist/lib/abi/ArbSys'\n\nimport useTransactions, { L1ToL2MessageData } from './useTransactions'\nimport {\n  ArbTokenBridge,\n  AssetType,\n  ContractStorage,\n  ERC20BridgeToken,\n  L2ToL1EventResultPlus,\n  PendingWithdrawalsMap,\n  TokenType,\n  OutgoingMessageState,\n  L2ToL1EventResult,\n  L1EthDepositTransactionLifecycle,\n  L1ContractCallTransactionLifecycle,\n  NodeBlockDeadlineStatusTypes,\n  ArbTokenBridgeEth,\n  ArbTokenBridgeToken\n} from './arbTokenBridge.types'\nimport { useBalance } from './useBalance'\nimport {\n  fetchErc20Data,\n  getL1ERC20Address,\n  fetchErc20L2GatewayAddress,\n  getL2ERC20Address,\n  l1TokenIsDisabled,\n  isValidErc20\n} from '../util/TokenUtils'\nimport { getL2NativeToken } from '../util/L2NativeUtils'\nimport { CommonAddress } from '../util/CommonAddressUtils'\nimport { isNetwork } from '../util/networks'\nimport { useUpdateUSDCBalances } from './CCTP/useUpdateUSDCBalances'\nimport { useNativeCurrency } from './useNativeCurrency'\n\nexport const wait = (ms = 0) => {\n  return new Promise(res => setTimeout(res, ms))\n}\n\nfunction isClassicL2ToL1TransactionEvent(\n  event: L2ToL1TransactionEvent\n): event is EventArgs<ClassicL2ToL1TransactionEvent> {\n  return typeof (event as any).batchNumber !== 'undefined'\n}\n\nexport function getExecutedMessagesCacheKey({\n  event,\n  l2ChainId\n}: {\n  event: L2ToL1EventResult\n  l2ChainId: number\n}) {\n  return isClassicL2ToL1TransactionEvent(event)\n    ? `l2ChainId: ${l2ChainId}, batchNumber: ${event.batchNumber.toString()}, indexInBatch: ${event.indexInBatch.toString()}`\n    : `l2ChainId: ${l2ChainId}, position: ${event.position.toString()}`\n}\n\nexport function getUniqueIdOrHashFromEvent(\n  event: L2ToL1EventResult\n): BigNumber {\n  const anyEvent = event as any\n\n  // Nitro\n  if (anyEvent.hash) {\n    return anyEvent.hash as BigNumber\n  }\n\n  // Classic\n  return anyEvent.uniqueId as BigNumber\n}\n\nclass TokenDisabledError extends Error {\n  constructor(msg: string) {\n    super(msg)\n    this.name = 'TokenDisabledError'\n  }\n}\n\n// https://github.com/OffchainLabs/arbitrum-sdk/blob/main/src/lib/message/L1ToL2MessageGasEstimator.ts#L76\nfunction percentIncrease(num: BigNumber, increase: BigNumber): BigNumber {\n  return num.add(num.mul(increase).div(100))\n}\n\nexport interface TokenBridgeParams {\n  l1: { provider: JsonRpcProvider; network: Chain }\n  l2: { provider: JsonRpcProvider; network: Chain }\n}\n\nexport const useArbTokenBridge = (\n  params: TokenBridgeParams\n): ArbTokenBridge => {\n  const { l1, l2 } = params\n  const { address: walletAddress } = useAccount()\n  const [bridgeTokens, setBridgeTokens] = useState<\n    ContractStorage<ERC20BridgeToken> | undefined\n  >(undefined)\n\n  const {\n    eth: [, updateEthL1Balance],\n    erc20: [, updateErc20L1Balance]\n  } = useBalance({\n    provider: l1.provider,\n    walletAddress\n  })\n  const {\n    eth: [, updateEthL2Balance],\n    erc20: [, updateErc20L2Balance]\n  } = useBalance({\n    provider: l2.provider,\n    walletAddress\n  })\n\n  interface ExecutedMessagesCache {\n    [id: string]: boolean\n  }\n\n  const nativeCurrency = useNativeCurrency({ provider: l2.provider })\n\n  const { updateUSDCBalances } = useUpdateUSDCBalances({\n    walletAddress\n  })\n\n  const [executedMessagesCache, setExecutedMessagesCache] =\n    useLocalStorage<ExecutedMessagesCache>(\n      'arbitrum:bridge:executed-messages',\n      {}\n    ) as [\n      ExecutedMessagesCache,\n      React.Dispatch<ExecutedMessagesCache>,\n      React.Dispatch<void>\n    ]\n\n  const [pendingWithdrawalsMap, setPendingWithdrawalMap] =\n    useState<PendingWithdrawalsMap>({})\n\n  const l1NetworkID = useMemo(() => String(l1.network.id), [l1.network.id])\n  const l2NetworkID = useMemo(() => String(l2.network.id), [l2.network.id])\n\n  // once the l1/l2/account changes, we need to revalidate the withdrawal list in the store\n  // this prevents previous account/chains' transactions to show up in the current account\n  // also makes sure the state of app doesn't get incrementally bloated with all accounts' txns loaded up till date\n  useEffect(() => {\n    if (!walletAddress) {\n      return\n    }\n    // reset pending-withdrawal-map and re-fetch for new set of L1/L2/Account combination\n    setPendingWithdrawalMap({})\n  }, [l1NetworkID, l2NetworkID, walletAddress])\n  const [\n    transactions,\n    {\n      addTransaction,\n      addTransactions,\n      setDepositsInStore,\n      setTransactionFailure,\n      clearPendingTransactions,\n      setTransactionConfirmed,\n      setTransactionSuccess,\n      updateTransaction,\n      fetchAndUpdateL1ToL2MsgStatus,\n      fetchAndUpdateL1ToL2MsgClassicStatus,\n      fetchAndUpdateEthDepositMessageStatus\n    }\n  ] = useTransactions()\n\n  const depositEth = async ({\n    amount,\n    l1Signer,\n    txLifecycle\n  }: {\n    amount: BigNumber\n    l1Signer: Signer\n    txLifecycle?: L1EthDepositTransactionLifecycle\n  }) => {\n    if (!walletAddress) {\n      return\n    }\n\n    const ethBridger = await EthBridger.fromProvider(l2.provider)\n\n    const depositRequest = await ethBridger.getDepositRequest({\n      amount,\n      from: walletAddress\n    })\n\n    let tx: L1EthDepositTransaction\n\n    try {\n      const gasLimit = await l1.provider.estimateGas(depositRequest.txRequest)\n\n      tx = await ethBridger.deposit({\n        amount,\n        l1Signer,\n        overrides: { gasLimit: percentIncrease(gasLimit, BigNumber.from(5)) }\n      })\n\n      if (txLifecycle?.onTxSubmit) {\n        txLifecycle.onTxSubmit(tx)\n      }\n    } catch (error: any) {\n      if (txLifecycle?.onTxError) {\n        txLifecycle.onTxError(error)\n      }\n      return error.message\n    }\n\n    addTransaction({\n      type: 'deposit-l1',\n      status: 'pending',\n      value: utils.formatUnits(amount, nativeCurrency.decimals),\n      txID: tx.hash,\n      assetName: nativeCurrency.symbol,\n      assetType: AssetType.ETH,\n      sender: walletAddress,\n      // TODO: change to destinationAddress ?? walletAddress when enabling ETH transfers to a custom address\n      destination: walletAddress,\n      l1NetworkID,\n      l2NetworkID\n    })\n\n    const receipt = await tx.wait()\n\n    if (txLifecycle?.onTxConfirm) {\n      txLifecycle.onTxConfirm(receipt)\n    }\n\n    const [ethDepositMessage] = await receipt.getEthDeposits(l2.provider)\n\n    if (!ethDepositMessage) {\n      return\n    }\n\n    const l1ToL2MsgData: L1ToL2MessageData = {\n      fetchingUpdate: false,\n      status: L1ToL2MessageStatus.NOT_YET_CREATED,\n      retryableCreationTxID: ethDepositMessage.l2DepositTxHash,\n      l2TxID: undefined\n    }\n\n    updateTransaction(receipt, tx, l1ToL2MsgData)\n    updateEthBalances()\n\n    if (nativeCurrency.isCustom) {\n      updateErc20L1Balance([nativeCurrency.address])\n    }\n  }\n\n  const withdrawEth: ArbTokenBridgeEth['withdraw'] = async ({\n    amount,\n    l2Signer,\n    txLifecycle\n  }) => {\n    if (!walletAddress) {\n      return\n    }\n\n    try {\n      const ethBridger = await EthBridger.fromProvider(l2.provider)\n      const tx = await ethBridger.withdraw({\n        amount,\n        l2Signer,\n        destinationAddress: walletAddress,\n        from: walletAddress\n      })\n\n      if (txLifecycle?.onTxSubmit) {\n        txLifecycle.onTxSubmit(tx)\n      }\n\n      addTransaction({\n        type: 'withdraw',\n        status: 'pending',\n        value: utils.formatUnits(amount, nativeCurrency.decimals),\n        txID: tx.hash,\n        assetName: nativeCurrency.symbol,\n        assetType: AssetType.ETH,\n        sender: walletAddress,\n        // TODO: change to destinationAddress ?? walletAddress when enabling ETH transfers to a custom address\n        destination: walletAddress,\n        blockNumber: tx.blockNumber,\n        l1NetworkID,\n        l2NetworkID\n      })\n\n      const receipt = await tx.wait()\n\n      if (txLifecycle?.onTxConfirm) {\n        txLifecycle.onTxConfirm(receipt)\n      }\n\n      updateTransaction(receipt, tx)\n      updateEthBalances()\n\n      const l2ToL1Events = receipt.getL2ToL1Events()\n\n      if (l2ToL1Events.length === 1) {\n        const l2ToL1EventResult = l2ToL1Events[0]\n\n        if (!l2ToL1EventResult) {\n          return\n        }\n\n        const id = getUniqueIdOrHashFromEvent(l2ToL1EventResult).toString()\n\n        const outgoingMessageState = OutgoingMessageState.UNCONFIRMED\n        const l2ToL1EventResultPlus: L2ToL1EventResultPlus = {\n          ...l2ToL1EventResult,\n          sender: tx.from,\n          // TODO: add destinationAddress: destinationAddress ?? walletAddress when enabling ETH transfers to a custom address\n          type: AssetType.ETH,\n          value: amount,\n          outgoingMessageState,\n          symbol: nativeCurrency.symbol,\n          decimals: nativeCurrency.decimals,\n          nodeBlockDeadline: NodeBlockDeadlineStatusTypes.NODE_NOT_CREATED,\n          l2TxHash: tx.hash\n        }\n\n        setPendingWithdrawalMap(oldPendingWithdrawalsMap => {\n          return {\n            ...oldPendingWithdrawalsMap,\n            [id]: l2ToL1EventResultPlus\n          }\n        })\n      }\n\n      return receipt\n    } catch (error) {\n      if (txLifecycle?.onTxError) {\n        txLifecycle.onTxError(error)\n      }\n      console.error('withdrawEth err', error)\n    }\n  }\n\n  const approveToken = async ({\n    erc20L1Address,\n    l1Signer\n  }: {\n    erc20L1Address: string\n    l1Signer: Signer\n  }) => {\n    if (!walletAddress) {\n      return\n    }\n\n    const erc20Bridger = await Erc20Bridger.fromProvider(l2.provider)\n\n    const tx = await erc20Bridger.approveToken({\n      erc20L1Address,\n      l1Signer\n    })\n\n    const { symbol } = await fetchErc20Data({\n      address: erc20L1Address,\n      provider: l1.provider\n    })\n\n    addTransaction({\n      type: 'approve',\n      status: 'pending',\n      value: null,\n      txID: tx.hash,\n      assetName: symbol,\n      assetType: AssetType.ERC20,\n      sender: walletAddress,\n      l1NetworkID\n    })\n\n    const receipt = await tx.wait()\n\n    updateTransaction(receipt, tx)\n    updateTokenData(erc20L1Address)\n  }\n\n  const approveTokenL2 = async ({\n    erc20L1Address,\n    l2Signer\n  }: {\n    erc20L1Address: string\n    l2Signer: Signer\n  }) => {\n    if (typeof bridgeTokens === 'undefined' || !walletAddress) {\n      return\n    }\n    const bridgeToken = bridgeTokens[erc20L1Address]\n    if (!bridgeToken) throw new Error('Bridge token not found')\n    const { l2Address } = bridgeToken\n    if (!l2Address) throw new Error('L2 address not found')\n    const gatewayAddress = await fetchErc20L2GatewayAddress({\n      erc20L1Address,\n      l2Provider: l2.provider\n    })\n    const contract = await ERC20__factory.connect(l2Address, l2Signer)\n    const tx = await contract.functions.approve(gatewayAddress, MaxUint256)\n    const { symbol } = await fetchErc20Data({\n      address: erc20L1Address,\n      provider: l1.provider\n    })\n\n    addTransaction({\n      type: 'approve-l2',\n      status: 'pending',\n      value: null,\n      txID: tx.hash,\n      assetName: symbol,\n      assetType: AssetType.ERC20,\n      sender: walletAddress,\n      blockNumber: tx.blockNumber,\n      l1NetworkID,\n      l2NetworkID\n    })\n\n    const receipt = await tx.wait()\n    updateTransaction(receipt, tx)\n    updateTokenData(erc20L1Address)\n  }\n\n  async function depositToken({\n    erc20L1Address,\n    amount,\n    l1Signer,\n    txLifecycle,\n    destinationAddress\n  }: {\n    erc20L1Address: string\n    amount: BigNumber\n    l1Signer: Signer\n    txLifecycle?: L1ContractCallTransactionLifecycle\n    destinationAddress?: string\n  }) {\n    if (!walletAddress) {\n      return\n    }\n    const erc20Bridger = await Erc20Bridger.fromProvider(l2.provider)\n\n    try {\n      const { symbol, decimals } = await fetchErc20Data({\n        address: erc20L1Address,\n        provider: l1.provider\n      })\n\n      const depositRequest = await erc20Bridger.getDepositRequest({\n        l1Provider: l1.provider,\n        l2Provider: l2.provider,\n        from: walletAddress,\n        erc20L1Address,\n        destinationAddress,\n        amount\n      })\n\n      const gasLimit = await l1.provider.estimateGas(depositRequest.txRequest)\n\n      const tx = await erc20Bridger.deposit({\n        ...depositRequest,\n        l1Signer,\n        overrides: { gasLimit: percentIncrease(gasLimit, BigNumber.from(5)) }\n      })\n\n      if (txLifecycle?.onTxSubmit) {\n        txLifecycle.onTxSubmit(tx)\n      }\n      addTransaction({\n        type: 'deposit-l1',\n        status: 'pending',\n        value: utils.formatUnits(amount, decimals),\n        txID: tx.hash,\n        assetName: symbol,\n        assetType: AssetType.ERC20,\n        tokenAddress: erc20L1Address,\n        sender: walletAddress,\n        destination: destinationAddress ?? walletAddress,\n        l1NetworkID,\n        l2NetworkID\n      })\n\n      const receipt = await tx.wait()\n\n      if (txLifecycle?.onTxConfirm) {\n        txLifecycle.onTxConfirm(receipt)\n      }\n\n      const [l1ToL2Msg] = await receipt.getL1ToL2Messages(l2.provider)\n      if (!l1ToL2Msg) {\n        return\n      }\n\n      const l1ToL2MsgData: L1ToL2MessageData = {\n        fetchingUpdate: false,\n        status: L1ToL2MessageStatus.NOT_YET_CREATED, // we know its not yet created, we just initiated it\n        retryableCreationTxID: l1ToL2Msg.retryableCreationId,\n        l2TxID: undefined\n      }\n\n      updateTransaction(receipt, tx, l1ToL2MsgData)\n      updateTokenData(erc20L1Address)\n      updateEthBalances()\n\n      if (nativeCurrency.isCustom) {\n        updateErc20L1Balance([nativeCurrency.address])\n      }\n\n      return receipt\n    } catch (error) {\n      if (txLifecycle?.onTxError) {\n        txLifecycle.onTxError(error)\n      }\n    }\n  }\n\n  const withdrawToken: ArbTokenBridgeToken['withdraw'] = async ({\n    erc20L1Address,\n    amount,\n    l2Signer,\n    txLifecycle,\n    destinationAddress\n  }) => {\n    if (!walletAddress) {\n      return\n    }\n\n    try {\n      const erc20Bridger = await Erc20Bridger.fromProvider(l2.provider)\n      const provider = l2Signer.provider\n      const isSmartContractAddress =\n        provider && (await provider.getCode(String(erc20L1Address))).length < 2\n      if (isSmartContractAddress && !destinationAddress) {\n        throw new Error(`Missing destination address`)\n      }\n\n      if (typeof bridgeTokens === 'undefined') {\n        return\n      }\n      const bridgeToken = bridgeTokens[erc20L1Address]\n\n      const { symbol, decimals } = await (async () => {\n        if (bridgeToken) {\n          const { symbol, decimals } = bridgeToken\n          return { symbol, decimals }\n        }\n        const { symbol, decimals } = await fetchErc20Data({\n          address: erc20L1Address,\n          provider: l1.provider\n        })\n\n        addToken(erc20L1Address)\n        return { symbol, decimals }\n      })()\n\n      const tx = await erc20Bridger.withdraw({\n        l2Signer,\n        erc20l1Address: erc20L1Address,\n        destinationAddress: destinationAddress ?? walletAddress,\n        amount\n      })\n\n      if (txLifecycle?.onTxSubmit) {\n        txLifecycle.onTxSubmit(tx)\n      }\n\n      addTransaction({\n        type: 'withdraw',\n        status: 'pending',\n        value: utils.formatUnits(amount, decimals),\n        txID: tx.hash,\n        assetName: symbol,\n        assetType: AssetType.ERC20,\n        sender: walletAddress,\n        destination: destinationAddress ?? walletAddress,\n        blockNumber: tx.blockNumber,\n        l1NetworkID,\n        l2NetworkID\n      })\n      const receipt = await tx.wait()\n\n      if (txLifecycle?.onTxConfirm) {\n        txLifecycle.onTxConfirm(receipt)\n      }\n\n      updateTransaction(receipt, tx)\n\n      const l2ToL1Events = receipt.getL2ToL1Events()\n\n      if (l2ToL1Events.length === 1) {\n        const l2ToL1EventDataResult = l2ToL1Events[0]\n\n        if (!l2ToL1EventDataResult) {\n          return\n        }\n\n        const id = getUniqueIdOrHashFromEvent(l2ToL1EventDataResult).toString()\n        const outgoingMessageState = OutgoingMessageState.UNCONFIRMED\n        const l2ToL1EventDataResultPlus: L2ToL1EventResultPlus = {\n          ...l2ToL1EventDataResult,\n          sender: walletAddress,\n          destinationAddress: destinationAddress ?? walletAddress,\n          type: AssetType.ERC20,\n          tokenAddress: erc20L1Address,\n          value: amount,\n          outgoingMessageState,\n          symbol: symbol,\n          decimals: decimals,\n          nodeBlockDeadline: NodeBlockDeadlineStatusTypes.NODE_NOT_CREATED,\n          l2TxHash: tx.hash\n        }\n\n        setPendingWithdrawalMap(oldPendingWithdrawalsMap => {\n          return {\n            ...oldPendingWithdrawalsMap,\n            [id]: l2ToL1EventDataResultPlus\n          }\n        })\n      }\n      updateTokenData(erc20L1Address)\n      return receipt\n    } catch (error) {\n      if (txLifecycle?.onTxError) {\n        txLifecycle.onTxError(error)\n      }\n      console.warn('withdraw token err', error)\n    }\n  }\n\n  const removeTokensFromList = (listID: number) => {\n    setBridgeTokens(prevBridgeTokens => {\n      const newBridgeTokens = { ...prevBridgeTokens }\n      for (const address in bridgeTokens) {\n        const token = bridgeTokens[address]\n        if (!token) continue\n\n        token.listIds.delete(listID)\n\n        if (token.listIds.size === 0) {\n          delete newBridgeTokens[address]\n        }\n      }\n      return newBridgeTokens\n    })\n  }\n\n  const addTokensFromList = async (arbTokenList: TokenList, listId: number) => {\n    const l1ChainID = l1.network.id\n    const l2ChainID = l2.network.id\n\n    const bridgeTokensToAdd: ContractStorage<ERC20BridgeToken> = {}\n\n    const candidateUnbridgedTokensToAdd: ERC20BridgeToken[] = []\n\n    for (const tokenData of arbTokenList.tokens) {\n      const { address, name, symbol, extensions, decimals, logoURI, chainId } =\n        tokenData\n\n      if (![l1ChainID, l2ChainID].includes(chainId)) {\n        continue\n      }\n\n      const bridgeInfo = (() => {\n        // TODO: parsing the token list format could be from arbts or the tokenlist package\n        interface Extensions {\n          bridgeInfo: {\n            [chainId: string]: {\n              tokenAddress: string\n              originBridgeAddress: string\n              destBridgeAddress: string\n            }\n          }\n        }\n        const isExtensions = (obj: any): obj is Extensions => {\n          if (!obj) return false\n          if (!obj['bridgeInfo']) return false\n          return Object.keys(obj['bridgeInfo'])\n            .map(key => obj['bridgeInfo'][key])\n            .every(\n              e =>\n                e &&\n                'tokenAddress' in e &&\n                'originBridgeAddress' in e &&\n                'destBridgeAddress' in e\n            )\n        }\n        if (!isExtensions(extensions)) {\n          return null\n        } else {\n          return extensions.bridgeInfo\n        }\n      })()\n\n      if (bridgeInfo) {\n        const l1Address = bridgeInfo[l1NetworkID]?.tokenAddress.toLowerCase()\n\n        if (!l1Address) {\n          return\n        }\n\n        bridgeTokensToAdd[l1Address] = {\n          name,\n          type: TokenType.ERC20,\n          symbol,\n          address: l1Address,\n          l2Address: address.toLowerCase(),\n          decimals,\n          logoURI,\n          listIds: new Set([listId])\n        }\n      }\n      // save potentially unbridged L1 tokens:\n      // stopgap: giant lists (i.e., CMC list) currently severaly hurts page performace, so for now we only add the bridged tokens\n      else if (arbTokenList.tokens.length < 1000) {\n        candidateUnbridgedTokensToAdd.push({\n          name,\n          type: TokenType.ERC20,\n          symbol,\n          address: address.toLowerCase(),\n          decimals,\n          logoURI,\n          listIds: new Set([listId])\n        })\n      }\n    }\n\n    // add L1 tokens only if they aren't already bridged (i.e., if they haven't already beed added as L2 arb-tokens to the list)\n    const l1AddressesOfBridgedTokens = new Set(\n      Object.keys(bridgeTokensToAdd).map(\n        l1Address =>\n          l1Address.toLowerCase() /* lists should have the checksummed case anyway, but just in case (pun unintended) */\n      )\n    )\n    for (const l1TokenData of candidateUnbridgedTokensToAdd) {\n      if (!l1AddressesOfBridgedTokens.has(l1TokenData.address.toLowerCase())) {\n        bridgeTokensToAdd[l1TokenData.address] = l1TokenData\n      }\n    }\n\n    // Callback is used here, so we can add listId to the set of listIds rather than creating a new set everytime\n    setBridgeTokens(oldBridgeTokens => {\n      const l1Addresses: string[] = []\n      const l2Addresses: string[] = []\n\n      // USDC is not on any token list as it's unbridgeable\n      // but we still want to detect its balance on user's wallet\n      if (isNetwork(l2ChainID).isArbitrumOne) {\n        l2Addresses.push(CommonAddress.ArbitrumOne.USDC)\n      }\n      if (isNetwork(l2ChainID).isArbitrumGoerli) {\n        l2Addresses.push(CommonAddress.ArbitrumGoerli.USDC)\n      }\n\n      for (const tokenAddress in bridgeTokensToAdd) {\n        const tokenToAdd = bridgeTokensToAdd[tokenAddress]\n        if (!tokenToAdd) {\n          return\n        }\n        const { address, l2Address } = tokenToAdd\n        if (address) {\n          l1Addresses.push(address)\n        }\n        if (l2Address) {\n          l2Addresses.push(l2Address)\n        }\n\n        // Add the new list id being imported (`listId`) to the existing list ids (from `oldBridgeTokens[address]`)\n        // Set the result to token added to `bridgeTokens` : `tokenToAdd.listIds`\n        const oldListIds =\n          oldBridgeTokens?.[tokenToAdd.address]?.listIds || new Set()\n        tokenToAdd.listIds = new Set([...oldListIds, listId])\n      }\n\n      updateErc20L1Balance(l1Addresses)\n      updateErc20L2Balance(l2Addresses)\n\n      return {\n        ...oldBridgeTokens,\n        ...bridgeTokensToAdd\n      }\n    })\n  }\n\n  async function addToken(erc20L1orL2Address: string) {\n    let l1Address: string\n    let l2Address: string | undefined\n\n    if (!walletAddress) {\n      return\n    }\n\n    const lowercasedErc20L1orL2Address = erc20L1orL2Address.toLowerCase()\n    const maybeL1Address = await getL1ERC20Address({\n      erc20L2Address: lowercasedErc20L1orL2Address,\n      l2Provider: l2.provider\n    })\n\n    if (maybeL1Address) {\n      // looks like l2 address was provided\n      l1Address = maybeL1Address\n      l2Address = lowercasedErc20L1orL2Address\n    } else {\n      // looks like l1 address was provided\n      l1Address = lowercasedErc20L1orL2Address\n      l2Address = await getL2ERC20Address({\n        erc20L1Address: l1Address,\n        l1Provider: l1.provider,\n        l2Provider: l2.provider\n      })\n    }\n\n    const bridgeTokensToAdd: ContractStorage<ERC20BridgeToken> = {}\n    const erc20Params = { address: l1Address, provider: l1.provider }\n\n    if (!(await isValidErc20(erc20Params))) {\n      throw new Error(`${l1Address} is not a valid ERC-20 token`)\n    }\n\n    const { name, symbol, decimals } = await fetchErc20Data(erc20Params)\n\n    const isDisabled = await l1TokenIsDisabled({\n      erc20L1Address: l1Address,\n      l1Provider: l1.provider,\n      l2Provider: l2.provider\n    })\n\n    if (isDisabled) {\n      throw new TokenDisabledError('Token currently disabled')\n    }\n\n    const l1AddressLowerCased = l1Address.toLowerCase()\n    bridgeTokensToAdd[l1AddressLowerCased] = {\n      name,\n      type: TokenType.ERC20,\n      symbol,\n      address: l1AddressLowerCased,\n      l2Address: l2Address?.toLowerCase(),\n      decimals,\n      listIds: new Set()\n    }\n\n    setBridgeTokens(oldBridgeTokens => {\n      return { ...oldBridgeTokens, ...bridgeTokensToAdd }\n    })\n\n    updateErc20L1Balance([l1AddressLowerCased])\n    if (l2Address) {\n      updateErc20L2Balance([l2Address])\n    }\n  }\n\n  const updateTokenData = useCallback(\n    async (l1Address: string) => {\n      updateUSDCBalances(l1Address)\n\n      if (typeof bridgeTokens === 'undefined') {\n        return\n      }\n      const l1AddressLowerCased = l1Address.toLowerCase()\n      const bridgeToken = bridgeTokens[l1AddressLowerCased]\n\n      if (!bridgeToken) {\n        return\n      }\n\n      const newBridgeTokens = { [l1AddressLowerCased]: bridgeToken }\n      setBridgeTokens(oldBridgeTokens => {\n        return { ...oldBridgeTokens, ...newBridgeTokens }\n      })\n      const { l2Address } = bridgeToken\n      updateErc20L1Balance([l1AddressLowerCased])\n      if (l2Address) {\n        updateErc20L2Balance([l2Address])\n      }\n    },\n    [bridgeTokens, setBridgeTokens, updateErc20L1Balance, updateErc20L2Balance]\n  )\n\n  const updateEthBalances = async () => {\n    Promise.all([updateEthL1Balance(), updateEthL2Balance()])\n  }\n\n  async function triggerOutboxToken({\n    id,\n    l1Signer\n  }: {\n    id: string\n    l1Signer: Signer\n  }) {\n    const event = pendingWithdrawalsMap[id]\n\n    if (!event) {\n      throw new Error('Outbox message not found')\n    }\n\n    if (!walletAddress) {\n      return\n    }\n\n    const { tokenAddress, value } = event\n\n    const messageWriter = L2ToL1Message.fromEvent(l1Signer, event, l1.provider)\n\n    const res = await messageWriter.execute(l2.provider)\n\n    const { symbol, decimals } = await fetchErc20Data({\n      address: tokenAddress as string,\n      provider: l1.provider\n    })\n\n    addTransaction({\n      status: 'pending',\n      type: 'outbox',\n      value: utils.formatUnits(value, decimals),\n      assetName: symbol,\n      assetType: AssetType.ERC20,\n      sender: walletAddress,\n      txID: res.hash,\n      l1NetworkID,\n      l2ToL1MsgData: { uniqueId: getUniqueIdOrHashFromEvent(event) }\n    })\n\n    const rec = await res.wait()\n\n    if (rec.status === 1) {\n      setTransactionSuccess(rec.transactionHash)\n      addToExecutedMessagesCache([event])\n      setPendingWithdrawalMap(oldPendingWithdrawalsMap => {\n        const newPendingWithdrawalsMap = { ...oldPendingWithdrawalsMap }\n        const pendingWithdrawal = newPendingWithdrawalsMap[id]\n        if (pendingWithdrawal) {\n          pendingWithdrawal.outgoingMessageState = OutgoingMessageState.EXECUTED\n        }\n\n        return newPendingWithdrawalsMap\n      })\n    } else {\n      setTransactionFailure(rec.transactionHash)\n    }\n\n    return rec\n  }\n\n  function addL2NativeToken(erc20L2Address: string) {\n    const token = getL2NativeToken(erc20L2Address, l2.network.id)\n\n    setBridgeTokens(oldBridgeTokens => {\n      return {\n        ...oldBridgeTokens,\n        [`L2-NATIVE:${token.address}`]: {\n          name: token.name,\n          type: TokenType.ERC20,\n          symbol: token.symbol,\n          address: token.address,\n          l2Address: token.address,\n          decimals: token.decimals,\n          logoURI: token.logoURI,\n          listIds: new Set(),\n          isL2Native: true\n        }\n      }\n    })\n  }\n\n  async function triggerOutboxEth({\n    id,\n    l1Signer\n  }: {\n    id: string\n    l1Signer: Signer\n  }) {\n    const event = pendingWithdrawalsMap[id]\n\n    if (!event) {\n      throw new Error('Outbox message not found')\n    }\n\n    if (!walletAddress) {\n      return\n    }\n\n    const { value } = event\n\n    const messageWriter = L2ToL1Message.fromEvent(l1Signer, event, l1.provider)\n\n    const res = await messageWriter.execute(l2.provider)\n\n    addTransaction({\n      status: 'pending',\n      type: 'outbox',\n      value: utils.formatUnits(value, nativeCurrency.decimals),\n      assetName: nativeCurrency.symbol,\n      assetType: AssetType.ETH,\n      sender: walletAddress,\n      txID: res.hash,\n      l1NetworkID,\n      l2ToL1MsgData: { uniqueId: getUniqueIdOrHashFromEvent(event) }\n    })\n\n    const rec = await res.wait()\n\n    if (rec.status === 1) {\n      setTransactionSuccess(rec.transactionHash)\n      addToExecutedMessagesCache([event])\n      setPendingWithdrawalMap(oldPendingWithdrawalsMap => {\n        const newPendingWithdrawalsMap = { ...oldPendingWithdrawalsMap }\n        const pendingWithdrawal = newPendingWithdrawalsMap[id]\n        if (pendingWithdrawal) {\n          pendingWithdrawal.outgoingMessageState = OutgoingMessageState.EXECUTED\n        }\n\n        return newPendingWithdrawalsMap\n      })\n    } else {\n      setTransactionFailure(rec.transactionHash)\n    }\n\n    return rec\n  }\n\n  function addToExecutedMessagesCache(events: L2ToL1EventResult[]) {\n    const added: { [cacheKey: string]: boolean } = {}\n\n    events.forEach((event: L2ToL1EventResult) => {\n      const cacheKey = getExecutedMessagesCacheKey({\n        event,\n        l2ChainId: l2.network.id\n      })\n\n      added[cacheKey] = true\n    })\n\n    setExecutedMessagesCache({ ...executedMessagesCache, ...added })\n  }\n\n  const setWithdrawalsInStore = (withdrawalTxns: L2ToL1EventResultPlus[]) => {\n    const pwMap = {} as PendingWithdrawalsMap\n    withdrawalTxns.forEach(tx => {\n      const id = getUniqueIdOrHashFromEvent(tx).toString()\n      pwMap[id] = tx\n    })\n    setPendingWithdrawalMap(previousPendingWithdrawalsMap => ({\n      ...previousPendingWithdrawalsMap,\n      ...pwMap\n    }))\n  }\n\n  return {\n    bridgeTokens,\n    eth: {\n      deposit: depositEth,\n      withdraw: withdrawEth,\n      triggerOutbox: triggerOutboxEth\n    },\n    token: {\n      add: addToken,\n      addL2NativeToken,\n      addTokensFromList,\n      removeTokensFromList,\n      updateTokenData,\n      approve: approveToken,\n      approveL2: approveTokenL2,\n      deposit: depositToken,\n      withdraw: withdrawToken,\n      triggerOutbox: triggerOutboxToken\n    },\n    transactions: {\n      transactions,\n      setDepositsInStore,\n      clearPendingTransactions,\n      setTransactionConfirmed,\n      updateTransaction,\n      addTransaction,\n      addTransactions,\n      fetchAndUpdateL1ToL2MsgStatus,\n      fetchAndUpdateL1ToL2MsgClassicStatus,\n      fetchAndUpdateEthDepositMessageStatus\n    },\n    pendingWithdrawalsMap: pendingWithdrawalsMap,\n    setWithdrawalsInStore\n  }\n}\n","import dayjs from 'dayjs'\nimport { L1ToL2MessageStatus } from '@arbitrum/sdk'\nimport { ethers, BigNumber } from 'ethers'\n\nimport { DepositStatus, MergedTransaction } from './state'\nimport {\n  AssetType,\n  L2ToL1EventResultPlus,\n  NodeBlockDeadlineStatusTypes,\n  OutgoingMessageState\n} from '../../hooks/arbTokenBridge.types'\nimport { Transaction } from '../../hooks/useTransactions'\nimport { getUniqueIdOrHashFromEvent } from '../../hooks/useArbTokenBridge'\n\nexport const TX_DATE_FORMAT = 'MMM DD, YYYY'\nexport const TX_TIME_FORMAT = 'hh:mm A (z)'\n\nexport const outgoingStateToString = {\n  [OutgoingMessageState.UNCONFIRMED]: 'Unconfirmed',\n  [OutgoingMessageState.CONFIRMED]: 'Confirmed',\n  [OutgoingMessageState.EXECUTED]: 'Executed'\n}\n\nexport const getDepositStatus = (tx: Transaction) => {\n  if (tx.type !== 'deposit' && tx.type !== 'deposit-l1') return undefined\n  if (tx.status === 'failure') {\n    return DepositStatus.L1_FAILURE\n  }\n  if (tx.status === 'pending') {\n    return DepositStatus.L1_PENDING\n  }\n\n  // l1 succeeded...\n  const { l1ToL2MsgData } = tx\n  if (!l1ToL2MsgData) {\n    return DepositStatus.L2_PENDING\n  }\n  switch (l1ToL2MsgData.status) {\n    case L1ToL2MessageStatus.NOT_YET_CREATED:\n      return DepositStatus.L2_PENDING\n    case L1ToL2MessageStatus.CREATION_FAILED:\n      return DepositStatus.CREATION_FAILED\n    case L1ToL2MessageStatus.EXPIRED:\n      return tx.assetType === AssetType.ETH\n        ? DepositStatus.L2_SUCCESS\n        : DepositStatus.EXPIRED\n    case L1ToL2MessageStatus.FUNDS_DEPOSITED_ON_L2: {\n      return tx.assetType === AssetType.ETH\n        ? DepositStatus.L2_SUCCESS\n        : DepositStatus.L2_FAILURE\n    }\n    case L1ToL2MessageStatus.REDEEMED:\n      return DepositStatus.L2_SUCCESS\n  }\n}\n\nexport const transformDeposit = (tx: Transaction): MergedTransaction => {\n  return {\n    sender: tx.sender,\n    destination: tx.destination,\n    direction: tx.type,\n    status: tx.status,\n    createdAt: tx.timestampCreated\n      ? getStandardizedTimestamp(tx.timestampCreated)\n      : null,\n    resolvedAt: tx.timestampResolved\n      ? getStandardizedTimestamp(tx.timestampResolved)\n      : null,\n    txId: tx.txID,\n    asset: tx.assetName || '',\n    assetType: tx.assetType,\n    value: tx.value,\n    uniqueId: null, // not needed\n    isWithdrawal: false,\n    blockNum: tx.blockNumber || null,\n    tokenAddress: tx.tokenAddress || null,\n    l1ToL2MsgData: tx.l1ToL2MsgData,\n    l2ToL1MsgData: tx.l2ToL1MsgData,\n    depositStatus: getDepositStatus(tx),\n    chainId: Number(tx.l2NetworkID),\n    parentChainId: Number(tx.l1NetworkID)\n  }\n}\n\nexport const transformWithdrawal = (\n  tx: L2ToL1EventResultPlus\n): MergedTransaction => {\n  const uniqueIdOrHash = getUniqueIdOrHashFromEvent(tx)\n\n  return {\n    sender: tx.sender,\n    destination: tx.destinationAddress,\n    direction: 'outbox',\n    status:\n      tx.nodeBlockDeadline ===\n      NodeBlockDeadlineStatusTypes.EXECUTE_CALL_EXCEPTION\n        ? 'Failure'\n        : outgoingStateToString[tx.outgoingMessageState],\n    createdAt: getStandardizedTimestamp(\n      String(BigNumber.from(tx.timestamp).toNumber() * 1000)\n    ),\n    resolvedAt: null,\n    txId: tx.l2TxHash || 'l2-tx-hash-not-found',\n    asset: tx.symbol || '',\n    assetType: tx.type,\n    value: ethers.utils.formatUnits(tx.value?.toString(), tx.decimals),\n    uniqueId: uniqueIdOrHash,\n    isWithdrawal: true,\n    blockNum: tx.ethBlockNum.toNumber(),\n    tokenAddress: tx.tokenAddress || null,\n    nodeBlockDeadline: tx.nodeBlockDeadline,\n    chainId: tx.chainId,\n    parentChainId: tx.parentChainId\n  }\n}\n\n// filter the transactions based on current wallet address and network ID's\nexport const filterTransactions = (\n  transactions: Transaction[],\n  walletAddress: string,\n  l1ChainId: number | null,\n  l2ChainId: number | null\n): Transaction[] => {\n  const result = []\n  for (const tx of transactions) {\n    const txSender = tx.sender\n    const txL1NetworkID = tx.l1NetworkID\n    const txL2NetworkID = tx.l2NetworkID\n\n    const isSenderWallet =\n      txSender.toLowerCase() === walletAddress.toLowerCase()\n    const matchesL1 = txL1NetworkID === String(l1ChainId)\n\n    // The `l2NetworkID` field was added later, so not all transactions will have it\n    const matchesL2 =\n      typeof txL2NetworkID === 'undefined'\n        ? matchesL1\n        : txL2NetworkID === String(l2ChainId)\n\n    if (isSenderWallet && matchesL1 && matchesL2) {\n      result.push(tx)\n    }\n  }\n\n  return result\n}\n\nexport const isTokenDeposit = (tx: MergedTransaction) => {\n  return isDeposit(tx) && tx.tokenAddress\n}\n\nexport const isDeposit = (tx: MergedTransaction) => {\n  return tx.direction === 'deposit' || tx.direction === 'deposit-l1'\n}\n\nexport const isWithdrawal = (tx: MergedTransaction) => {\n  return tx.direction === 'withdraw' || tx.direction === 'outbox'\n}\n\nexport const isPending = (tx: MergedTransaction) => {\n  if (tx.isCctp && !tx.resolvedAt && tx.status !== 'Failure') {\n    return true\n  }\n  return (\n    (isDeposit(tx) &&\n      (tx.status === 'pending' ||\n        tx.depositStatus === DepositStatus.L1_PENDING ||\n        tx.depositStatus === DepositStatus.L2_PENDING)) ||\n    (isWithdrawal(tx) &&\n      (tx.status === outgoingStateToString[OutgoingMessageState.UNCONFIRMED] ||\n        tx.status === outgoingStateToString[OutgoingMessageState.CONFIRMED]))\n  )\n}\n\nexport const isFailed = (tx: MergedTransaction) => {\n  return (\n    (isDeposit(tx) &&\n      (tx.status === 'failure' ||\n        tx.depositStatus == DepositStatus.L1_FAILURE ||\n        tx.depositStatus === DepositStatus.L2_FAILURE)) ||\n    (isWithdrawal(tx) &&\n      tx.nodeBlockDeadline ==\n        NodeBlockDeadlineStatusTypes.EXECUTE_CALL_EXCEPTION)\n  )\n}\n\nexport function isCustomDestinationAddressTx(\n  tx: Pick<MergedTransaction, 'sender' | 'destination'>\n) {\n  if (!tx.sender || !tx.destination) {\n    return false\n  }\n  return tx.sender.toLowerCase() !== tx.destination.toLowerCase()\n}\n\nexport const isWithdrawalReadyToClaim = (tx: MergedTransaction) => {\n  return (\n    isWithdrawal(tx) &&\n    isPending(tx) &&\n    tx.status === outgoingStateToString[OutgoingMessageState.CONFIRMED]\n  )\n}\n\nexport const isDepositReadyToRedeem = (tx: MergedTransaction) => {\n  return isDeposit(tx) && tx.depositStatus === DepositStatus.L2_FAILURE\n}\n\nexport const getStandardizedTimestamp = (dateString: string) => {\n  // because we get timestamps in different formats from subgraph/event-logs/useTxn hook, we need 1 standard format.\n\n  if (isNaN(Number(dateString))) return dayjs(new Date(dateString)).format() // for ISOstring type of dates -> dayjs timestamp\n  return dayjs(Number(dateString)).format() // for timestamp type of date -> dayjs timestamp\n}\n\nexport const getStandardizedTime = (standatdisedTimestamp: string) => {\n  return dayjs(standatdisedTimestamp).format(TX_TIME_FORMAT) // dayjs timestamp -> time\n}\n\nexport const getStandardizedDate = (standatdisedTimestamp: string) => {\n  return dayjs(standatdisedTimestamp).format(TX_DATE_FORMAT) // dayjs timestamp -> date\n}\n\nexport const findMatchingL1TxForWithdrawal = (\n  withdrawalTxn: MergedTransaction\n) => {\n  // finds the corresponding L1 transaction for withdrawal\n\n  const cachedTransactions: Transaction[] = JSON.parse(\n    window.localStorage.getItem('arbTransactions') || '[]'\n  )\n  const outboxTransactions = cachedTransactions\n    .filter(tx => tx.type === 'outbox')\n    .map(transformDeposit)\n\n  return outboxTransactions.find(_tx => {\n    const l2ToL1MsgData = _tx.l2ToL1MsgData\n\n    if (!(l2ToL1MsgData?.uniqueId && withdrawalTxn?.uniqueId)) {\n      return false\n    }\n\n    // To get rid of Proxy\n    const txUniqueId = BigNumber.from(withdrawalTxn.uniqueId)\n    const _txUniqueId = BigNumber.from(l2ToL1MsgData.uniqueId)\n\n    return txUniqueId.eq(_txUniqueId)\n  })\n}\n","import {\n  isEmpty as _isEmpty,\n  reverse as _reverse,\n  sortBy as _sortBy\n} from 'lodash-es'\nimport { derived } from 'overmind'\nimport { L1ToL2MessageStatus } from '@arbitrum/sdk'\nimport { getAccount } from '@wagmi/core'\nimport { BigNumber } from 'ethers'\nimport dayjs from 'dayjs'\n\nimport {\n  filterTransactions,\n  transformDeposit,\n  transformWithdrawal\n} from './utils'\n\nimport {\n  ArbTokenBridge,\n  AssetType,\n  ERC20BridgeToken,\n  L2ToL1EventResultPlus,\n  NodeBlockDeadlineStatus\n} from '../../hooks/arbTokenBridge.types'\nimport {\n  L1ToL2MessageData,\n  L2ToL1MessageData,\n  Transaction,\n  TxnType\n} from '../../hooks/useTransactions'\nimport { ConnectionState } from '../../util'\nimport { CCTPSupportedChainId } from '../cctpState'\n\nexport enum WhiteListState {\n  VERIFYING,\n  ALLOWED,\n  DISALLOWED\n}\n\nexport enum DepositStatus {\n  L1_PENDING = 1,\n  L1_FAILURE = 2,\n  L2_PENDING = 3,\n  L2_SUCCESS = 4,\n  L2_FAILURE = 5,\n  CREATION_FAILED = 6,\n  EXPIRED = 7,\n  CCTP_DEFAULT_STATE = 8 // Cctp only relies on tx.status\n}\n\nexport interface MergedTransaction {\n  // TODO: https://github.com/OffchainLabs/arbitrum-token-bridge/blob/master/packages/arb-token-bridge-ui/src/util/withdrawals/helpers.ts#L31\n  // should return sender as well, then we can make it non-optional\n  sender?: string\n  destination?: string\n  direction: TxnType\n  status: string // TODO: Use enums\n  createdAt: string | null\n  resolvedAt: string | null\n  txId: string\n  asset: string\n  assetType: AssetType\n  value: string | null\n  uniqueId: BigNumber | null\n  isWithdrawal: boolean\n  blockNum: number | null\n  tokenAddress: string | null\n  isCctp?: boolean\n  nodeBlockDeadline?: NodeBlockDeadlineStatus\n  l1ToL2MsgData?: L1ToL2MessageData\n  l2ToL1MsgData?: L2ToL1MessageData\n  depositStatus?: DepositStatus\n  chainId?: number\n  parentChainId?: number\n  cctpData?: {\n    sourceChainId?: CCTPSupportedChainId\n    attestationHash?: `0x${string}` | null\n    messageBytes?: string | null\n    receiveMessageTransactionHash?: `0x${string}` | null\n    receiveMessageTimestamp?: string | null\n  }\n}\n\nexport interface WarningTokens {\n  [address: string]: {\n    address: string\n    type: number\n  }\n}\n\nexport type AppState = {\n  arbTokenBridge: ArbTokenBridge\n  warningTokens: WarningTokens\n  connectionState: number\n  selectedToken: ERC20BridgeToken | null\n  isDepositMode: boolean\n  sortedTransactions: Transaction[]\n  verifying: WhiteListState\n  pendingTransactions: Transaction[]\n  l1DepositsWithUntrackedL2Messages: Transaction[]\n  failedRetryablesToRedeem: MergedTransaction[]\n  depositsTransformed: MergedTransaction[]\n  withdrawalsTransformed: MergedTransaction[]\n  mergedTransactions: MergedTransaction[]\n  l1NetworkChainId: number | null\n  l2NetworkChainId: number | null\n  arbTokenBridgeLoaded: boolean\n}\n\nexport const defaultState: AppState = {\n  arbTokenBridge: {} as ArbTokenBridge,\n  warningTokens: {} as WarningTokens,\n  connectionState: ConnectionState.LOADING,\n  l1NetworkChainId: null,\n  l2NetworkChainId: null,\n  verifying: WhiteListState.ALLOWED,\n  selectedToken: null,\n  isDepositMode: true,\n  sortedTransactions: derived((s: AppState) => {\n    const transactions = s.arbTokenBridge?.transactions?.transactions || []\n    const account = getAccount()\n    if (!account.address) {\n      return []\n    }\n\n    return filterTransactions(\n      [...transactions],\n      account.address,\n      s.l1NetworkChainId,\n      s.l2NetworkChainId\n    )\n  }),\n  pendingTransactions: derived((s: AppState) => {\n    return s.sortedTransactions.filter(tx => tx.status === 'pending')\n  }),\n  l1DepositsWithUntrackedL2Messages: derived((s: AppState) => {\n    // check 'deposit' and 'deposit-l1' for backwards compatibility with old client side cache\n    return s.sortedTransactions.filter(\n      (txn: Transaction) =>\n        (txn.type === 'deposit' || txn.type === 'deposit-l1') &&\n        txn.status === 'success' &&\n        (!txn.l1ToL2MsgData ||\n          (txn.l1ToL2MsgData.status === L1ToL2MessageStatus.NOT_YET_CREATED &&\n            !txn.l1ToL2MsgData.fetchingUpdate))\n    )\n  }),\n  failedRetryablesToRedeem: derived((s: AppState) => {\n    return s.depositsTransformed.filter(\n      tx => tx.depositStatus === DepositStatus.L2_FAILURE\n    )\n  }),\n  depositsTransformed: derived((s: AppState) => {\n    return s.sortedTransactions\n      .filter(\n        // only take the deposit transactions, rest `outbox`, `approve` etc should not come\n        tx => tx.type === 'deposit' || tx.type === 'deposit-l1'\n      )\n      .map(transformDeposit)\n  }),\n  withdrawalsTransformed: derived((s: AppState) => {\n    const withdrawals = Object.values(\n      s.arbTokenBridge?.pendingWithdrawalsMap || []\n    ) as L2ToL1EventResultPlus[]\n\n    return withdrawals.map(transformWithdrawal)\n  }),\n  mergedTransactions: derived((s: AppState) => {\n    return _reverse(\n      _sortBy([...s.depositsTransformed, ...s.withdrawalsTransformed], item => {\n        if (_isEmpty(item.createdAt)) {\n          return -1\n        }\n        return dayjs(item.createdAt).unix() // numeric format\n      })\n    )\n  }),\n  arbTokenBridgeLoaded: false\n}\nexport const state: AppState = {\n  ...defaultState\n}\n","import {\n  ArbTokenBridge,\n  ERC20BridgeToken\n} from '../../hooks/arbTokenBridge.types'\nimport { Context } from '..'\nimport { ConnectionState } from '../../util'\nimport { WhiteListState, WarningTokens } from './state'\n\nexport const setConnectionState = (\n  { state }: Context,\n  connectionState: ConnectionState\n) => {\n  state.app.connectionState = connectionState\n}\n\nexport const setChainIds = (\n  { state }: Context,\n  payload: { l1NetworkChainId: number; l2NetworkChainId: number }\n) => {\n  state.app.l1NetworkChainId = payload.l1NetworkChainId\n  state.app.l2NetworkChainId = payload.l2NetworkChainId\n}\n\nexport const setIsDepositMode = (\n  { state }: Context,\n  isDepositMode: boolean\n) => {\n  state.app.isDepositMode = isDepositMode\n}\n\nexport const setSelectedToken = (\n  { state }: Context,\n  token: ERC20BridgeToken | null\n) => {\n  state.app.selectedToken = token ? { ...token } : null\n}\n\nexport const reset = ({ state }: Context, newChainId: number) => {\n  if (\n    state.app.l1NetworkChainId !== newChainId &&\n    state.app.l2NetworkChainId !== newChainId\n  ) {\n    // only reset the selected token if we are not switching between the pair of l1-l2 networks.\n    // we dont want to reset the token if we are switching from Goerli to Arbitrum Goerli for example\n    // because we are maybe in the process of auto switching the network and triggering deposit or withdraw\n    state.app.selectedToken = null\n  }\n\n  state.app.arbTokenBridge = {} as ArbTokenBridge\n  state.app.verifying = WhiteListState.ALLOWED\n  state.app.connectionState = ConnectionState.LOADING\n  state.app.arbTokenBridgeLoaded = false\n}\n\nexport const setWarningTokens = (\n  { state }: Context,\n  warningTokens: WarningTokens\n) => {\n  state.app.warningTokens = warningTokens\n}\n\nexport const setWhitelistState = (\n  { state }: Context,\n  verifying: WhiteListState\n) => {\n  state.app.verifying = verifying\n}\n\nexport const setArbTokenBridgeLoaded = (\n  { state }: Context,\n  loaded: boolean\n) => {\n  state.app.arbTokenBridgeLoaded = loaded\n}\n\nexport const setArbTokenBridge = (\n  { state, actions }: Context,\n  atb: ArbTokenBridge\n) => {\n  state.app.arbTokenBridge = atb\n  if (atb && !state.app.arbTokenBridgeLoaded) {\n    actions.app.setArbTokenBridgeLoaded(true)\n  }\n}\n\nexport const getPendingTransactions = ({ state }: Context) => {\n  return state.app.pendingTransactions\n}\n\nexport const l1DepositsWithUntrackedL2Messages = ({ state }: Context) => {\n  return state.app.l1DepositsWithUntrackedL2Messages\n}\n\nexport const getSortedTransactions = ({ state }: Context) => {\n  return state.app.sortedTransactions\n}\n\nexport const getFailedRetryablesToRedeem = ({ state }: Context) => {\n  return state.app.failedRetryablesToRedeem\n}\n","import * as actions from './actions'\nimport { state } from './state'\n\nexport const config = {\n  state,\n  actions\n}\n","import { IContext } from 'overmind'\nimport {\n  createActionsHook,\n  createStateHook,\n  createEffectsHook\n} from 'overmind-react'\nimport { namespaced } from 'overmind/config'\n\nimport * as app from './app'\n\nexport const config = namespaced({\n  app: app.config\n})\n\nexport type Context = IContext<{\n  state: typeof config.state\n  actions: typeof config.actions\n  effects: typeof config.effects\n}>\n\nexport const useAppState = createStateHook<Context>()\nexport const useActions = createActionsHook<Context>()\nexport const useEffects = createEffectsHook<Context>()\n","import React from 'react'\n\nimport {\n  CheckCircleIcon,\n  ExclamationTriangleIcon,\n  InformationCircleIcon,\n  XCircleIcon,\n  CreditCardIcon\n} from '@heroicons/react/24/solid'\n\nconst Alert = ({\n  children,\n  type\n}: {\n  children: React.ReactNode\n  type: 'red' | 'blue' | 'green' | 'yellow' | 'ramps'\n}) => {\n  return (\n    <div\n      className={`rounded-md bg-red-50 p-4 ${\n        type === 'red'\n          ? 'bg-red-50'\n          : type === 'blue'\n          ? 'bg-blue-50'\n          : type === 'yellow'\n          ? 'bg-yellow-50'\n          : 'bg-green-50'\n      }`}\n    >\n      <div className=\"flex\">\n        <div className=\"shrink-0\">\n          {type === 'red' && (\n            <XCircleIcon className=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n          )}\n          {type === 'blue' && (\n            <InformationCircleIcon\n              className=\"h-5 w-5 text-blue-400\"\n              aria-hidden=\"true\"\n            />\n          )}\n          {type === 'yellow' && (\n            <ExclamationTriangleIcon\n              className=\"h-5 w-5 text-yellow-400\"\n              aria-hidden=\"true\"\n            />\n          )}\n          {type === 'green' && (\n            <CheckCircleIcon\n              className=\"h-5 w-5 text-green-400\"\n              aria-hidden=\"true\"\n            />\n          )}\n          {type === 'ramps' && (\n            <CreditCardIcon\n              className=\"h-5 w-5 text-green-400\"\n              aria-hidden=\"true\"\n            />\n          )}\n        </div>\n        <div className=\"ml-3\">\n          <h3\n            className={`text-sm ${\n              type === 'red'\n                ? 'text-red-800'\n                : type === 'blue'\n                ? 'text-blue-800'\n                : type === 'yellow'\n                ? 'text-yellow-800'\n                : 'text-green-700'\n            }`}\n          >\n            {children}\n          </h3>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport { Alert }\n","import { useMemo } from 'react'\n\nimport { Dialog, UseDialogProps } from '../common/Dialog'\nimport { DOCS_DOMAIN } from '../../constants'\n\nexport type TokenDepositCheckDialogType = 'user-added-token' | 'new-token'\n\nexport type TokenDepositCheckDialogProps = UseDialogProps & {\n  type: TokenDepositCheckDialogType\n  symbol: string\n}\n\nexport function TokenDepositCheckDialog(props: TokenDepositCheckDialogProps) {\n  const { type, symbol } = props\n\n  const textContent = useMemo(() => {\n    switch (type) {\n      case 'user-added-token':\n        return (\n          <>\n            You are about to deposit {symbol} to Arbitrum 🎉 <br />\n            <br />\n            <span className=\"text-red-600\">Do not bridge</span> if your token\n            does something non-standard like generates passive interest or is a\n            rebasing stablecoin. <br />\n            <br />\n            Not sure if your token is compatible?\n            <ul>\n              <li>\n                •{' '}\n                <a\n                  href={`${DOCS_DOMAIN}/for-devs/concepts/token-bridge/token-bridge-erc20#the-arbitrum-generic-custom-gateway`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <u>Check the docs</u>\n                </a>\n              </li>\n              <li>\n                {' '}\n                •{' '}\n                <a\n                  href=\"https://discord.gg/ZpZuw7p\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <u>Join Discord and ask</u>\n                </a>\n              </li>\n            </ul>\n            <br />\n          </>\n        )\n\n      case 'new-token':\n        return (\n          <>\n            You are the first to bridge {symbol} to Arbitrum 🎉 <br />\n            <br />\n            <b>Important facts</b>\n            <ol>\n              <li>1. Some tokens are not compatible with the bridge</li>\n              <li>\n                2. The initial bridge is more expensive than following ones\n              </li>\n            </ol>\n            <br />\n            <span className=\"text-red-600\">Do not bridge</span> if your token\n            does something non-standard like generates passive interest or is a\n            rebasing stablecoin. <br />\n            <br />\n            Not sure if your token is compatible?\n            <ul>\n              <li>\n                •{' '}\n                <a\n                  href={`${DOCS_DOMAIN}/for-devs/concepts/token-bridge/token-bridge-erc20#the-arbitrum-generic-custom-gateway`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <u>Check the docs</u>\n                </a>\n              </li>\n              <li>\n                {' '}\n                •{' '}\n                <a\n                  href=\"https://discord.gg/ZpZuw7p\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <u>Join Discord and ask</u>\n                </a>\n              </li>\n            </ul>\n            <br />\n          </>\n        )\n    }\n  }, [type, symbol])\n\n  const title = useMemo(() => {\n    switch (type) {\n      case 'user-added-token':\n        return `Depositing ${symbol} to Arbitrum`\n\n      case 'new-token':\n        return 'New Token Detected'\n    }\n  }, [type, symbol])\n\n  return (\n    <Dialog {...props} title={title}>\n      <p>{textContent}</p>\n    </Dialog>\n  )\n}\n","import { Provider } from '@ethersproject/providers'\nimport useSWRImmutable from 'swr/immutable'\nimport { getL1ERC20Address } from '../util/TokenUtils'\n\n/**\n * Returns L1 address\n *\n * @param eitherL1OrL2Address string Token address (on L1 or L2)\n * @param l2Provider L2 Provider\n * @returns\n */\nexport const useERC20L1Address = ({\n  eitherL1OrL2Address,\n  l2Provider\n}: {\n  eitherL1OrL2Address: string\n  l2Provider: Provider\n}) => {\n  const { data = null, isValidating } = useSWRImmutable(\n    ['useERC20L1Address', eitherL1OrL2Address],\n    async () => {\n      const address =\n        (await getL1ERC20Address({\n          erc20L2Address: eitherL1OrL2Address,\n          l2Provider\n        })) ?? eitherL1OrL2Address\n      return address.toLowerCase()\n    },\n    {\n      shouldRetryOnError: true,\n      errorRetryCount: 2,\n      errorRetryInterval: 1_000\n    }\n  )\n\n  return { data, isLoading: isValidating }\n}\n","import { useState, useEffect, ImgHTMLAttributes } from 'react'\n\nimport { sanitizeImageSrc } from '../../util'\n\nexport type SafeImageProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: JSX.Element\n}\n\nexport function SafeImage(props: SafeImageProps) {\n  const { fallback = null, src, ...imgProps } = props\n  const [validImageSrc, setValidImageSrc] = useState<false | string>(false)\n\n  useEffect(() => {\n    const image = new Image()\n\n    if (typeof src === 'undefined') {\n      setValidImageSrc(false)\n    } else {\n      const sanitizedImageSrc = sanitizeImageSrc(src)\n\n      image.onerror = () => setValidImageSrc(false)\n      image.onload = () => setValidImageSrc(sanitizedImageSrc)\n      image.src = sanitizedImageSrc\n    }\n\n    return function cleanup() {\n      // Abort previous loading\n      image.src = ''\n    }\n  }, [src])\n\n  if (!validImageSrc) {\n    return fallback\n  }\n\n  // SafeImage is used for token logo, we don't know at buildtime where those images will be loaded from\n  // It would throw error if it's loaded from external domains\n  // eslint-disable-next-line @next/next/no-img-element\n  return <img {...imgProps} src={validImageSrc} alt={props.alt || ''} />\n}\n","export default {\"src\":\"/_next/static/media/grumpy-cat.cc151e37.webp\",\"height\":400,\"width\":400,\"blurDataURL\":\"data:image/webp;base64,UklGRloAAABXRUJQVlA4IE4AAADQAQCdASoIAAgAAkA4JQBOgMUAyKNPOAD2tEeiQn5/T/w6hMIVCWVPKf1Y0gPFqqBJseyYHj9ialXk1V2Kc78KdNyXk20px5pZ0Y4AAAA=\",\"blurWidth\":8,\"blurHeight\":8};","export default {\"src\":\"/_next/static/media/arbitrum.ae7c4187.svg\",\"height\":514,\"width\":470,\"blurWidth\":0,\"blurHeight\":0};","export default {\"src\":\"/_next/static/media/uniswap.13b9e818.png\",\"height\":256,\"width\":256,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAQlBMVEX87fX9xuD+///+8Pj/r9VMaXH96/T+///9///+crP96/L/RJr94/D+0uf//f/9utn/8/3+Wqb/gLv/L4/+ncr/nNC4qgRVAAAADXRSTlMv/urp/gD9sfX9s/nsD54gYgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEBJREFUeJwVy1sWgCAIQMGroUAFao/9b7XT/A8NNVManDHKrKDp4kcq1keP+zHMJWNdhr7uQ0ShZpS5wd/7TvsASvICD4A9eQgAAAAASUVORK5CYII=\",\"blurWidth\":8,\"blurHeight\":8};","export default {\"src\":\"/_next/static/media/gemini.6526af28.png\",\"height\":1000,\"width\":1000,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEVMaXEA3foA2/kA4fwA4PoA2fgA3PoAv/8A3PkA3foA2voA6v+PF9dwAAAADHRSTlMAmHq/Sz+KBGWjIpLk8diUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANklEQVR4nBXDiQ3AQAgEsVl+uP77jWLJ0MyujiYK8u+yMmdMEe8cvxcpG9zK5AlKqKA5aYfmAyZqAQdWvDHgAAAAAElFTkSuQmCC\",\"blurWidth\":8,\"blurHeight\":8};","export default {\"src\":\"/_next/static/media/cmc.0dce0ee7.png\",\"height\":471,\"width\":471,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEUAAABMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAChzamIAAAAD3RSTlOrADZEnLtX0W0RgQ999Se0kXKNAAAACXBIWXMAACE4AAAhOAFFljFgAAAAOElEQVR4nBXHRxLAMAwDsSUpuaT9/7me4AZkurFwW/ra4F07o2jVXG8K/jwFzHtEV/C0lCVkgOgAIrEA69MAlmUAAAAASUVORK5CYII=\",\"blurWidth\":8,\"blurHeight\":8};","export default {\"src\":\"/_next/static/media/ArbitrumFoundation.b054058d.png\",\"height\":280,\"width\":280,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAZlBMVEVMaXGPvdyQlJ5dfZiUudfJy9Cap7ao7f+ax+n5//99pcS4vcNATWF3qc3T5/GPrsZ8ocCQxusefbQLWo1btOaqrbQCfcDr//8kMUYJis9BW3UvQ1zOy85NaocdcqWfu85Mkbxei6lUHQqtAAAAGnRSTlMAdP3tX/T+B18aoPv+XHWennb8+uv8+hr7+7ftlgMAAAAJcEhZcwAACxMAAAsTAQCanBgAAABCSURBVHicBcEFAoAgAACxoyTtBqz/f9IN8CHsgBWqFCUsLqe1OS6HK7I+c3LoHOu3ZU3bmDidr8Z2Rt7LaAHfDx5+cTcDMUiqGd0AAAAASUVORK5CYII=\",\"blurWidth\":8,\"blurHeight\":8};","import axios from 'axios'\nimport { schema, TokenList } from '@uniswap/token-lists'\nimport Ajv from 'ajv'\nimport addFormats from 'ajv-formats'\nimport { ImageProps } from 'next/image'\nimport ArbitrumLogo from '@/images/lists/arbitrum.svg'\nimport UniswapLogo from '@/images/lists/uniswap.png'\nimport GeminiLogo from '@/images/lists/gemini.png'\nimport CMCLogo from '@/images/lists/cmc.png'\nimport ArbitrumFoundation from '@/images/lists/ArbitrumFoundation.png'\nimport { ArbTokenBridge } from '../hooks/arbTokenBridge.types'\n\nexport const SPECIAL_ARBITRUM_TOKEN_TOKEN_LIST_ID = 0\n\nexport interface BridgeTokenList {\n  id: number\n  originChainID: number\n  url: string\n  name: string\n  isDefault: boolean\n  isArbitrumTokenTokenList?: boolean\n  logoURI: ImageProps['src']\n}\n\nexport const BRIDGE_TOKEN_LISTS: BridgeTokenList[] = [\n  {\n    id: SPECIAL_ARBITRUM_TOKEN_TOKEN_LIST_ID,\n    originChainID: 0, // This token list spans all Arbitrum chains and their L1 counterparts\n    url: 'https://tokenlist.arbitrum.io/ArbTokenLists/arbitrum_token_token_list.json',\n    name: 'Arbitrum Token',\n    isDefault: true,\n    logoURI: ArbitrumFoundation,\n    isArbitrumTokenTokenList: true\n  },\n  {\n    id: 1,\n    originChainID: 42161,\n    url: 'https://tokenlist.arbitrum.io/ArbTokenLists/arbed_arb_whitelist_era.json',\n    name: 'Arbitrum Whitelist Era',\n    isDefault: true,\n    logoURI: ArbitrumLogo\n  },\n  {\n    id: 2,\n    originChainID: 42161,\n    url: 'https://tokenlist.arbitrum.io/ArbTokenLists/arbed_uniswap_labs_default.json',\n    name: 'Arbed Uniswap List',\n    isDefault: true,\n    logoURI: UniswapLogo\n  },\n  {\n    id: 3,\n    originChainID: 42161,\n    url: 'https://tokenlist.arbitrum.io/ArbTokenLists/arbed_gemini_token_list.json',\n    name: 'Arbed Gemini List',\n    isDefault: true,\n    logoURI: GeminiLogo\n  },\n  {\n    id: 5,\n    originChainID: 42161,\n    url: 'https://tokenlist.arbitrum.io/ArbTokenLists/arbed_coinmarketcap.json',\n    name: 'Arbed CMC List',\n    isDefault: false,\n    logoURI: CMCLogo\n  },\n  {\n    id: 6,\n    originChainID: 42170,\n    url: 'https://tokenlist.arbitrum.io/ArbTokenLists/42170_arbed_uniswap_labs_default.json',\n    name: 'Arbed Uniswap List',\n    isDefault: true,\n    logoURI: UniswapLogo\n  },\n  {\n    id: 7,\n    originChainID: 42170,\n    url: 'https://tokenlist.arbitrum.io/ArbTokenLists/42170_arbed_gemini_token_list.json',\n    name: 'Arbed Gemini List',\n    isDefault: true,\n    logoURI: GeminiLogo\n  },\n  {\n    id: 8,\n    originChainID: 421613,\n    url: 'https://tokenlist.arbitrum.io/ArbTokenLists/421613_arbed_coinmarketcap.json',\n    name: 'Arbed CMC List',\n    isDefault: true,\n    logoURI: CMCLogo\n  },\n  // Dummy data required, otherwise useArbTokenBridge will return undefined bridgeTokens\n  // This will cause TokenImportDialog to hang and fail E2E\n  // TODO: remove list for chain ID 412346 after fix:\n  // https://github.com/OffchainLabs/arb-token-bridge/issues/564\n  {\n    id: 9,\n    // Local node\n    originChainID: 412346,\n    url: 'https://tokenlist.arbitrum.io/ArbTokenLists/421613_arbed_coinmarketcap.json',\n    name: 'Arbed CMC List',\n    isDefault: true,\n    logoURI: CMCLogo\n  }\n]\n\nexport const listIdsToNames: { [key: string]: string } = {}\n\nBRIDGE_TOKEN_LISTS.forEach(bridgeTokenList => {\n  listIdsToNames[bridgeTokenList.id] = bridgeTokenList.name\n})\n\nexport interface TokenListWithId extends TokenList {\n  l2ChainId: string\n  bridgeTokenListId: number\n  isValid?: boolean\n}\n\nexport const validateTokenList = (tokenList: TokenList) => {\n  const ajv = new Ajv()\n  addFormats(ajv)\n  const validate = ajv.compile(schema)\n\n  return validate(tokenList)\n}\n\nexport const addBridgeTokenListToBridge = (\n  bridgeTokenList: BridgeTokenList,\n  arbTokenBridge: ArbTokenBridge\n) => {\n  fetchTokenListFromURL(bridgeTokenList.url).then(\n    ({ isValid, data: tokenList }) => {\n      if (!isValid) return\n\n      arbTokenBridge.token.addTokensFromList(tokenList!, bridgeTokenList.id)\n    }\n  )\n}\n\nexport async function fetchTokenListFromURL(tokenListURL: string): Promise<{\n  isValid: boolean\n  data: TokenList | undefined\n}> {\n  try {\n    const { data } = await axios.get(tokenListURL, {\n      headers: {\n        'Access-Control-Allow-Origin': '*'\n      }\n    })\n\n    if (!validateTokenList(data)) {\n      console.warn('Token List Invalid', data)\n      return { isValid: false, data }\n    }\n\n    return { isValid: true, data }\n  } catch (error) {\n    console.warn('Token List URL Invalid', tokenListURL)\n    return { isValid: false, data: undefined }\n  }\n}\n","import useSWRImmutable from 'swr/immutable'\nimport { SWRResponse } from 'swr'\nimport {\n  BRIDGE_TOKEN_LISTS,\n  fetchTokenListFromURL,\n  TokenListWithId\n} from '../util/TokenListUtils'\n\nexport function fetchTokenLists(\n  forL2ChainId: number\n): Promise<TokenListWithId[]> {\n  return new Promise(resolve => {\n    const requestListArray = BRIDGE_TOKEN_LISTS.filter(\n      bridgeTokenList =>\n        bridgeTokenList.originChainID === forL2ChainId ||\n        // Always load the Arbitrum Token token list\n        bridgeTokenList.isArbitrumTokenTokenList\n    )\n\n    Promise.all(\n      requestListArray.map(bridgeTokenList =>\n        fetchTokenListFromURL(bridgeTokenList.url)\n      )\n    ).then(responses => {\n      const tokenListsWithBridgeTokenListId = responses\n        .map(({ data, isValid }, index) => {\n          const bridgeTokenListId = requestListArray[index]?.id\n\n          if (typeof bridgeTokenListId === 'undefined') {\n            return { ...data, isValid }\n          }\n\n          return {\n            l2ChainId: forL2ChainId,\n            bridgeTokenListId,\n            isValid,\n            ...data\n          }\n        })\n        .filter(list => list?.isValid)\n\n      resolve(tokenListsWithBridgeTokenListId as TokenListWithId[])\n    })\n  })\n}\n\nexport function useTokenLists(\n  forL2ChainId: number\n): SWRResponse<TokenListWithId[]> {\n  return useSWRImmutable(\n    ['useTokenLists', forL2ChainId],\n    ([, _forL2ChainId]) => fetchTokenLists(_forL2ChainId),\n    {\n      shouldRetryOnError: true,\n      errorRetryCount: 2,\n      errorRetryInterval: 1_000\n    }\n  )\n}\n","import { useMemo } from 'react'\nimport { useAppState } from '../../state'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport {\n  ContractStorage,\n  ERC20BridgeToken,\n  TokenType\n} from '../../hooks/arbTokenBridge.types'\nimport { useTokenLists } from '../../hooks/useTokenLists'\nimport { TokenListWithId } from '../../util/TokenListUtils'\n\nexport function useTokensFromLists(): ContractStorage<ERC20BridgeToken> {\n  const {\n    l1: { network: l1Network },\n    l2: { network: l2Network }\n  } = useNetworksAndSigners()\n\n  const { data: tokenLists = [] } = useTokenLists(l2Network.id)\n\n  return useMemo(() => {\n    if (typeof l1Network === 'undefined' || typeof l2Network === 'undefined') {\n      return {}\n    }\n\n    return tokenListsToSearchableTokenStorage(\n      tokenLists,\n      String(l1Network.id),\n      String(l2Network.id)\n    )\n  }, [tokenLists, l1Network, l2Network])\n}\n\nexport function useTokensFromUser(): ContractStorage<ERC20BridgeToken> {\n  const {\n    app: {\n      arbTokenBridge: { bridgeTokens }\n    }\n  } = useAppState()\n\n  return useMemo(() => {\n    const storage: ContractStorage<ERC20BridgeToken> = {}\n\n    // Can happen when switching networks.\n    if (typeof bridgeTokens === 'undefined') {\n      return {}\n    }\n\n    Object.keys(bridgeTokens).forEach((_address: string) => {\n      const bridgeToken = bridgeTokens[_address]\n\n      // Any tokens in the bridge that don't have a list id were added by the user.\n      if (bridgeToken && bridgeToken.listIds.size === 0) {\n        storage[_address] = { ...bridgeToken, listIds: new Set() }\n      }\n    })\n\n    return storage\n  }, [bridgeTokens])\n}\n\nfunction tokenListsToSearchableTokenStorage(\n  tokenLists: TokenListWithId[],\n  l1ChainId: string,\n  l2ChainId: string\n): ContractStorage<ERC20BridgeToken> {\n  return tokenLists.reduce(\n    (acc: ContractStorage<ERC20BridgeToken>, tokenList: TokenListWithId) => {\n      tokenList.tokens.forEach(token => {\n        const address = token.address.toLowerCase()\n        const stringifiedChainId = String(token.chainId)\n        const accAddress = acc[address]\n\n        if (stringifiedChainId === l1ChainId) {\n          // The address is from an L1 token\n          if (typeof accAddress === 'undefined') {\n            // First time encountering the token through its L1 address\n            acc[address] = {\n              ...token,\n              type: TokenType.ERC20,\n              l2Address: undefined,\n              listIds: new Set()\n            }\n          } else {\n            // Token was already added to the map through its L2 token\n            acc[address] = {\n              ...accAddress,\n              address\n            }\n          }\n\n          // acc[address] was defined in the if/else above\n          acc[address]!.listIds.add(tokenList.bridgeTokenListId)\n        } else if (stringifiedChainId === l2ChainId) {\n          // The token is an L2 token\n\n          if (!token.extensions?.bridgeInfo) {\n            return\n          }\n\n          // @ts-ignore TODO\n          // TODO: should we upgrade '@uniswap/token-lists'?\n          const bridgeInfo: {\n            [chainId: string]: { tokenAddress: string }\n          } = token.extensions.bridgeInfo\n\n          const l1Bridge = bridgeInfo[l1ChainId]\n          if (l1Bridge) {\n            const addressOnL1 = l1Bridge.tokenAddress.toLowerCase()\n\n            if (!addressOnL1) {\n              return\n            }\n\n            if (typeof acc[addressOnL1] === 'undefined') {\n              // Token is not on the list yet\n              acc[addressOnL1] = {\n                name: token.name,\n                symbol: token.symbol,\n                type: TokenType.ERC20,\n                logoURI: token.logoURI,\n                address: addressOnL1,\n                l2Address: address,\n                decimals: token.decimals,\n                listIds: new Set()\n              }\n            } else {\n              // The token's L1 address is already on the list, just fill in its L2 address\n              acc[addressOnL1]!.l2Address = address\n            }\n\n            // acc[address] was defined in the if/else above\n            acc[addressOnL1]!.listIds.add(tokenList.bridgeTokenListId)\n          }\n        }\n      })\n\n      return acc\n    },\n    {}\n  )\n}\n","import {\n  ExclamationCircleIcon,\n  InformationCircleIcon\n} from '@heroicons/react/24/outline'\nimport Tippy from '@tippyjs/react'\nimport { useAccount } from 'wagmi'\nimport Image from 'next/image'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useLatest } from 'react-use'\n\nimport { useERC20L1Address } from '../../hooks/useERC20L1Address'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { useActions, useAppState } from '../../state'\nimport { getExplorerUrl } from '../../util/networks'\nimport {\n  erc20DataToErc20BridgeToken,\n  fetchErc20Data,\n  isValidErc20\n} from '../../util/TokenUtils'\nimport { Loader } from '../common/atoms/Loader'\nimport { Dialog, UseDialogProps } from '../common/Dialog'\nimport { SafeImage } from '../common/SafeImage'\nimport GrumpyCat from '@/images/grumpy-cat.webp'\nimport { useTokensFromLists, useTokensFromUser } from './TokenSearchUtils'\nimport { ERC20BridgeToken } from '../../hooks/arbTokenBridge.types'\nimport { warningToast } from '../common/atoms/Toast'\n\nenum ImportStatus {\n  LOADING,\n  KNOWN,\n  KNOWN_UNIMPORTED,\n  UNKNOWN,\n  ERROR\n}\n\ntype TokenListSearchResult =\n  | {\n      found: false\n    }\n  | {\n      found: true\n      token: ERC20BridgeToken\n      status: ImportStatus\n    }\n\nexport type TokenImportDialogProps = UseDialogProps & { tokenAddress: string }\n\nexport function TokenImportDialog({\n  isOpen,\n  onClose,\n  tokenAddress\n}: TokenImportDialogProps): JSX.Element {\n  const { address: walletAddress } = useAccount()\n  const {\n    app: {\n      arbTokenBridge: { bridgeTokens, token },\n      selectedToken\n    }\n  } = useAppState()\n  const { l1, l2 } = useNetworksAndSigners()\n  const actions = useActions()\n\n  const tokensFromUser = useTokensFromUser()\n  const latestTokensFromUser = useLatest(tokensFromUser)\n\n  const tokensFromLists = useTokensFromLists()\n  const latestTokensFromLists = useLatest(tokensFromLists)\n\n  const latestBridgeTokens = useLatest(bridgeTokens)\n\n  const [status, setStatus] = useState<ImportStatus>(ImportStatus.LOADING)\n  const [isImportingToken, setIsImportingToken] = useState<boolean>(false)\n  const [tokenToImport, setTokenToImport] = useState<ERC20BridgeToken>()\n  const { data: l1Address, isLoading: isL1AddressLoading } = useERC20L1Address({\n    eitherL1OrL2Address: tokenAddress,\n    l2Provider: l2.provider\n  })\n\n  const modalTitle = useMemo(() => {\n    switch (status) {\n      case ImportStatus.LOADING:\n        return 'Loading token'\n      case ImportStatus.KNOWN:\n      case ImportStatus.KNOWN_UNIMPORTED:\n        return 'Import known token'\n      case ImportStatus.UNKNOWN:\n        return (\n          <span>\n            Import <span style={{ color: '#CD0000' }}>unknown</span> token{' '}\n          </span>\n        )\n      case ImportStatus.ERROR:\n        return 'Invalid token address'\n    }\n  }, [status])\n\n  const getL1TokenDataFromL1Address = useCallback(async () => {\n    if (!l1Address || !walletAddress) {\n      return\n    }\n\n    const erc20Params = { address: l1Address, provider: l1.provider }\n\n    if (!(await isValidErc20(erc20Params))) {\n      throw new Error(`${l1Address} is not a valid ERC-20 token`)\n    }\n\n    return fetchErc20Data(erc20Params)\n  }, [l1, walletAddress, l1Address])\n\n  const searchForTokenInLists = useCallback(\n    (erc20L1Address: string): TokenListSearchResult => {\n      // We found the token in an imported list\n      const currentBridgeTokens = latestBridgeTokens.current\n      if (typeof currentBridgeTokens === 'undefined') {\n        return { found: false }\n      }\n\n      const l1Token = currentBridgeTokens[erc20L1Address]\n      if (typeof l1Token !== 'undefined') {\n        return {\n          found: true,\n          token: l1Token,\n          status: ImportStatus.KNOWN\n        }\n      }\n\n      const tokens = {\n        ...latestTokensFromLists.current,\n        ...latestTokensFromUser.current\n      }\n\n      const token = tokens[erc20L1Address]\n      // We found the token in an unimported list\n      if (typeof token !== 'undefined') {\n        return {\n          found: true,\n          token,\n          status: ImportStatus.KNOWN_UNIMPORTED\n        }\n      }\n\n      return { found: false }\n    },\n    [latestBridgeTokens, latestTokensFromLists, latestTokensFromUser]\n  )\n\n  const selectToken = useCallback(\n    async (_token: ERC20BridgeToken) => {\n      await token.updateTokenData(_token.address)\n      actions.app.setSelectedToken(_token)\n    },\n    [token, actions]\n  )\n\n  useEffect(() => {\n    if (!isOpen) {\n      return\n    }\n\n    if (typeof bridgeTokens === 'undefined') {\n      return\n    }\n\n    if (!isL1AddressLoading && !l1Address) {\n      setStatus(ImportStatus.ERROR)\n      return\n    }\n\n    if (l1Address) {\n      const searchResult1 = searchForTokenInLists(l1Address)\n\n      if (searchResult1.found) {\n        setStatus(searchResult1.status)\n        setTokenToImport(searchResult1.token)\n\n        return\n      }\n    }\n\n    // Can't find the address provided, so we look further\n    getL1TokenDataFromL1Address()\n      .then(data => {\n        if (!data) {\n          return\n        }\n\n        // We couldn't find the address within our lists\n        setStatus(ImportStatus.UNKNOWN)\n        setTokenToImport(erc20DataToErc20BridgeToken(data))\n      })\n      .catch(() => {\n        setStatus(ImportStatus.ERROR)\n      })\n  }, [\n    tokenAddress,\n    bridgeTokens,\n    getL1TokenDataFromL1Address,\n    isL1AddressLoading,\n    isOpen,\n    l1Address,\n    searchForTokenInLists\n  ])\n\n  useEffect(() => {\n    if (!isOpen) {\n      return\n    }\n\n    if (isL1AddressLoading && !l1Address) {\n      return\n    }\n\n    const foundToken = tokensFromUser[l1Address || tokenAddress]\n\n    if (typeof foundToken === 'undefined') {\n      return\n    }\n\n    // Listen for the token to be added to the bridge so we can automatically select it\n    if (foundToken.address !== selectedToken?.address) {\n      onClose(true)\n      selectToken(foundToken)\n    }\n  }, [\n    isL1AddressLoading,\n    tokenAddress,\n    isOpen,\n    l1Address,\n    onClose,\n    selectToken,\n    selectedToken,\n    tokensFromUser\n  ])\n\n  async function storeNewToken(newToken: string) {\n    return token.add(newToken).catch((ex: Error) => {\n      setStatus(ImportStatus.ERROR)\n\n      if (ex.name === 'TokenDisabledError') {\n        warningToast('This token is currently paused in the bridge')\n      }\n    })\n  }\n\n  function handleTokenImport() {\n    if (typeof bridgeTokens === 'undefined') {\n      return\n    }\n\n    if (isImportingToken) {\n      return\n    }\n\n    setIsImportingToken(true)\n\n    if (!l1Address) {\n      return\n    }\n\n    if (typeof bridgeTokens[l1Address] !== 'undefined') {\n      // Token is already added to the bridge\n      onClose(true)\n      selectToken(tokenToImport!)\n    } else {\n      // Token is not added to the bridge, so we add it\n      storeNewToken(l1Address).catch(() => {\n        setStatus(ImportStatus.ERROR)\n      })\n    }\n  }\n\n  if (status === ImportStatus.LOADING) {\n    return (\n      <Dialog isOpen={isOpen} onClose={onClose} title={modalTitle} isCustom>\n        <div className=\"flex h-48 items-center justify-center md:min-w-[692px]\">\n          <Loader color=\"black\" size=\"medium\" />\n        </div>\n      </Dialog>\n    )\n  }\n\n  if (status === ImportStatus.ERROR) {\n    return (\n      <Dialog\n        isOpen={isOpen}\n        onClose={onClose}\n        title={modalTitle}\n        actionButtonProps={{ className: 'hidden' }}\n      >\n        <div className=\"flex flex-col space-y-2 md:min-w-[628px]\">\n          <div>\n            <div className=\"flex flex-col\">\n              <span>\n                Whoops, looks like this token address is invalid.\n                <br />\n                Try asking the token team to update their link.\n              </span>\n            </div>\n            <div className=\"flex w-full justify-center py-4\">\n              <Image src={GrumpyCat} alt=\"Grumpy cat\" />\n            </div>\n          </div>\n        </div>\n      </Dialog>\n    )\n  }\n\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      title={modalTitle}\n      actionButtonProps={{\n        loading: isImportingToken,\n        onClick: handleTokenImport\n      }}\n      actionButtonTitle=\"Import token\"\n    >\n      <div className=\"flex flex-col space-y-2 md:min-w-[628px] md:max-w-[628px]\">\n        {status === ImportStatus.KNOWN && (\n          <span>This token is on an imported token list as:</span>\n        )}\n\n        {status === ImportStatus.KNOWN_UNIMPORTED && (\n          <span>\n            This token hasn&apos;t been imported yet but appears on a token\n            list. Are you sure you want to import it?\n          </span>\n        )}\n\n        {status === ImportStatus.UNKNOWN && (\n          <div className=\"flex flex-col items-center space-y-3 sm:flex-row sm:space-x-3 sm:space-y-0\">\n            <ExclamationCircleIcon\n              style={{ color: '#CD0000' }}\n              className=\"h-6 w-6\"\n            />\n            <div className=\"flex flex-col\">\n              <span>\n                This token isn&apos;t found on an active token list.\n                <br />\n                Make sure you trust the source that led you here.\n              </span>\n            </div>\n          </div>\n        )}\n\n        <div className=\"flex flex-col items-center py-4\">\n          {tokenToImport?.logoURI && (\n            <SafeImage\n              style={{ width: '25px', height: '25px' }}\n              className=\"mb-2 rounded-full\"\n              src={tokenToImport?.logoURI}\n              alt={`${tokenToImport?.name} logo`}\n            />\n          )}\n          <span className=\"text-xl font-bold leading-6\">\n            {tokenToImport?.symbol}\n          </span>\n          <span className=\"mb-3 mt-0\">{tokenToImport?.name}</span>\n          <a\n            href={`${getExplorerUrl(l1.network.id)}/token/${\n              tokenToImport?.address\n            }`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={{ color: '#1366C1' }}\n            className=\"break-all underline\"\n          >\n            {tokenToImport?.address}\n          </a>\n\n          {status === ImportStatus.UNKNOWN && (\n            <div className=\"flex w-full justify-center pt-4\">\n              <Tippy\n                theme=\"light\"\n                content={\n                  <div>\n                    This token address doesn&apos;t exist in any of the token\n                    lists we have. This doesn&apos;t mean it&apos;s not good, it\n                    just means{' '}\n                    <span className=\"font-bold\">proceed with caution.</span>\n                    <br />\n                    <br />\n                    It&apos;s easy to impersonate the name of any token,\n                    including ETH. Make sure you trust the source it came from.\n                    If it&apos;s a popular token, there&apos;s a good chance we\n                    have it on our list. If it&apos;s a smaller or newer token,\n                    it&apos;s reasonable to believe we might not have it.\n                  </div>\n                }\n              >\n                <span className=\"cursor-pointer underline\">\n                  I&apos;m confused\n                </span>\n              </Tippy>\n            </div>\n          )}\n\n          <div className=\"mt-6 flex w-full justify-start gap-1 rounded-lg bg-cyan p-3 text-sm text-dark\">\n            <InformationCircleIcon className=\"mt-[2px] h-4 w-4 shrink-0 stroke-dark\" />\n            <p>\n              The bridge does not support tokens with non-standard behaviour in\n              balance calculation, i.e. the token balance increases or decreases\n              while sitting in a wallet address. If you are unsure, please\n              contact the team behind the token.\n            </p>\n          </div>\n        </div>\n      </div>\n    </Dialog>\n  )\n}\n","import { Switch } from '@headlessui/react'\nimport { CheckIcon } from '@heroicons/react/24/outline'\n\nexport type CheckboxProps = {\n  label: string | React.ReactNode\n  checked: boolean\n  onChange: (checked: boolean) => void\n}\n\nexport function Checkbox(props: CheckboxProps) {\n  return (\n    <Switch.Group as=\"div\" className=\"flex flex-row items-start space-x-3\">\n      <Switch\n        {...props}\n        className={`arb-hover mt-1 h-4 w-4 rounded transition duration-200 ease-in-out ${\n          props.checked ? 'bg-dark' : 'border border-dark bg-white'\n        }`}\n      >\n        <CheckIcon className=\"h-4 w-4 text-white\" />\n      </Switch>\n      <Switch.Label className=\"cursor-pointer\">{props.label}</Switch.Label>\n    </Switch.Group>\n  )\n}\n","import { useCallback } from 'react'\nimport axios from 'axios'\nimport useSWR, { KeyedMutator } from 'swr'\n\nexport type UseETHPriceResult = {\n  ethPrice: number\n  ethToUSD: (etherValue: number) => number\n  error?: Error\n  isValidating: boolean\n  mutate: KeyedMutator<any>\n}\n\nexport function useETHPrice(): UseETHPriceResult {\n  const { data, error, isValidating, mutate } = useSWR<number, Error>(\n    'https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd',\n    url => axios.get(url).then(res => res.data.ethereum.usd),\n    {\n      refreshInterval: 30_000,\n      shouldRetryOnError: true,\n      errorRetryCount: 2,\n      errorRetryInterval: 3_000\n    }\n  )\n\n  const ethToUSD = useCallback(\n    (etherValue: number) => {\n      const safeETHPrice = typeof data === 'number' ? data : 0\n      return etherValue * safeETHPrice\n    },\n    [data]\n  )\n\n  return { ethPrice: data ?? 0, ethToUSD, error, isValidating, mutate }\n}\n","import { BigNumber, utils } from 'ethers'\n\nexport function formatUSD(value: number) {\n  const formattedValue = value.toLocaleString(undefined, {\n    minimumFractionDigits: Number.isInteger(value) ? undefined : 2,\n    maximumFractionDigits: 2\n  })\n\n  return `$${formattedValue}`\n}\n\nexport enum MaximumFractionDigits {\n  None = 0,\n  Short = 1,\n  Compact = 3,\n  Standard = 4,\n  Long = 5\n}\n\n/**\n * Parse number according to english formatting.\n *\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat\n *\n * Should not be used directly, use formatAmount instead\n */\nconst formatNumber = (\n  number: number,\n  options: {\n    maximumFractionDigits: MaximumFractionDigits\n    notation: 'standard' | 'compact'\n  }\n): string => Intl.NumberFormat('en', options).format(number)\n\n// Format amount according to a specific set of rules to limit space used\nexport const formatAmount = <T extends number | BigNumber>(\n  balance: T,\n  options: {\n    decimals?: T extends number ? never : number\n    symbol?: string\n  } = {}\n): string => {\n  const { decimals, symbol } = options\n  const value: number = BigNumber.isBigNumber(balance)\n    ? parseFloat(utils.formatUnits(balance, decimals))\n    : balance\n  const suffix = symbol ? ` ${symbol}` : ''\n\n  if (value === 0) {\n    return `0${suffix}`\n  }\n\n  const isShortSymbol = options.symbol ? options.symbol.length < 5 : true\n\n  // Small number, show 4 or 5 decimals based on token name length\n  if (value < 1) {\n    const maximumFractionDigits = isShortSymbol\n      ? MaximumFractionDigits.Long\n      : MaximumFractionDigits.Standard\n    const minDisplayValue = Math.pow(10, -maximumFractionDigits)\n    if (value < minDisplayValue) {\n      return `< 0.${'0'.repeat(maximumFractionDigits - 1)}1${suffix}`\n    }\n\n    return (\n      formatNumber(value, {\n        maximumFractionDigits: isShortSymbol\n          ? MaximumFractionDigits.Long\n          : MaximumFractionDigits.Standard,\n        notation: 'compact'\n      }) + suffix\n    )\n  }\n\n  // Long token name, display shortened form with only 1 decimal\n  if (!isShortSymbol) {\n    return (\n      formatNumber(value, {\n        maximumFractionDigits: MaximumFractionDigits.Short,\n        notation: 'compact'\n      }) + suffix\n    )\n  }\n\n  // Show compact number (1.234T, 1.234M)\n  if (value >= 1_000_000) {\n    return (\n      formatNumber(value, {\n        maximumFractionDigits: MaximumFractionDigits.Compact,\n        notation: 'compact'\n      }) + suffix\n    )\n  }\n\n  // Show full number without decimals\n  if (value >= 10_000) {\n    return (\n      formatNumber(value, {\n        maximumFractionDigits: MaximumFractionDigits.None,\n        notation: 'standard'\n      }) + suffix\n    )\n  }\n\n  // Show full number with 4 decimals\n  return (\n    formatNumber(value, {\n      maximumFractionDigits: MaximumFractionDigits.Standard,\n      notation: 'standard'\n    }) + suffix\n  )\n}\n","import { useMemo } from 'react'\nimport { BigNumber, constants, providers } from 'ethers'\nimport useSWR from 'swr'\n\nimport { useChainId } from './useChainId'\n\nexport function useGasPrice({\n  provider\n}: {\n  provider: providers.Provider\n}): BigNumber {\n  const chainId = useChainId({ provider })\n\n  const queryKey = useMemo(() => {\n    if (typeof chainId === 'undefined') {\n      // Don't fetch\n      return null\n    }\n\n    return ['gasPrice', chainId]\n  }, [chainId])\n\n  const { data: gasPrice = constants.Zero } = useSWR(\n    queryKey,\n    () => provider.getGasPrice(),\n    {\n      refreshInterval: 30_000,\n      shouldRetryOnError: true,\n      errorRetryCount: 2,\n      errorRetryInterval: 5_000\n    }\n  )\n\n  return gasPrice\n}\n","export const MessageTransmitterAbi = [\n  {\n    inputs: [\n      { internalType: 'uint32', name: '_localDomain', type: 'uint32' },\n      { internalType: 'address', name: '_attester', type: 'address' },\n      { internalType: 'uint32', name: '_maxMessageBodySize', type: 'uint32' },\n      { internalType: 'uint32', name: '_version', type: 'uint32' }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'constructor'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'attester',\n        type: 'address'\n      }\n    ],\n    name: 'AttesterDisabled',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'attester',\n        type: 'address'\n      }\n    ],\n    name: 'AttesterEnabled',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'previousAttesterManager',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newAttesterManager',\n        type: 'address'\n      }\n    ],\n    name: 'AttesterManagerUpdated',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'newMaxMessageBodySize',\n        type: 'uint256'\n      }\n    ],\n    name: 'MaxMessageBodySizeUpdated',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'caller',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint32',\n        name: 'sourceDomain',\n        type: 'uint32'\n      },\n      { indexed: true, internalType: 'uint64', name: 'nonce', type: 'uint64' },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'sender',\n        type: 'bytes32'\n      },\n      {\n        indexed: false,\n        internalType: 'bytes',\n        name: 'messageBody',\n        type: 'bytes'\n      }\n    ],\n    name: 'MessageReceived',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: false, internalType: 'bytes', name: 'message', type: 'bytes' }\n    ],\n    name: 'MessageSent',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'previousOwner',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newOwner',\n        type: 'address'\n      }\n    ],\n    name: 'OwnershipTransferStarted',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'previousOwner',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newOwner',\n        type: 'address'\n      }\n    ],\n    name: 'OwnershipTransferred',\n    type: 'event'\n  },\n  { anonymous: false, inputs: [], name: 'Pause', type: 'event' },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newAddress',\n        type: 'address'\n      }\n    ],\n    name: 'PauserChanged',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newRescuer',\n        type: 'address'\n      }\n    ],\n    name: 'RescuerChanged',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'oldSignatureThreshold',\n        type: 'uint256'\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'newSignatureThreshold',\n        type: 'uint256'\n      }\n    ],\n    name: 'SignatureThresholdUpdated',\n    type: 'event'\n  },\n  { anonymous: false, inputs: [], name: 'Unpause', type: 'event' },\n  {\n    inputs: [],\n    name: 'acceptOwnership',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'attesterManager',\n    outputs: [{ internalType: 'address', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'address', name: 'attester', type: 'address' }],\n    name: 'disableAttester',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'address', name: 'newAttester', type: 'address' }],\n    name: 'enableAttester',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'uint256', name: 'index', type: 'uint256' }],\n    name: 'getEnabledAttester',\n    outputs: [{ internalType: 'address', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'getNumEnabledAttesters',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'address', name: 'attester', type: 'address' }],\n    name: 'isEnabledAttester',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'localDomain',\n    outputs: [{ internalType: 'uint32', name: '', type: 'uint32' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'maxMessageBodySize',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'nextAvailableNonce',\n    outputs: [{ internalType: 'uint64', name: '', type: 'uint64' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'owner',\n    outputs: [{ internalType: 'address', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'pause',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'paused',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'pauser',\n    outputs: [{ internalType: 'address', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'pendingOwner',\n    outputs: [{ internalType: 'address', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'bytes', name: 'message', type: 'bytes' },\n      { internalType: 'bytes', name: 'attestation', type: 'bytes' }\n    ],\n    name: 'receiveMessage',\n    outputs: [{ internalType: 'bool', name: 'success', type: 'bool' }],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'bytes', name: 'originalMessage', type: 'bytes' },\n      { internalType: 'bytes', name: 'originalAttestation', type: 'bytes' },\n      { internalType: 'bytes', name: 'newMessageBody', type: 'bytes' },\n      { internalType: 'bytes32', name: 'newDestinationCaller', type: 'bytes32' }\n    ],\n    name: 'replaceMessage',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'contract IERC20',\n        name: 'tokenContract',\n        type: 'address'\n      },\n      { internalType: 'address', name: 'to', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' }\n    ],\n    name: 'rescueERC20',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'rescuer',\n    outputs: [{ internalType: 'address', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'uint32', name: 'destinationDomain', type: 'uint32' },\n      { internalType: 'bytes32', name: 'recipient', type: 'bytes32' },\n      { internalType: 'bytes', name: 'messageBody', type: 'bytes' }\n    ],\n    name: 'sendMessage',\n    outputs: [{ internalType: 'uint64', name: '', type: 'uint64' }],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'uint32', name: 'destinationDomain', type: 'uint32' },\n      { internalType: 'bytes32', name: 'recipient', type: 'bytes32' },\n      { internalType: 'bytes32', name: 'destinationCaller', type: 'bytes32' },\n      { internalType: 'bytes', name: 'messageBody', type: 'bytes' }\n    ],\n    name: 'sendMessageWithCaller',\n    outputs: [{ internalType: 'uint64', name: '', type: 'uint64' }],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'uint256',\n        name: 'newMaxMessageBodySize',\n        type: 'uint256'\n      }\n    ],\n    name: 'setMaxMessageBodySize',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'uint256',\n        name: 'newSignatureThreshold',\n        type: 'uint256'\n      }\n    ],\n    name: 'setSignatureThreshold',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'signatureThreshold',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'address', name: 'newOwner', type: 'address' }],\n    name: 'transferOwnership',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'unpause',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'address', name: 'newAttesterManager', type: 'address' }\n    ],\n    name: 'updateAttesterManager',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'address', name: '_newPauser', type: 'address' }],\n    name: 'updatePauser',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'address', name: 'newRescuer', type: 'address' }],\n    name: 'updateRescuer',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'bytes32', name: '', type: 'bytes32' }],\n    name: 'usedNonces',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'version',\n    outputs: [{ internalType: 'uint32', name: '', type: 'uint32' }],\n    stateMutability: 'view',\n    type: 'function'\n  }\n] as const\n","export const TokenMessengerAbi = [\n  {\n    inputs: [\n      { internalType: 'address', name: '_messageTransmitter', type: 'address' },\n      { internalType: 'uint32', name: '_messageBodyVersion', type: 'uint32' }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'constructor'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: 'uint64', name: 'nonce', type: 'uint64' },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'burnToken',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'depositor',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'mintRecipient',\n        type: 'bytes32'\n      },\n      {\n        indexed: false,\n        internalType: 'uint32',\n        name: 'destinationDomain',\n        type: 'uint32'\n      },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'destinationTokenMessenger',\n        type: 'bytes32'\n      },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'destinationCaller',\n        type: 'bytes32'\n      }\n    ],\n    name: 'DepositForBurn',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'localMinter',\n        type: 'address'\n      }\n    ],\n    name: 'LocalMinterAdded',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'localMinter',\n        type: 'address'\n      }\n    ],\n    name: 'LocalMinterRemoved',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'mintRecipient',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'mintToken',\n        type: 'address'\n      }\n    ],\n    name: 'MintAndWithdraw',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'previousOwner',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newOwner',\n        type: 'address'\n      }\n    ],\n    name: 'OwnershipTransferStarted',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'previousOwner',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newOwner',\n        type: 'address'\n      }\n    ],\n    name: 'OwnershipTransferred',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'uint32',\n        name: 'domain',\n        type: 'uint32'\n      },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'tokenMessenger',\n        type: 'bytes32'\n      }\n    ],\n    name: 'RemoteTokenMessengerAdded',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'uint32',\n        name: 'domain',\n        type: 'uint32'\n      },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'tokenMessenger',\n        type: 'bytes32'\n      }\n    ],\n    name: 'RemoteTokenMessengerRemoved',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newRescuer',\n        type: 'address'\n      }\n    ],\n    name: 'RescuerChanged',\n    type: 'event'\n  },\n  {\n    inputs: [],\n    name: 'acceptOwnership',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'address', name: 'newLocalMinter', type: 'address' }\n    ],\n    name: 'addLocalMinter',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'uint32', name: 'domain', type: 'uint32' },\n      { internalType: 'bytes32', name: 'tokenMessenger', type: 'bytes32' }\n    ],\n    name: 'addRemoteTokenMessenger',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n      { internalType: 'uint32', name: 'destinationDomain', type: 'uint32' },\n      { internalType: 'bytes32', name: 'mintRecipient', type: 'bytes32' },\n      { internalType: 'address', name: 'burnToken', type: 'address' }\n    ],\n    name: 'depositForBurn',\n    outputs: [{ internalType: 'uint64', name: '_nonce', type: 'uint64' }],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n      { internalType: 'uint32', name: 'destinationDomain', type: 'uint32' },\n      { internalType: 'bytes32', name: 'mintRecipient', type: 'bytes32' },\n      { internalType: 'address', name: 'burnToken', type: 'address' },\n      { internalType: 'bytes32', name: 'destinationCaller', type: 'bytes32' }\n    ],\n    name: 'depositForBurnWithCaller',\n    outputs: [{ internalType: 'uint64', name: 'nonce', type: 'uint64' }],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'uint32', name: 'remoteDomain', type: 'uint32' },\n      { internalType: 'bytes32', name: 'sender', type: 'bytes32' },\n      { internalType: 'bytes', name: 'messageBody', type: 'bytes' }\n    ],\n    name: 'handleReceiveMessage',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'localMessageTransmitter',\n    outputs: [\n      {\n        internalType: 'contract IMessageTransmitter',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'localMinter',\n    outputs: [\n      { internalType: 'contract ITokenMinter', name: '', type: 'address' }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'messageBodyVersion',\n    outputs: [{ internalType: 'uint32', name: '', type: 'uint32' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'owner',\n    outputs: [{ internalType: 'address', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'pendingOwner',\n    outputs: [{ internalType: 'address', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'uint32', name: '', type: 'uint32' }],\n    name: 'remoteTokenMessengers',\n    outputs: [{ internalType: 'bytes32', name: '', type: 'bytes32' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'removeLocalMinter',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'uint32', name: 'domain', type: 'uint32' }],\n    name: 'removeRemoteTokenMessenger',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { internalType: 'bytes', name: 'originalMessage', type: 'bytes' },\n      { internalType: 'bytes', name: 'originalAttestation', type: 'bytes' },\n      {\n        internalType: 'bytes32',\n        name: 'newDestinationCaller',\n        type: 'bytes32'\n      },\n      { internalType: 'bytes32', name: 'newMintRecipient', type: 'bytes32' }\n    ],\n    name: 'replaceDepositForBurn',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'contract IERC20',\n        name: 'tokenContract',\n        type: 'address'\n      },\n      { internalType: 'address', name: 'to', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' }\n    ],\n    name: 'rescueERC20',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'rescuer',\n    outputs: [{ internalType: 'address', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'address', name: 'newOwner', type: 'address' }],\n    name: 'transferOwnership',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'address', name: 'newRescuer', type: 'address' }],\n    name: 'updateRescuer',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  }\n] as const\n","import { ApolloClient, gql, HttpLink, InMemoryCache } from '@apollo/client'\nimport { NextApiRequest, NextApiResponse } from 'next'\nimport { ChainId } from '../../../util/networks'\n\nconst subgraphUrl = process.env.NEXT_PUBLIC_CCTP_SUBGRAPH_BASE_URL\nif (!subgraphUrl) {\n  console.warn('NEXT_PUBLIC_CCTP_SUBGRAPH_BASE_URL variable missing.')\n}\n\nexport function getSubgraphClient(subgraph: string) {\n  return new ApolloClient({\n    link: new HttpLink({\n      uri: `${subgraphUrl}${subgraph}`,\n      fetch\n    }),\n    cache: new InMemoryCache()\n  })\n}\n\n// Extending the standard NextJs request with CCTP params\nexport type NextApiRequestWithCCTPParams = NextApiRequest & {\n  query: {\n    walletAddress: `0x${string}`\n    l1ChainId: string\n    pageNumber?: string\n    pageSize?: string\n  }\n}\n\nexport enum ChainDomain {\n  Ethereum = 0,\n  ArbitrumOne = 3\n}\n\nexport type MessageReceived = {\n  blockNumber: string\n  blockTimestamp: string\n  caller: `0x${string}`\n  id: string\n  messageBody: string\n  nonce: string\n  sender: `0x${string}`\n  sourceDomain: `${ChainDomain}`\n  transactionHash: `0x${string}`\n}\n\nexport type MessageSent = {\n  attestationHash: `0x${string}`\n  blockNumber: string\n  blockTimestamp: string\n  id: string\n  message: string\n  nonce: string\n  sender: `0x${string}`\n  recipient: `0x${string}`\n  sourceDomain: `${ChainDomain}`\n  transactionHash: `0x${string}`\n  amount: string\n}\n\nexport type PendingCCTPTransfer = {\n  messageSent: MessageSent\n}\n\nexport type CompletedCCTPTransfer = PendingCCTPTransfer & {\n  messageReceived: MessageReceived\n}\n\nexport type Response =\n  | {\n      data: {\n        pending: PendingCCTPTransfer[]\n        completed: CompletedCCTPTransfer[]\n      }\n      error: null\n    }\n  | {\n      data: {\n        pending: []\n        completed: []\n      }\n      error: string\n    }\n\nexport default async function handler(\n  req: NextApiRequestWithCCTPParams,\n  res: NextApiResponse<Response>\n) {\n  try {\n    const {\n      walletAddress,\n      l1ChainId: l1ChainIdString,\n      pageNumber = '0',\n      pageSize = '10',\n      type\n    } = req.query\n    const l1ChainId = parseInt(l1ChainIdString, 10)\n\n    if (\n      typeof type !== 'string' ||\n      (type !== 'deposits' && type !== 'withdrawals')\n    ) {\n      res.status(400).send({\n        error: `invalid API route: ${type}`,\n        data: {\n          pending: [],\n          completed: []\n        }\n      })\n      return\n    }\n\n    // validate method\n    if (req.method !== 'GET') {\n      res.status(400).send({\n        error: `invalid_method: ${req.method}`,\n        data: {\n          pending: [],\n          completed: []\n        }\n      })\n      return\n    }\n\n    // validate the request parameters\n    const errorMessage = []\n    if (!l1ChainId) errorMessage.push('<l1ChainId> is required')\n    if (!walletAddress) errorMessage.push('<walletAddress> is required')\n\n    if (errorMessage.length) {\n      res.status(400).json({\n        error: `incomplete request: ${errorMessage.join(', ')}`,\n        data: {\n          pending: [],\n          completed: []\n        }\n      })\n      return\n    }\n\n    const l1Subgraph = getSubgraphClient(\n      l1ChainId === ChainId.Ethereum ? 'cctp-mainnet' : 'cctp-goerli'\n    )\n    const l2Subgraph = getSubgraphClient(\n      l1ChainId === ChainId.Ethereum ? 'cctp-arb-one' : 'cctp-arb-goerli'\n    )\n\n    const messagesSentQuery = gql(`{\n      messageSents(\n        where: {\n          or: [\n            { sender: \"${walletAddress}\" },\n            { recipient: \"${walletAddress}\" }\n          ]\n        }\n        orderDirection: \"desc\"\n        orderBy: \"blockTimestamp\"\n        first: ${Number(pageSize)}\n        skip: ${Number(pageNumber) * Number(pageSize)}\n      ) {\n        attestationHash\n        blockNumber\n        blockTimestamp\n        id\n        message\n        sender\n        recipient\n        sourceDomain\n        transactionHash\n        amount\n      }\n    }`)\n\n    const sourceSubgraph = type === 'deposits' ? l1Subgraph : l2Subgraph\n    const messagesSentResult = await sourceSubgraph.query<{\n      messageSents: MessageSent[]\n    }>({\n      query: messagesSentQuery\n    })\n    const { messageSents } = messagesSentResult.data\n    const formattedIds = messageSents.map(messageSent => `\"${messageSent.id}\"`)\n\n    const messagesReceivedQuery = gql(`{\n        messageReceiveds(\n          where: {id_in: [${formattedIds.join(',')}]}\n          orderDirection: \"desc\"\n          orderBy: \"blockTimestamp\"\n        ) {\n          id\n          caller\n          sourceDomain\n          blockTimestamp\n          blockNumber\n          messageBody\n          sender\n          transactionHash\n        }\n      }\n    `)\n\n    const targetSubgraph = type === 'deposits' ? l2Subgraph : l1Subgraph\n    const messagesReceivedResult = await targetSubgraph.query<{\n      messageReceiveds: MessageReceived[]\n    }>({\n      query: messagesReceivedQuery\n    })\n\n    const { messageReceiveds } = messagesReceivedResult.data\n\n    // MessagesSent can be link to MessageReceived with the tuple (sourceDomain, nonce)\n    // Map constructor accept an array of [key, value] arrays\n    // new Map(['key1', 'value1'], ['key2', 'value2'], ['keyN', 'valueN']) would return\n    // Map(3) {'key1' => 'value1', 'key2' => 'value2', 'keyN' => 'valueN'}\n    // We create a map with all keys being MessagesReceived ids, and values being the corresponding MessageReceived\n    const messagesReceivedMap = new Map(\n      messageReceiveds.map(messageReceived => [\n        messageReceived.id,\n        messageReceived\n      ])\n    )\n\n    const { pending, completed } = messageSents.reduce(\n      (acc, messageSent) => {\n        // If the MessageSent has a corresponding MessageReceived\n        const messageReceived = messagesReceivedMap.get(messageSent.id)\n        if (messageReceived) {\n          acc.completed.push({\n            messageReceived,\n            messageSent\n          })\n        } else {\n          acc.pending.push({\n            messageSent\n          })\n        }\n        return acc\n      },\n      { completed: [], pending: [] } as {\n        completed: CompletedCCTPTransfer[]\n        pending: PendingCCTPTransfer[]\n      }\n    )\n\n    res.status(200).json({\n      data: {\n        pending,\n        completed\n      },\n      error: null\n    })\n  } catch (error: unknown) {\n    res.status(500).json({\n      data: {\n        pending: [],\n        completed: []\n      },\n      error: (error as Error)?.message ?? 'Something went wrong'\n    })\n  }\n}\n","import { utils, BigNumber, Signer } from 'ethers'\nimport { useCallback } from 'react'\nimport { prepareWriteContract, writeContract } from '@wagmi/core'\n\nimport { ChainId } from '../../util/networks'\nimport { MessageTransmitterAbi } from '../../util/cctp/MessageTransmitterAbi'\nimport { TokenMessengerAbi } from '../../util/cctp/TokenMessengerAbi'\nimport { ERC20__factory } from '@arbitrum/sdk/dist/lib/abi/factories/ERC20__factory'\nimport { CommonAddress } from '../../util/CommonAddressUtils'\nimport { ChainDomain } from '../../pages/api/cctp/[type]'\nimport { CCTPSupportedChainId } from '../../state/cctpState'\n\n// see https://developers.circle.com/stablecoin/docs/cctp-protocol-contract\ntype Contracts = {\n  tokenMessengerContractAddress: `0x${string}`\n  targetChainDomain: ChainDomain\n  targetChainId: CCTPSupportedChainId\n  usdcContractAddress: `0x${string}`\n  messageTransmitterContractAddress: `0x${string}`\n  attestationApiUrl: string\n  tokenMinterContractAddress: `0x${string}`\n}\n\nconst contracts: Record<CCTPSupportedChainId, Contracts> = {\n  [ChainId.Ethereum]: {\n    tokenMessengerContractAddress:\n      CommonAddress.Ethereum.tokenMessengerContractAddress,\n    targetChainDomain: ChainDomain.ArbitrumOne,\n    targetChainId: ChainId.ArbitrumOne,\n    usdcContractAddress: CommonAddress.Ethereum.USDC,\n    messageTransmitterContractAddress:\n      '0xc30362313fbba5cf9163f0bb16a0e01f01a896ca',\n    attestationApiUrl: 'https://iris-api.circle.com/v1',\n    tokenMinterContractAddress: '0xc4922d64a24675e16e1586e3e3aa56c06fabe907'\n  },\n  [ChainId.Goerli]: {\n    tokenMessengerContractAddress:\n      CommonAddress.Goerli.tokenMessengerContractAddress,\n    targetChainDomain: ChainDomain.ArbitrumOne,\n    targetChainId: ChainId.ArbitrumGoerli,\n    usdcContractAddress: CommonAddress.Goerli.USDC,\n    messageTransmitterContractAddress:\n      '0x109bc137cb64eab7c0b1dddd1edf341467dc2d35',\n    attestationApiUrl: 'https://iris-api-sandbox.circle.com/v1',\n    tokenMinterContractAddress: '0xca6b4c00831ffb77afe22e734a6101b268b7fcbe'\n  },\n  [ChainId.ArbitrumOne]: {\n    tokenMessengerContractAddress:\n      CommonAddress.ArbitrumOne.tokenMessengerContractAddress,\n    targetChainDomain: ChainDomain.Ethereum,\n    targetChainId: ChainId.Ethereum,\n    usdcContractAddress: CommonAddress.ArbitrumOne.USDC,\n    messageTransmitterContractAddress:\n      '0x0a992d191deec32afe36203ad87d7d289a738f81',\n    attestationApiUrl: 'https://iris-api.circle.com/v1',\n    tokenMinterContractAddress: '0xe7ed1fa7f45d05c508232aa32649d89b73b8ba48'\n  },\n  [ChainId.ArbitrumGoerli]: {\n    tokenMessengerContractAddress:\n      CommonAddress.ArbitrumGoerli.tokenMessengerContractAddress,\n    targetChainDomain: ChainDomain.Ethereum,\n    targetChainId: ChainId.Goerli,\n    usdcContractAddress: CommonAddress.ArbitrumGoerli.USDC,\n    messageTransmitterContractAddress:\n      '0x26413e8157cd32011e726065a5462e97dd4d03d9',\n    attestationApiUrl: 'https://iris-api-sandbox.circle.com/v1',\n    tokenMinterContractAddress: '0xe997d7d2f6e065a9a93fa2175e878fb9081f1f0a'\n  }\n}\n\nexport type AttestationResponse =\n  | {\n      attestation: `0x${string}`\n      status: 'complete'\n    }\n  | {\n      attestation: null\n      status: 'pending_confirmations'\n    }\n\nexport function getContracts(chainId: ChainId | undefined) {\n  if (!chainId) {\n    return contracts[ChainId.Ethereum]\n  }\n  return (\n    contracts[chainId as CCTPSupportedChainId] || contracts[ChainId.Ethereum]\n  )\n}\n\nexport type UseCCTPParams = {\n  sourceChainId: ChainId | undefined\n}\nexport function useCCTP({ sourceChainId }: UseCCTPParams) {\n  const {\n    tokenMessengerContractAddress,\n    targetChainDomain,\n    targetChainId,\n    attestationApiUrl,\n    usdcContractAddress,\n    messageTransmitterContractAddress\n  } = getContracts(sourceChainId)\n\n  const depositForBurn = useCallback(\n    async ({\n      amount,\n      signer,\n      recipient\n    }: {\n      amount: BigNumber\n      signer: Signer\n      recipient: string\n    }) => {\n      // CCTP uses 32 bytes addresses, while EVEM uses 20 bytes addresses\n      const mintRecipient = utils.hexlify(\n        utils.zeroPad(recipient, 32)\n      ) as `0x${string}`\n\n      const config = await prepareWriteContract({\n        address: tokenMessengerContractAddress,\n        abi: TokenMessengerAbi,\n        functionName: 'depositForBurn',\n        signer,\n        args: [amount, targetChainDomain, mintRecipient, usdcContractAddress]\n      })\n      return writeContract(config)\n    },\n    [tokenMessengerContractAddress, targetChainDomain, usdcContractAddress]\n  )\n\n  const fetchAttestation = useCallback(\n    async (attestationHash: `0x${string}`) => {\n      const response = await fetch(\n        `${attestationApiUrl}/attestations/${attestationHash}`,\n        { method: 'GET', headers: { accept: 'application/json' } }\n      )\n\n      const attestationResponse: AttestationResponse = await response.json()\n      return attestationResponse\n    },\n    [attestationApiUrl]\n  )\n\n  const waitForAttestation = useCallback(\n    async (attestationHash: `0x${string}`) => {\n      while (true) {\n        const attestation = await fetchAttestation(attestationHash)\n        if (attestation.status === 'complete') {\n          return attestation.attestation\n        }\n\n        await new Promise(r => setTimeout(r, 30_000))\n      }\n    },\n    [fetchAttestation]\n  )\n\n  const receiveMessage = useCallback(\n    async ({\n      messageBytes,\n      attestation,\n      signer\n    }: {\n      messageBytes: `0x${string}`\n      attestation: `0x${string}`\n      signer: Signer\n    }) => {\n      const config = await prepareWriteContract({\n        address: messageTransmitterContractAddress,\n        abi: MessageTransmitterAbi,\n        functionName: 'receiveMessage',\n        chainId: targetChainId,\n        signer,\n        args: [messageBytes, attestation]\n      })\n      return writeContract(config)\n    },\n    [messageTransmitterContractAddress, targetChainId]\n  )\n\n  const approveForBurn = useCallback(\n    async (amount: BigNumber, signer: Signer) => {\n      const contract = ERC20__factory.connect(usdcContractAddress, signer)\n      return contract.functions.approve(tokenMessengerContractAddress, amount)\n    },\n    [usdcContractAddress, tokenMessengerContractAddress]\n  )\n\n  return {\n    approveForBurn,\n    depositForBurn,\n    receiveMessage,\n    fetchAttestation,\n    waitForAttestation\n  }\n}\n","import { ERC20__factory } from '@arbitrum/sdk/dist/lib/abi/factories/ERC20__factory'\nimport { MaxUint256 } from '@ethersproject/constants'\nimport { Provider } from '@ethersproject/providers'\nimport { BigNumber, constants, Signer } from 'ethers'\nimport { getContracts } from '../hooks/CCTP/useCCTP'\nimport { CCTPSupportedChainId } from '../state/cctpState'\nimport { fetchErc20L1GatewayAddress } from './TokenUtils'\n\nexport const approveTokenEstimateGas = async ({\n  erc20L1Address,\n  address,\n  l1Provider,\n  l2Provider\n}: {\n  erc20L1Address: string\n  address: string\n  l1Provider: Provider\n  l2Provider: Provider\n}) => {\n  const l1GatewayAddress = await fetchErc20L1GatewayAddress({\n    erc20L1Address,\n    l1Provider,\n    l2Provider\n  })\n\n  const contract = ERC20__factory.connect(erc20L1Address, l1Provider)\n\n  return contract.estimateGas.approve(l1GatewayAddress, MaxUint256, {\n    from: address\n  })\n}\n\nexport async function approveCctpEstimateGas(\n  sourceChainId: CCTPSupportedChainId,\n  amount: BigNumber,\n  signer: Signer\n) {\n  const { usdcContractAddress, tokenMessengerContractAddress } =\n    getContracts(sourceChainId)\n  const contract = ERC20__factory.connect(usdcContractAddress, signer)\n\n  try {\n    return await contract.estimateGas.approve(\n      tokenMessengerContractAddress,\n      amount\n    )\n  } catch (e) {\n    return constants.Zero\n  }\n}\n","import { isNetwork } from '../util/networks'\nimport { useNetworksAndSigners } from './useNetworksAndSigners'\n\nexport type ChainLayer = 'L1' | 'L2' | 'Orbit'\n\nfunction getChainLayerByChainId(chainId: number): ChainLayer {\n  const { isEthereumMainnetOrTestnet, isArbitrum } = isNetwork(chainId)\n\n  if (isEthereumMainnetOrTestnet) {\n    return 'L1'\n  }\n  if (isArbitrum) {\n    return 'L2'\n  }\n  return 'Orbit'\n}\n\nexport const useChainLayers = () => {\n  const { l1, l2 } = useNetworksAndSigners()\n\n  return {\n    parentLayer: getChainLayerByChainId(l1.network.id),\n    layer: getChainLayerByChainId(l2.network.id)\n  }\n}\n","import * as Sentry from '@sentry/react'\n\nexport function shortenAddress(address: string) {\n  const addressLength = address.length\n\n  return `${address.substring(0, 5)}...${address.substring(\n    addressLength - 4,\n    addressLength\n  )}`\n}\n\nexport function shortenTxHash(txHash: string) {\n  const txHashLength = txHash.length\n\n  return `${txHash.substring(0, 7)}...${txHash.substring(\n    txHashLength - 4,\n    txHashLength\n  )}`\n}\n\nexport const isTestingEnvironment =\n  !!window.Cypress || process.env.NODE_ENV !== 'production'\n\nexport const createBlockExplorerUrlForToken = ({\n  explorerLink,\n  tokenAddress\n}: {\n  explorerLink: string | undefined\n  tokenAddress: string | undefined\n}): string | undefined => {\n  if (!explorerLink) {\n    return undefined\n  }\n  if (!tokenAddress) {\n    return undefined\n  }\n  try {\n    const url = new URL(explorerLink)\n    url.pathname += `token/${tokenAddress}`\n    return url.toString()\n  } catch (error) {\n    Sentry.captureException(error)\n    return undefined\n  }\n}\n","import { useEffect, useMemo, useState } from 'react'\nimport {\n  InformationCircleIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/react/24/outline'\nimport { BigNumber, constants, utils } from 'ethers'\nimport { useAccount } from 'wagmi'\n\nimport { useChainId, useSigner } from 'wagmi'\nimport { useAppState } from '../../state'\nimport { Dialog, UseDialogProps } from '../common/Dialog'\nimport { Checkbox } from '../common/Checkbox'\nimport { SafeImage } from '../common/SafeImage'\nimport { ExternalLink } from '../common/ExternalLink'\nimport { useETHPrice } from '../../hooks/useETHPrice'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { formatAmount, formatUSD } from '../../util/NumberUtils'\nimport { getExplorerUrl, isNetwork } from '../../util/networks'\nimport { ERC20BridgeToken } from '../../hooks/arbTokenBridge.types'\nimport { useGasPrice } from '../../hooks/useGasPrice'\nimport {\n  approveCctpEstimateGas,\n  approveTokenEstimateGas\n} from '../../util/TokenApprovalUtils'\nimport { TOKEN_APPROVAL_ARTICLE_LINK, ether } from '../../constants'\nimport { useChainLayers } from '../../hooks/useChainLayers'\nimport { getContracts } from '../../hooks/CCTP/useCCTP'\nimport {\n  fetchErc20L1GatewayAddress,\n  fetchErc20L2GatewayAddress\n} from '../../util/TokenUtils'\nimport { shortenTxHash } from '../../util/CommonUtils'\n\nexport type TokenApprovalDialogProps = UseDialogProps & {\n  token: ERC20BridgeToken | null\n  allowance: BigNumber | null\n  amount: string\n  isCctp: boolean\n}\n\nexport function TokenApprovalDialog(props: TokenApprovalDialogProps) {\n  const { address: walletAddress } = useAccount()\n  const { allowance, isOpen, amount, token, isCctp } = props\n  const {\n    app: { isDepositMode }\n  } = useAppState()\n\n  const allowanceParsed =\n    allowance && token ? utils.formatUnits(allowance, token.decimals) : 0\n  const { ethToUSD } = useETHPrice()\n\n  const { l1, l2 } = useNetworksAndSigners()\n  const { parentLayer, layer } = useChainLayers()\n  const { isEthereumMainnet, isTestnet } = isNetwork(l1.network.id)\n  const provider = isDepositMode ? l1.provider : l2.provider\n  const gasPrice = useGasPrice({ provider })\n  const chainId = useChainId()\n  const { data: signer } = useSigner({\n    chainId\n  })\n\n  const [checked, setChecked] = useState(false)\n  const [estimatedGas, setEstimatedGas] = useState<BigNumber>(constants.Zero)\n  const [contractAddress, setContractAddress] = useState<string>('')\n\n  // Estimated gas fees, denominated in Ether, represented as a floating point number\n  const estimatedGasFees = useMemo(\n    () => parseFloat(utils.formatEther(estimatedGas.mul(gasPrice))),\n    [estimatedGas, gasPrice]\n  )\n\n  const approvalFeeText = useMemo(() => {\n    const eth = formatAmount(estimatedGasFees, { symbol: ether.symbol })\n    const usd = formatUSD(ethToUSD(estimatedGasFees))\n    return `${eth}${isEthereumMainnet ? ` (${usd})` : ''}`\n  }, [estimatedGasFees, ethToUSD, isEthereumMainnet])\n\n  useEffect(() => {\n    if (!isOpen) {\n      return\n    }\n\n    async function getEstimatedGas() {\n      if (!token?.address) {\n        return\n      }\n\n      let gasEstimate\n\n      if (isCctp) {\n        if (!signer) {\n          gasEstimate = constants.Zero\n        } else {\n          gasEstimate = await approveCctpEstimateGas(\n            chainId,\n            constants.MaxUint256,\n            signer\n          )\n        }\n      } else if (walletAddress) {\n        gasEstimate = await approveTokenEstimateGas({\n          erc20L1Address: token.address,\n          address: walletAddress,\n          l1Provider: l1.provider,\n          l2Provider: l2.provider\n        })\n      }\n\n      if (gasEstimate) {\n        setEstimatedGas(gasEstimate)\n      }\n    }\n\n    getEstimatedGas()\n  }, [\n    isCctp,\n    isOpen,\n    isDepositMode,\n    isTestnet,\n    chainId,\n    signer,\n    walletAddress,\n    token?.address,\n    l1.provider,\n    l2.provider\n  ])\n\n  useEffect(() => {\n    const getContractAddress = async function () {\n      if (isCctp) {\n        setContractAddress(getContracts(chainId)?.tokenMessengerContractAddress)\n        return\n      }\n      if (!token?.address) {\n        setContractAddress('')\n        return\n      }\n      if (isDepositMode) {\n        setContractAddress(\n          await fetchErc20L1GatewayAddress({\n            erc20L1Address: token.address,\n            l1Provider: l1.provider,\n            l2Provider: l2.provider\n          })\n        )\n        return\n      }\n      setContractAddress(\n        await fetchErc20L2GatewayAddress({\n          erc20L1Address: token.address,\n          l2Provider: l2.provider\n        })\n      )\n    }\n    getContractAddress()\n  }, [chainId, isCctp, isDepositMode, l1.provider, l2.provider, token?.address])\n\n  function closeWithReset(confirmed: boolean) {\n    props.onClose(confirmed)\n\n    setChecked(false)\n  }\n\n  const displayAllowanceWarning = allowance && !allowance.isZero()\n  const noteMessage = (() => {\n    if (isDepositMode) {\n      return isCctp\n        ? `the CCTP ${layer} deposit fee.`\n        : `the standard ${layer} deposit fee.`\n    }\n    return isCctp\n      ? `the CCTP ${parentLayer} deposit fee.`\n      : `the standard ${parentLayer} deposit fee.`\n  })()\n\n  return (\n    <Dialog\n      {...props}\n      onClose={closeWithReset}\n      title=\"Acknowledge approval and deposit fees\"\n      actionButtonTitle={`Pay approval fee of ${approvalFeeText}`}\n      actionButtonProps={{ disabled: !checked }}\n    >\n      <div className=\"flex flex-col space-y-6 md:max-w-[490px]\">\n        <div className=\"flex flex-row items-center space-x-4\">\n          <SafeImage\n            src={token?.logoURI}\n            alt={`${token?.name} logo`}\n            className=\"h-8 w-8 grow-0 rounded-full\"\n            fallback={\n              <div className=\"flex h-12 w-12 items-center justify-center rounded-full bg-ocl-blue text-sm font-medium text-white\">\n                ?\n              </div>\n            }\n          />\n          <div className=\"flex flex-col\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-base font-medium text-gray-900\">\n                {token?.symbol}\n              </span>\n              <span className=\"text-xs text-gray-500\">{token?.name}</span>\n            </div>\n            <ExternalLink\n              href={`${getExplorerUrl(\n                isDepositMode ? l1.network.id : l2.network.id\n              )}/token/${token?.address}`}\n              className=\"text-xs text-blue-link underline\"\n            >\n              {token?.address.toLowerCase()}\n            </ExternalLink>\n          </div>\n        </div>\n\n        <Checkbox\n          label={\n            <span className=\"font-light\">\n              I understand that I have to pay a one-time{' '}\n              <span className=\"font-medium\">\n                approval fee of {approvalFeeText}*\n              </span>{' '}\n              for each new token or spending cap. This transaction gives\n              permission to the{' '}\n              <ExternalLink\n                className=\"text-blue-link underline\"\n                href={`${getExplorerUrl(\n                  isDepositMode ? l1.network.id : l2.network.id\n                )}/address/${contractAddress}`}\n                onClick={(event: React.MouseEvent<HTMLAnchorElement>) => {\n                  event.stopPropagation()\n                }}\n              >\n                {shortenTxHash(contractAddress)}\n              </ExternalLink>{' '}\n              contract to transfer a capped amount of a specific token.\n            </span>\n          }\n          checked={checked}\n          onChange={setChecked}\n        />\n\n        <div className=\"flex flex-col md:max-w-[490px]\">\n          {displayAllowanceWarning && (\n            <div className=\"flex flex-row items-center space-x-2 rounded-lg bg-yellow-50 px-2 py-3\">\n              <ExclamationTriangleIcon className=\"h-8 w-8 text-yellow-400\" />\n              <span className=\"text-sm font-light\">\n                You are seeing this dialog because the current allowance you\n                have set for this token\n                <span className=\"font-medium\"> ({allowanceParsed}) </span>\n                is less than the amount you are trying to bridge\n                <span className=\"font-medium\"> ({amount})</span>.\n              </span>\n            </div>\n          )}\n\n          <div\n            className={`flex flex-row items-center space-x-2 rounded-lg bg-cyan px-2 py-3 ${\n              displayAllowanceWarning && 'mt-4'\n            }`}\n          >\n            <InformationCircleIcon className=\"h-6 w-6 text-cyan-dark\" />\n            <span className=\"text-sm font-light text-cyan-dark\">\n              After approval, you&apos;ll see a second prompt in your wallet for{' '}\n              {noteMessage}{' '}\n              <ExternalLink\n                href={TOKEN_APPROVAL_ARTICLE_LINK}\n                className=\"underline\"\n              >\n                Learn more.\n              </ExternalLink>\n            </span>\n          </div>\n        </div>\n      </div>\n    </Dialog>\n  )\n}\n","import { Tab } from '@headlessui/react'\nimport { forwardRef, PropsWithChildren } from 'react'\n\nexport type TabButtonProps = PropsWithChildren<\n  React.ButtonHTMLAttributes<HTMLButtonElement>\n>\n\nexport const TabButton = forwardRef<HTMLButtonElement, TabButtonProps>(\n  (props, ref) => {\n    const tabButtonClassName =\n      'rounded-tl-lg rounded-tr-lg px-8 py-3 transition-colors duration-300 ui-selected:bg-white ui-not-selected:bg-ocl-blue ui-not-selected:text-white ui-not-selected:hover:text-gray-4'\n\n    return (\n      <Tab\n        ref={ref}\n        className={`${tabButtonClassName} ${props.className ?? ''}`}\n        {...props}\n      >\n        {props.children}\n      </Tab>\n    )\n  }\n)\n\nTabButton.displayName = 'TabButton'\n","import useLocalStorage from '@rehooks/local-storage'\nimport Image from 'next/image'\nimport {\n  StarIcon as StarIconOutline,\n  ArrowTopRightOnSquareIcon\n} from '@heroicons/react/24/outline'\nimport { StarIcon as StarIconSolid } from '@heroicons/react/24/solid'\n\nimport { ExternalLink } from './ExternalLink'\nimport {\n  NonCanonicalTokenNames,\n  FastBridgeInfo,\n  FastBridgeNames,\n  SpecialTokenSymbol\n} from '../../util/fastBridges'\nimport { trackEvent } from '../../util/AnalyticsUtils'\n\nexport function BridgesTable(props: {\n  bridgeList: FastBridgeInfo[]\n  selectedNonCanonicalToken?: NonCanonicalTokenNames | SpecialTokenSymbol.USDC\n}) {\n  const [favorites, setFavorites] = useLocalStorage<string[]>(\n    'arbitrum:bridge:favorite-fast-bridges',\n    []\n  )\n\n  function onClick(bridgeName: FastBridgeNames) {\n    if (props.selectedNonCanonicalToken) {\n      trackEvent('Fast Bridge Click', {\n        bridge: bridgeName,\n        tokenSymbol: props.selectedNonCanonicalToken\n      })\n    } else {\n      trackEvent('Fast Bridge Click', { bridge: bridgeName })\n    }\n  }\n\n  function isFavorite(bridgeName: FastBridgeNames) {\n    return favorites.includes(bridgeName)\n  }\n\n  function toggleFavorite(bridgeName: FastBridgeNames) {\n    if (favorites.includes(bridgeName)) {\n      setFavorites(favorites.filter(favorite => favorite !== bridgeName))\n    } else {\n      setFavorites([...favorites, bridgeName])\n    }\n  }\n\n  const sortedFastBridges = props.bridgeList.sort((a, b) => {\n    const isFavoriteA = isFavorite(a.name)\n    const isFavoriteB = isFavorite(b.name)\n\n    if (isFavoriteA && !isFavoriteB) {\n      return -1\n    } else if (!isFavoriteA && isFavoriteB) {\n      return 1\n    }\n\n    if (a.name < b.name) {\n      return -1\n    } else {\n      return 1\n    }\n  })\n\n  return (\n    <table className=\"w-full border border-gray-3\">\n      <thead className=\"bg-gray-1 text-left\">\n        <tr className=\"text-gray-6\">\n          <th className=\"w-1/6 px-6 py-4 font-normal\">Favorite</th>\n          <th className=\"w-4/6 px-6 py-4 font-normal\">Exchange</th>\n          <th className=\"w-1/6 px-6 py-4 font-normal\"></th>\n        </tr>\n      </thead>\n      <tbody className=\"font-light\">\n        {sortedFastBridges.map(bridge => (\n          <tr\n            key={bridge.name}\n            className=\"cursor-pointer border border-gray-3 hover:bg-cyan\"\n          >\n            <td>\n              <ExternalLink\n                href={bridge.href}\n                className=\"flex h-16 items-center px-6\"\n                onClick={() => onClick(bridge.name)}\n              >\n                <button\n                  onClick={event => {\n                    event.preventDefault()\n                    toggleFavorite(bridge.name)\n                  }}\n                >\n                  {isFavorite(bridge.name) ? (\n                    <StarIconSolid className=\"h-6 w-6 text-ocl-blue\" />\n                  ) : (\n                    <StarIconOutline className=\"h-6 w-6 text-ocl-blue\" />\n                  )}\n                </button>\n              </ExternalLink>\n            </td>\n\n            <td>\n              <ExternalLink\n                href={bridge.href}\n                onClick={() => onClick(bridge.name)}\n              >\n                <div className=\"flex h-16 items-center space-x-4 px-6\">\n                  <Image\n                    src={bridge.imageSrc}\n                    alt={bridge.name}\n                    className=\"bridge-logos h-8 w-8 rounded-full object-contain\"\n                    width={32}\n                    height={32}\n                  />\n                  <span>{bridge.name}</span>\n                </div>\n              </ExternalLink>\n            </td>\n\n            <td>\n              <ExternalLink\n                href={bridge.href}\n                className=\"arb-hover flex h-16 w-full items-center justify-center text-gray-4 hover:text-ocl-blue\"\n                onClick={() => onClick(bridge.name)}\n              >\n                <ArrowTopRightOnSquareIcon className=\"h-5 w-5\" />\n              </ExternalLink>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n","export default {\"src\":\"/_next/static/media/hop.536c4a3a.png\",\"height\":512,\"width\":512,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEXCSejUa8jjhq7ff7PXc8nokarbeLzQY9LLWNjFS9/fhsTRbd723/Pxz/DuxevMYN7hmdvafMvbi+P89fzRX8fkj7jllsDhlNLpqc00L/x6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQUlEQVR4nAXBBQKAMAwEsOusMjfg/y8lARMl72KE8Jz2uAjJrZZyHTSvM/bnoWuP85oHeqm1WQI0dw4hAVARpvADWsICcjWWLVoAAAAASUVORK5CYII=\",\"blurWidth\":8,\"blurHeight\":8};","export default {\"src\":\"/_next/static/media/celer.e65b3a45.png\",\"height\":400,\"width\":950,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAGFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABWNxwqAAAACHRSTlMKQlBWI4icK2KHbhsAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAfSURBVHicBcEHAQAACMOwlnH8OyaBNAegtbPTEMvIAwMPADjilh2HAAAAAElFTkSuQmCC\",\"blurWidth\":8,\"blurHeight\":3};","export default {\"src\":\"/_next/static/media/connext.2be95308.png\",\"height\":192,\"width\":192,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEVMaXHALc82tv+jFPe3oKPhdn2XG/7oiWiyCvSMK/xQi/2cH/xEl/3OS6nohmvwk2LieXnXY5BYdP94S/04pPl8R/1nZ/vQT6lZeP1Mjv1pa/zmdYcuNmCNAAAAG3RSTlMA5g5+CNBkHiY26Ea9X880fqEu7y3rRYPElmiaZXefAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPUlEQVR4nC3LxwGAMAwAsUu1nYTeYf89eYD+guj5rGUnK/h2bhac0C6qcSTKjSpjz7zk6qYkYIHuGf4pkRdDYwHhHX9I+AAAAABJRU5ErkJggg==\",\"blurWidth\":8,\"blurHeight\":8};","export default {\"src\":\"/_next/static/media/across.5e8e8be4.png\",\"height\":480,\"width\":480,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEVs+ths+dhq+dpMaXFr+Ndn6MtHg3hXtKBYuaSO0TO1AAAABXRSTlP6sSkAsnfSyH0AAAAJcEhZcwAAA+gAAAPoAbV7UmsAAAAwSURBVHicPYtBDgAgDMI6Npz/f7FxiXIipZAKKCViIoplLwJwt4e69y3xpi/PPZQHE8wAiNQORCcAAAAASUVORK5CYII=\",\"blurWidth\":8,\"blurHeight\":8};","export default {\"src\":\"/_next/static/media/stargate.3334d012.png\",\"height\":64,\"width\":64,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAD1BMVEUAAAAHBwcrKytKSkqUlJTJD9Y0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIklEQVR4nGNgQAKMjBCamYmJGcxnYmFhAonBGXAphGIIAAAHmAA1GJxR6AAAAABJRU5ErkJggg==\",\"blurWidth\":8,\"blurHeight\":8};","export default {\"src\":\"/_next/static/media/synapse.03157cce.png\",\"height\":64,\"width\":64,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEUAAAD8BPx2OphnMYVSBFoZDiCCRPcnFjLKIfs5EVtjK61WEG59Hq2oB61+QqUPBxO5Jve4Kfo+Hm+LFauVEq1rBW0vGTzSg7HdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAP0lEQVR4nBXKRxLAIAwAsQUMtqmp/P+pmegsQhgijxnhJWeaMSBG6MiOupI6stPSqc4NaULF2p+vwnF291rKBz6HAdr7bSdtAAAAAElFTkSuQmCC\",\"blurWidth\":8,\"blurHeight\":8};","export default {\"src\":\"/_next/static/media/wormhole.d7a63e27.svg\",\"height\":40,\"width\":40,\"blurWidth\":0,\"blurHeight\":0};","export default {\"src\":\"/_next/static/media/lifi.ab7290a1.webp\",\"height\":256,\"width\":256,\"blurDataURL\":\"data:image/webp;base64,UklGRmQAAABXRUJQVlA4IFgAAABQAgCdASoIAAgAAkA4JZgCdLoAEIAZf+tQq8AA/uiuPjnzwrOfPbnf9w/icPSn3RXOq/JwHZWPId3XjvxPzs/95xqRSC9S3wKDtTjts+L1BoGK2vhcAAAA\",\"blurWidth\":8,\"blurHeight\":8};","export default {\"src\":\"/_next/static/media/router.80a9736e.webp\",\"height\":96,\"width\":96,\"blurDataURL\":\"data:image/webp;base64,UklGRlQAAABXRUJQVlA4IEgAAADQAQCdASoIAAgAAkA4JQBOgB6R/ruugAD+99SGQNjoL9eA9QlK0NsfMJId8Qa6oYfVPTgBWOEEum90I2qHz4aKvJpjP38D5AA=\",\"blurWidth\":8,\"blurHeight\":8};","import { StaticImageData } from 'next/image'\n\nimport Hop from '@/images/bridge/hop.png'\nimport Celer from '@/images/bridge/celer.png'\nimport Connext from '@/images/bridge/connext.png'\nimport Across from '@/images/bridge/across.png'\nimport Stargate from '@/images/bridge/stargate.png'\nimport Synapse from '@/images/bridge/synapse.png'\nimport Wormhole from '@/images/bridge/wormhole.svg'\nimport LIFI from '@/images/bridge/lifi.webp'\nimport Router from '@/images/bridge/router.webp'\n\nimport { ChainId } from './networks'\nimport { USDC_LEARN_MORE_LINK } from '../constants'\n\nexport enum FastBridgeNames {\n  Hop = 'Hop',\n  Celer = 'Celer',\n  Connext = 'Connext',\n  Across = 'Across',\n  Stargate = 'Stargate',\n  Synapse = 'Synapse',\n  Wormhole = 'Wormhole',\n  LIFI = 'LI.FI',\n  Router = 'Router'\n}\n\nexport enum SpecialTokenSymbol {\n  USDC = 'USDC'\n}\n\nexport enum NonCanonicalTokenNames {\n  FRAX = 'FRAX'\n}\n\nexport enum NonCanonicalTokenAddresses {\n  FRAX = '0x853d955acef822db058eb8505911ed77f175b99e'\n}\n\nexport type NonCanonicalTokenSupportedBridges<\n  T extends NonCanonicalTokenAddresses\n> = `${(typeof NonCanonicalTokensBridgeInfo)[T]['supportedBridges'][number]}`\n\nexport type FastBridgeInfo = {\n  name: FastBridgeNames\n  imageSrc: StaticImageData\n  href: string\n}\n\nexport function getFastBridges({\n  from,\n  to,\n  tokenSymbol,\n  amount\n}: {\n  from: ChainId\n  to: ChainId\n  tokenSymbol: string\n  amount: string\n}): FastBridgeInfo[] {\n  function chainIdToSlug(chainId: ChainId): string {\n    switch (chainId) {\n      case ChainId.Ethereum:\n        return 'ethereum'\n      case ChainId.ArbitrumOne:\n        return 'arbitrum'\n      default:\n        return ''\n    }\n  }\n\n  function getBridgeDeepLink(bridge: FastBridgeNames): string {\n    switch (bridge) {\n      case FastBridgeNames.Hop:\n        return `https://app.hop.exchange/#/send?sourceNetwork=${chainIdToSlug(\n          from\n        )}&destNetwork=${chainIdToSlug(\n          to\n        )}&token=${tokenSymbol}&amount=${amount}`\n      case FastBridgeNames.Celer:\n        return `https://cbridge.celer.network/${from}/${to}/${tokenSymbol}`\n      case FastBridgeNames.Connext:\n        return `https://bridge.connext.network/${tokenSymbol}-from-${chainIdToSlug(\n          from\n        )}-to-${chainIdToSlug(to)}?amount=${amount}`\n      case FastBridgeNames.Across:\n        return `https://across.to/?from=${from}&to=${to}&asset=${tokenSymbol}&amount=${amount}`\n      case FastBridgeNames.Stargate:\n        return `https://stargate.finance/transfer?srcChain=${chainIdToSlug(\n          from\n        )}&dstChain=${chainIdToSlug(to)}&srcToken=${tokenSymbol}`\n      case FastBridgeNames.Synapse:\n        // We can't specify the input chain for Synapse, as it will use whatever the user is connected to.\n        // We make sure to prompt a network switch to Arbitrum prior to showing this.\n        return `https://synapseprotocol.com/?inputCurrency=${tokenSymbol}&outputCurrency=${tokenSymbol}&outputChain=${to}`\n      default:\n        return ''\n    }\n  }\n\n  const bridgeInfo: {\n    [bridge in Exclude<\n      FastBridgeNames,\n      FastBridgeNames.LIFI | FastBridgeNames.Router | FastBridgeNames.Wormhole\n    >]: {\n      imageSrc: StaticImageData\n      href: string\n    }\n  } = {\n    [FastBridgeNames.Hop]: {\n      imageSrc: Hop,\n      href: getBridgeDeepLink(FastBridgeNames.Hop)\n    },\n    [FastBridgeNames.Celer]: {\n      imageSrc: Celer,\n      href: getBridgeDeepLink(FastBridgeNames.Celer)\n    },\n    [FastBridgeNames.Connext]: {\n      imageSrc: Connext,\n      href: getBridgeDeepLink(FastBridgeNames.Connext)\n    },\n    [FastBridgeNames.Across]: {\n      imageSrc: Across,\n      href: getBridgeDeepLink(FastBridgeNames.Across)\n    },\n    [FastBridgeNames.Stargate]: {\n      imageSrc: Stargate,\n      href: getBridgeDeepLink(FastBridgeNames.Stargate)\n    },\n    [FastBridgeNames.Synapse]: {\n      imageSrc: Synapse,\n      href: getBridgeDeepLink(FastBridgeNames.Synapse)\n    }\n  }\n\n  return Object.values(FastBridgeNames)\n    .filter(fastBridgeName => {\n      // exclude these fast bridges for now\n      switch (fastBridgeName) {\n        case FastBridgeNames.LIFI:\n        case FastBridgeNames.Wormhole:\n        case FastBridgeNames.Router:\n          return false\n        default:\n          return true\n      }\n    })\n    .map<FastBridgeInfo>(bridge => {\n      const name = bridge as Exclude<\n        FastBridgeNames,\n        FastBridgeNames.LIFI | FastBridgeNames.Router | FastBridgeNames.Wormhole\n      >\n      return {\n        name,\n        imageSrc: bridgeInfo[name].imageSrc,\n        href: bridgeInfo[name].href\n      }\n    })\n}\n\nexport const NonCanonicalTokensBridgeInfo = {\n  [NonCanonicalTokenAddresses.FRAX]: {\n    tokenSymbol: 'FRAX',\n    supportedBridges: [FastBridgeNames.Celer],\n    learnMoreUrl: 'https://docs.frax.finance/cross-chain/bridge',\n    bridgeUrl: 'https://app.frax.finance/bridge?chain=arbitrum'\n  }\n} as const\n\nexport const USDCBridgeInfo = {\n  tokenSymbol: 'USDC',\n  tokenSymbolOnArbitrum: 'USDC.e',\n  supportedBridges: [\n    FastBridgeNames.Celer,\n    FastBridgeNames.LIFI,\n    FastBridgeNames.Wormhole,\n    FastBridgeNames.Router\n  ],\n  learnMoreUrl: USDC_LEARN_MORE_LINK\n} as const\n\ntype getHrefParams = {\n  from: ChainId\n  to: ChainId\n  fromTokenAddress: string\n  toTokenAddress: string\n  amount?: string\n  transferMode: 'deposit' | 'withdraw'\n}\n\ntype USDCFastBridgeInfo = {\n  name: FastBridgeNames\n  imageSrc: StaticImageData\n  getHref: (params: getHrefParams) => string\n}\n\nexport const USDCFastBridges: USDCFastBridgeInfo[] = [\n  {\n    name: FastBridgeNames.Celer,\n    imageSrc: Celer,\n    getHref: ({ transferMode }) => {\n      switch (transferMode) {\n        case 'deposit':\n          return 'https://cbridge.celer.network/bridge/ethereum-arbitrum/'\n        case 'withdraw':\n        default:\n          return 'https://cbridge.celer.network/bridge/arbitrum-ethereum/'\n      }\n    }\n  },\n  {\n    name: FastBridgeNames.LIFI,\n    imageSrc: LIFI,\n    getHref: ({\n      from,\n      to,\n      fromTokenAddress,\n      toTokenAddress,\n      amount,\n      transferMode\n    }: getHrefParams) => {\n      switch (transferMode) {\n        case 'deposit':\n          return `https://jumper.exchange/?fromChain=${from}&fromToken=${fromTokenAddress}&toChain=${to}&toToken=${toTokenAddress}&fromAmount=${amount}`\n        case 'withdraw':\n        default:\n          return `https://jumper.exchange/?fromChain=${from}&fromToken=${fromTokenAddress}&toChain=${to}&toToken=${toTokenAddress}&fromAmount=${amount}`\n      }\n    }\n  },\n  {\n    name: FastBridgeNames.Wormhole,\n    imageSrc: Wormhole,\n    getHref: () => 'https://www.portalbridge.com/usdc-bridge/'\n  },\n  {\n    name: FastBridgeNames.Router,\n    imageSrc: Router,\n    getHref: ({\n      from,\n      to,\n      fromTokenAddress,\n      toTokenAddress,\n      transferMode\n    }: getHrefParams) => {\n      switch (transferMode) {\n        case 'deposit':\n          return `https://app.thevoyager.io/swap?fromChain=${from}&toChain=${to}&fromToken=${fromTokenAddress}&toToken=${toTokenAddress}`\n        case 'withdraw':\n        default:\n          return `https://app.thevoyager.io/swap?fromChain=${from}&toChain=${to}&fromToken=${fromTokenAddress}&toToken=${toTokenAddress}`\n      }\n    }\n  }\n]\n","import { useState } from 'react'\nimport {\n  CheckIcon,\n  XMarkIcon,\n  ExclamationCircleIcon\n} from '@heroicons/react/24/outline'\nimport { Tab, Dialog as HeadlessUIDialog } from '@headlessui/react'\nimport dayjs from 'dayjs'\nimport Image from 'next/image'\n\nimport { Dialog, UseDialogProps } from '../common/Dialog'\nimport { Checkbox } from '../common/Checkbox'\nimport { ExternalLink } from '../common/ExternalLink'\nimport { Button } from '../common/Button'\nimport { TabButton } from '../common/Tab'\nimport { BridgesTable } from '../common/BridgesTable'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { useAppState } from '../../state'\nimport { trackEvent } from '../../util/AnalyticsUtils'\nimport {\n  getBlockTime,\n  getConfirmPeriodBlocks,\n  getNetworkName,\n  isNetwork\n} from '../../util/networks'\nimport { getFastBridges } from '../../util/fastBridges'\nimport { useIsConnectedToArbitrum } from '../../hooks/useIsConnectedToArbitrum'\nimport { CONFIRMATION_PERIOD_ARTICLE_LINK } from '../../constants'\nimport { useChainLayers } from '../../hooks/useChainLayers'\nimport { useNativeCurrency } from '../../hooks/useNativeCurrency'\n\nconst SECONDS_IN_DAY = 86400\nconst SECONDS_IN_HOUR = 3600\n\nfunction getCalendarUrl(\n  confirmationHours: number,\n  amount: string,\n  token: string,\n  networkName: string\n) {\n  const title = `${amount} ${token} Withdrawal from ${networkName}`\n\n  // Add 1 extra hour to account for remaining minutes\n  const withdrawalDate = dayjs().add(confirmationHours + 1, 'hour')\n  // Google event date format: YYYYMMDDTHHMMSS/YYYYMMDDTHHMMSS\n  const parsedWithdrawalDate = withdrawalDate.format(\n    'YYYYMMDD[T]HH[0000%2F]YYYYMMDD[T]HH[0000]'\n  )\n\n  return `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${title}&dates=${parsedWithdrawalDate}&details=Withdrawn+on+%3Ca%20href=%22https://bridge.arbitrum.io%22%3Ehttps://bridge.arbitrum.io%3C/a%3E`\n}\n\nexport function WithdrawalConfirmationDialog(\n  props: UseDialogProps & { amount: string }\n) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const { parentLayer } = useChainLayers()\n  const isConnectedToArbitrum = useIsConnectedToArbitrum()\n  const networkName = getNetworkName(l1.network.id)\n  const {\n    app: { selectedToken }\n  } = useAppState()\n\n  const nativeCurrency = useNativeCurrency({ provider: l2.provider })\n\n  const from = isConnectedToArbitrum ? l2.network : l1.network\n  const to = isConnectedToArbitrum ? l1.network : l2.network\n\n  const fastBridges = getFastBridges({\n    from: from.id,\n    to: to.id,\n    tokenSymbol: selectedToken?.symbol ?? nativeCurrency.symbol,\n    amount: props.amount\n  })\n\n  const [checkbox1Checked, setCheckbox1Checked] = useState(false)\n  const [checkbox2Checked, setCheckbox2Checked] = useState(false)\n\n  const bothCheckboxesChecked = checkbox1Checked && checkbox2Checked\n  const confirmationSeconds =\n    getBlockTime(l1.network.id) * getConfirmPeriodBlocks(l2.network.id)\n  const confirmationDays = Math.ceil(confirmationSeconds / SECONDS_IN_DAY)\n  let confirmationPeriod = ''\n  const confirmationHours = Math.ceil(confirmationSeconds / SECONDS_IN_HOUR)\n\n  if (confirmationDays >= 2) {\n    confirmationPeriod = `${confirmationDays} day${\n      confirmationDays > 1 ? 's' : ''\n    }`\n  } else {\n    confirmationPeriod = `${confirmationHours} hour${\n      confirmationHours > 1 ? 's' : ''\n    }`\n  }\n\n  const { isArbitrumOne, isOrbitChain } = isNetwork(l2.network.id)\n\n  function closeWithReset(confirmed: boolean) {\n    props.onClose(confirmed)\n\n    setCheckbox1Checked(false)\n    setCheckbox2Checked(false)\n  }\n\n  return (\n    <Dialog {...props} onClose={closeWithReset} isCustom>\n      <div className=\"flex flex-col md:min-w-[725px] md:max-w-[725px]\">\n        <Tab.Group>\n          <div className=\"flex flex-row items-center justify-between bg-ocl-blue px-8 py-4\">\n            <HeadlessUIDialog.Title className=\"text-2xl font-medium text-white\">\n              Move funds to {networkName}\n            </HeadlessUIDialog.Title>\n            <button className=\"arb-hover\" onClick={() => closeWithReset(false)}>\n              <XMarkIcon className=\"h-6 w-6 text-white\" />\n            </button>\n          </div>\n\n          <Tab.List className=\"bg-ocl-blue\">\n            {isArbitrumOne && <TabButton>Use a third-party bridge</TabButton>}\n            <TabButton>Use Arbitrum’s bridge</TabButton>\n          </Tab.List>\n\n          {isArbitrumOne && (\n            <Tab.Panel className=\"flex flex-col space-y-3 px-8 py-4\">\n              <div className=\"flex flex-col space-y-3\">\n                <p className=\"font-light\">\n                  Get your funds in under 30 min with a fast exit bridge.\n                </p>\n\n                <div className=\"flex flex-row items-center space-x-1\">\n                  <ExclamationCircleIcon className=\"h-6 w-6 text-orange-dark\" />\n                  <span className=\"font-medium text-orange-dark\">\n                    Security not guaranteed by Arbitrum\n                  </span>\n                </div>\n              </div>\n\n              <BridgesTable bridgeList={fastBridges} />\n            </Tab.Panel>\n          )}\n\n          <Tab.Panel className=\"flex flex-col justify-between px-8 py-4 md:min-h-[430px]\">\n            <div className=\"flex flex-col space-y-6\">\n              <div className=\"flex flex-col space-y-3\">\n                <p className=\"font-light\">\n                  Get your funds in ~{confirmationPeriod} and pay a small fee\n                  twice.{' '}\n                  <ExternalLink\n                    href={CONFIRMATION_PERIOD_ARTICLE_LINK}\n                    className=\"underline\"\n                  >\n                    Learn more.\n                  </ExternalLink>\n                </p>\n\n                {parentLayer === 'L1' && (\n                  <div className=\"flex flex-row items-center space-x-1\">\n                    <CheckIcon className=\"h-6 w-6 text-lime-dark\" />\n                    <span className=\"font-medium text-lime-dark\">\n                      Security guaranteed by Ethereum\n                    </span>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex flex-col space-y-6\">\n                <Checkbox\n                  label={\n                    <span className=\"font-light\">\n                      I understand that it will take ~{confirmationPeriod}{' '}\n                      before I can claim my funds on{' '}\n                      {parentLayer === 'L1' ? 'Ethereum ' : ''}\n                      {networkName}\n                    </span>\n                  }\n                  checked={checkbox1Checked}\n                  onChange={setCheckbox1Checked}\n                />\n\n                <Checkbox\n                  label={\n                    <span className=\"font-light\">\n                      I understand that after claiming my funds, I’ll have to\n                      send{' '}\n                      <span className=\"font-medium\">\n                        another transaction on {parentLayer}\n                      </span>{' '}\n                      and pay another {parentLayer} fee\n                    </span>\n                  }\n                  checked={checkbox2Checked}\n                  onChange={setCheckbox2Checked}\n                />\n\n                <div className=\"flex flex-col justify-center space-y-2.5 rounded bg-cyan py-4 align-middle \">\n                  <p className=\"text-center text-sm font-light\">\n                    Set calendar reminder for {confirmationPeriod} from now\n                  </p>\n                  <div className=\"flex justify-center\">\n                    <ExternalLink\n                      href={getCalendarUrl(\n                        confirmationHours,\n                        props.amount,\n                        selectedToken?.symbol || nativeCurrency.symbol,\n                        getNetworkName(l2.network.id)\n                      )}\n                      onClick={() => trackEvent('Add to Google Calendar Click')}\n                      className=\"arb-hover flex space-x-2 rounded border border-ocl-blue px-4 py-2 text-ocl-blue\"\n                    >\n                      <Image\n                        src=\"/images/GoogleCalendar.svg\"\n                        alt=\"Google Calendar Icon\"\n                        width={24}\n                        height={24}\n                      />\n                      <span>Add to Google Calendar</span>\n                    </ExternalLink>\n                  </div>\n                  <p className=\"text-center text-sm font-light\">\n                    We don’t store any email data\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"mt-2 flex flex-row justify-end space-x-2\">\n              <Button variant=\"secondary\" onClick={() => closeWithReset(false)}>\n                Cancel\n              </Button>\n              <Button\n                variant=\"primary\"\n                disabled={!bothCheckboxesChecked}\n                onClick={() => {\n                  closeWithReset(true)\n                  trackEvent('Slow Bridge Click')\n                }}\n              >\n                Continue\n              </Button>\n            </div>\n          </Tab.Panel>\n        </Tab.Group>\n      </div>\n    </Dialog>\n  )\n}\n","import { Tab, Dialog as HeadlessUIDialog } from '@headlessui/react'\nimport { XMarkIcon } from '@heroicons/react/24/outline'\n\nimport { Dialog, UseDialogProps } from '../common/Dialog'\nimport { Button } from '../common/Button'\nimport { ExternalLink } from '../common/ExternalLink'\nimport {\n  NonCanonicalTokenAddresses,\n  NonCanonicalTokenNames,\n  NonCanonicalTokensBridgeInfo,\n  FastBridgeNames,\n  getFastBridges\n} from '../../util/fastBridges'\nimport { TabButton } from '../common/Tab'\nimport { BridgesTable } from '../common/BridgesTable'\nimport { useAppState } from '../../state'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { getNetworkName, isNetwork } from '../../util/networks'\nimport { useIsConnectedToArbitrum } from '../../hooks/useIsConnectedToArbitrum'\n\nexport function DepositConfirmationDialog(\n  props: UseDialogProps & { amount: string }\n) {\n  const {\n    app: { selectedToken }\n  } = useAppState()\n  const { l1, l2 } = useNetworksAndSigners()\n  const isConnectedToArbitrum = useIsConnectedToArbitrum()\n  const networkName = getNetworkName(l2.network.id)\n  const { isArbitrumOne } = isNetwork(l2.network.id)\n\n  const from = isConnectedToArbitrum ? l2.network : l1.network\n  const to = isConnectedToArbitrum ? l1.network : l2.network\n\n  const tokenSymbol = selectedToken?.symbol as NonCanonicalTokenNames\n  const tokenAddress = selectedToken?.address as NonCanonicalTokenAddresses\n  const bridgeInfo = NonCanonicalTokensBridgeInfo[tokenAddress]\n\n  if (!bridgeInfo) {\n    return null\n  }\n\n  const fastBridges = [\n    ...getFastBridges({\n      from: from.id,\n      to: to.id,\n      tokenSymbol,\n      amount: props.amount\n    })\n  ].filter(bridge => {\n    return (\n      tokenSymbol &&\n      (bridgeInfo.supportedBridges as readonly FastBridgeNames[]).includes(\n        bridge.name\n      )\n    )\n  })\n\n  return (\n    <Dialog {...props} isCustom>\n      <div className=\"flex flex-col md:min-w-[725px] md:max-w-[725px]\">\n        <Tab.Group>\n          <div className=\"flex flex-row items-center justify-between bg-ocl-blue px-8 py-4\">\n            <HeadlessUIDialog.Title className=\"text-2xl font-medium text-white\">\n              Move funds to {networkName}\n            </HeadlessUIDialog.Title>\n            <button\n              className=\"arb-hover\"\n              onClick={() => {\n                props.onClose(false)\n              }}\n            >\n              <XMarkIcon className=\"h-6 w-6 text-white\" />\n            </button>\n          </div>\n\n          <Tab.List className=\"bg-ocl-blue\">\n            {isArbitrumOne && <TabButton>Use a third-party bridge</TabButton>}\n          </Tab.List>\n\n          {isArbitrumOne && tokenSymbol && (\n            <Tab.Panel className=\"flex flex-col space-y-3 px-8 py-4\">\n              <div className=\"flex flex-col space-y-3\">\n                <p className=\"font-light\">\n                  To get the canonical variant of {tokenSymbol} directly onto{' '}\n                  {networkName} you’ll have to use a bridge that {tokenSymbol}{' '}\n                  has fully integrated with.{' '}\n                  <ExternalLink\n                    href={bridgeInfo.learnMoreUrl}\n                    className=\"underline\"\n                  >\n                    Learn more\n                  </ExternalLink>\n                  .\n                </p>\n              </div>\n\n              <BridgesTable\n                bridgeList={fastBridges}\n                selectedNonCanonicalToken={tokenSymbol}\n              />\n              <div className=\"mt-2 flex flex-row justify-end space-x-2\">\n                <Button\n                  variant=\"secondary\"\n                  onClick={() => props.onClose(false)}\n                >\n                  Cancel\n                </Button>\n              </div>\n            </Tab.Panel>\n          )}\n        </Tab.Group>\n      </div>\n    </Dialog>\n  )\n}\n","import Tippy from '@tippyjs/react'\n\nexport type TooltipProps = {\n  show?: boolean\n  children: React.ReactNode\n  content?: React.ReactNode\n  wrapperClassName?: string\n  theme?: 'light' | 'dark'\n}\n\nexport function Tooltip({\n  show = true,\n  content,\n  wrapperClassName = 'w-max',\n  theme = 'light',\n  children\n}: TooltipProps): JSX.Element | null {\n  if (!content) {\n    return null\n  }\n\n  if (!show) {\n    return <>{children}</>\n  }\n\n  return (\n    <Tippy theme={theme} content={content}>\n      <div className={wrapperClassName}>{children}</div>\n    </Tippy>\n  )\n}\n","import { useState, useEffect } from 'react'\n\nexport function useDebouncedValue<T>(value: T, delay: number) {\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n","import { Erc20Bridger } from '@arbitrum/sdk'\nimport { Inbox__factory } from '@arbitrum/sdk/dist/lib/abi/factories/Inbox__factory'\nimport { Provider } from '@ethersproject/providers'\nimport { BigNumber } from 'ethers'\n\nimport { DepositGasEstimates } from '../hooks/arbTokenBridge.types'\nimport { fetchErc20Allowance, fetchErc20L1GatewayAddress } from './TokenUtils'\n\nasync function fetchFallbackGasEstimates({\n  inboxAddress,\n  l1Provider\n}: {\n  inboxAddress: string\n  l1Provider: Provider\n}): Promise<DepositGasEstimates> {\n  const l1BaseFee = await l1Provider.getGasPrice()\n  const inbox = Inbox__factory.connect(inboxAddress, l1Provider)\n\n  const estimatedL2SubmissionCost = await inbox.calculateRetryableSubmissionFee(\n    // Values set by looking at a couple of L1 gateways\n    //\n    // L1 LPT Gateway: 324\n    // L1 DAI Gateway: 324\n    // L1 Standard Gateway (APE): 740\n    // L1 Custom Gateway (USDT): 324\n    // L1 WETH Gateway: 324\n    BigNumber.from(1_000),\n    // We do the same percent increase in the SDK\n    //\n    // https://github.com/OffchainLabs/arbitrum-sdk/blob/main/src/lib/message/L1ToL2MessageGasEstimator.ts#L132\n    l1BaseFee.add(l1BaseFee.mul(BigNumber.from(3)))\n  )\n\n  return {\n    // Values set by looking at a couple of different ERC-20 deposits\n    //\n    // https://etherscan.io/tx/0x5c0ab94413217d54641ba5faa0c614c6dd5f97efcc7a6ca25df9c376738dfa34\n    // https://etherscan.io/tx/0x0049a5a171b891c5826ba47e77871fa6bae6eb57fcaf474a97d62ab07a815a2c\n    // https://etherscan.io/tx/0xb11bffdfbe4bc6fb4328c390d4cdf73bc863dbaaef057afb59cd83dfd6dc210c\n    // https://etherscan.io/tx/0x194ab69d3d2b5730b37e8bad1473f8bc54ded7a2ad3708d131ef13c09168d67e\n    // https://etherscan.io/tx/0xc4789d3f13e0efb011dfa88eef89b4b715d8c32366977eae2d3b85f13b3aa6c5\n    estimatedL1Gas: BigNumber.from(240_000),\n    // Values set by looking at a couple of different ERC-20 deposits\n    //\n    // https://arbiscan.io/tx/0x483206b0ed4e8a23b14de070f6c552120d0b9bc6ed028f4feae33c4ca832f2bc\n    // https://arbiscan.io/tx/0xd2ba11ebc51f546abc2ddda715507948d097e5707fd1dc37c239cc4cf28cc6ed\n    // https://arbiscan.io/tx/0xb341745b6f4a34ee539c628dcf177fc98b658e494c7f8d21da872e69d5173596\n    // https://arbiscan.io/tx/0x731d31834bc01d33a1de33b5562b29c1ae6f75d20f6da83a5d74c3c91bd2dab9\n    // https://arbiscan.io/tx/0x6b13bfe9f22640ac25f77a677a3c36e748913d5e07766b3d6394de09a1398020\n    estimatedL2Gas: BigNumber.from(100_000),\n    estimatedL2SubmissionCost\n  }\n}\n\nasync function allowanceIsInsufficient(params: DepositTokenEstimateGasParams) {\n  const { amount, address, erc20L1Address, l1Provider, l2Provider } = params\n\n  const l1Gateway = await fetchErc20L1GatewayAddress({\n    erc20L1Address,\n    l1Provider,\n    l2Provider\n  })\n\n  const allowanceForL1Gateway = await fetchErc20Allowance({\n    address: erc20L1Address,\n    provider: l1Provider,\n    owner: address,\n    spender: l1Gateway\n  })\n\n  return allowanceForL1Gateway.lt(amount)\n}\n\nexport type DepositTokenEstimateGasParams = {\n  amount: BigNumber\n  address: string\n  erc20L1Address: string\n  l1Provider: Provider\n  l2Provider: Provider\n}\n\nexport async function depositTokenEstimateGas(\n  params: DepositTokenEstimateGasParams\n): Promise<DepositGasEstimates> {\n  const { amount, address, erc20L1Address, l1Provider, l2Provider } = params\n  const erc20Bridger = await Erc20Bridger.fromProvider(l2Provider)\n\n  if (await allowanceIsInsufficient(params)) {\n    console.warn(\n      `Gateway allowance for \"${erc20L1Address}\" is too low, falling back to hardcoded values.`\n    )\n\n    return fetchFallbackGasEstimates({\n      inboxAddress: erc20Bridger.l2Network.ethBridge.inbox,\n      l1Provider\n    })\n  }\n\n  const { txRequest, retryableData } = await erc20Bridger.getDepositRequest({\n    amount,\n    erc20L1Address,\n    l1Provider,\n    l2Provider,\n    from: address,\n    retryableGasOverrides: {\n      // the gas limit may vary by about 20k due to SSTORE (zero vs nonzero)\n      // the 30% gas limit increase should cover the difference\n      gasLimit: { percentIncrease: BigNumber.from(30) }\n    }\n  })\n\n  return {\n    estimatedL1Gas: await l1Provider.estimateGas(txRequest),\n    estimatedL2Gas: retryableData.gasLimit,\n    estimatedL2SubmissionCost: retryableData.maxSubmissionCost\n  }\n}\n","import { EthBridger, getChain } from '@arbitrum/sdk'\nimport { Provider } from '@ethersproject/providers'\nimport { BigNumber, constants } from 'ethers'\n\nimport { DepositGasEstimates } from '../hooks/arbTokenBridge.types'\nimport { fetchErc20Allowance } from './TokenUtils'\n\nasync function fetchFallbackGasEstimatesForOrbitChainWithCustomFeeToken(): Promise<DepositGasEstimates> {\n  return {\n    // todo(spsjvc): properly estimate these values\n    //\n    // this hardcoding is only necessary for Orbit chains that have a custom fee token (where estimation may fail due to low allowance)\n    estimatedL1Gas: BigNumber.from(100_000),\n    estimatedL2Gas: BigNumber.from(0),\n    estimatedL2SubmissionCost: BigNumber.from(0)\n  }\n}\n\nasync function customFeeTokenAllowanceIsInsufficient(\n  params: DepositEthEstimateGasParams\n) {\n  const { amount, address, l1Provider, l2Provider } = params\n  const l2Network = await getChain(l2Provider)\n\n  if (typeof l2Network.nativeToken === 'undefined') {\n    throw new Error(\n      '[customFeeTokenAllowanceIsInsufficient] expected nativeToken to be defined'\n    )\n  }\n\n  const customFeeTokenAllowanceForInbox = await fetchErc20Allowance({\n    address: l2Network.nativeToken,\n    provider: l1Provider,\n    owner: address,\n    spender: l2Network.ethBridge.inbox\n  })\n\n  return customFeeTokenAllowanceForInbox.lt(amount)\n}\n\nexport type DepositEthEstimateGasParams = {\n  amount: BigNumber\n  address: string\n  l1Provider: Provider\n  l2Provider: Provider\n}\n\nexport async function depositEthEstimateGas(\n  params: DepositEthEstimateGasParams\n): Promise<DepositGasEstimates> {\n  const { amount, address, l1Provider, l2Provider } = params\n\n  const ethBridger = await EthBridger.fromProvider(l2Provider)\n  const customFeeToken = typeof ethBridger.nativeToken !== 'undefined'\n\n  if (customFeeToken && (await customFeeTokenAllowanceIsInsufficient(params))) {\n    return fetchFallbackGasEstimatesForOrbitChainWithCustomFeeToken()\n  }\n\n  // todo: update this when we support custom destination addresses for eth deposits\n  const depositRequest = await ethBridger.getDepositRequest({\n    amount,\n    from: address\n  })\n\n  const estimatedL1Gas = await l1Provider.estimateGas(depositRequest.txRequest)\n\n  return {\n    estimatedL1Gas,\n    estimatedL2Gas: constants.Zero,\n    estimatedL2SubmissionCost: constants.Zero\n  }\n}\n","import { Erc20Bridger } from '@arbitrum/sdk'\nimport { Provider } from '@ethersproject/providers'\nimport { BigNumber } from 'ethers'\nimport * as Sentry from '@sentry/react'\nimport { NodeInterface__factory } from '@arbitrum/sdk/dist/lib/abi/factories/NodeInterface__factory'\nimport { NODE_INTERFACE_ADDRESS } from '@arbitrum/sdk/dist/lib/dataEntities/constants'\n\nimport { GasEstimates } from '../hooks/arbTokenBridge.types'\n\nexport async function withdrawTokenEstimateGas({\n  amount,\n  address,\n  erc20L1Address,\n  l2Provider\n}: {\n  amount: BigNumber\n  address: `0x${string}`\n  erc20L1Address: string\n  l2Provider: Provider\n}): Promise<GasEstimates> {\n  const erc20Bridger = await Erc20Bridger.fromProvider(l2Provider)\n\n  const withdrawalRequest = await erc20Bridger.getWithdrawalRequest({\n    amount,\n    destinationAddress: address,\n    erc20l1Address: erc20L1Address,\n    from: address\n  })\n\n  const nodeInterface = NodeInterface__factory.connect(\n    NODE_INTERFACE_ADDRESS,\n    l2Provider\n  )\n\n  try {\n    const gasComponents = await nodeInterface.callStatic.gasEstimateComponents(\n      address,\n      false,\n      withdrawalRequest.txRequest.data\n    )\n\n    // This is the gas needed to pay for the batch posting fee\n    const estimatedL1Gas = BigNumber.from(gasComponents.gasEstimateForL1)\n\n    // add 30% to the estimated total gas as buffer\n    const estimatedTotalGas = BigNumber.from(\n      Math.ceil(Number(gasComponents.gasEstimate) * 1.3)\n    )\n\n    const estimatedL2Gas = estimatedTotalGas.sub(estimatedL1Gas)\n\n    return { estimatedL1Gas, estimatedL2Gas }\n  } catch (error) {\n    Sentry.captureException(error)\n    // figures based on gas estimation returned\n    return {\n      estimatedL1Gas: BigNumber.from(498_000),\n      estimatedL2Gas: BigNumber.from(150_000)\n    }\n  }\n}\n","import { EthBridger } from '@arbitrum/sdk'\nimport { Provider } from '@ethersproject/providers'\nimport { BigNumber } from 'ethers'\nimport * as Sentry from '@sentry/react'\nimport { NodeInterface__factory } from '@arbitrum/sdk/dist/lib/abi/factories/NodeInterface__factory'\nimport { NODE_INTERFACE_ADDRESS } from '@arbitrum/sdk/dist/lib/dataEntities/constants'\n\nimport { GasEstimates } from '../hooks/arbTokenBridge.types'\n\nexport async function withdrawEthEstimateGas({\n  amount,\n  address,\n  l2Provider\n}: {\n  amount: BigNumber\n  address: `0x${string}`\n  l2Provider: Provider\n}): Promise<GasEstimates> {\n  const ethBridger = await EthBridger.fromProvider(l2Provider)\n\n  const withdrawalRequest = await ethBridger.getWithdrawalRequest({\n    amount,\n    destinationAddress: address,\n    from: address\n  })\n\n  const nodeInterface = NodeInterface__factory.connect(\n    NODE_INTERFACE_ADDRESS,\n    l2Provider\n  )\n\n  try {\n    const gasComponents = await nodeInterface.callStatic.gasEstimateComponents(\n      address,\n      false,\n      withdrawalRequest.txRequest.data\n    )\n    // This is the gas needed to pay for the batch posting fee\n    const estimatedL1Gas = BigNumber.from(gasComponents.gasEstimateForL1)\n\n    // add 30% to the estimated total gas as buffer\n    const estimatedTotalGas = BigNumber.from(\n      Math.ceil(Number(gasComponents.gasEstimate) * 1.3)\n    )\n\n    const estimatedL2Gas = estimatedTotalGas.sub(estimatedL1Gas)\n\n    return { estimatedL1Gas, estimatedL2Gas }\n  } catch (error) {\n    Sentry.captureException(error)\n    const estimatedL1Gas = BigNumber.from(130_000)\n    // figures based on gas estimation returned\n    const estimatedTotalGas = await l2Provider\n      .estimateGas(withdrawalRequest.txRequest)\n      .catch(error => {\n        Sentry.captureException(error)\n        // from recent gas estimation\n        return BigNumber.from(4_300_000)\n      })\n\n    return {\n      estimatedL1Gas,\n      estimatedL2Gas: estimatedTotalGas.sub(estimatedL1Gas)\n    }\n  }\n}\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { BigNumber, constants, utils } from 'ethers'\nimport { InformationCircleIcon } from '@heroicons/react/24/outline'\nimport { useAccount } from 'wagmi'\n\nimport { Tooltip } from '../common/Tooltip'\nimport { useAppState } from '../../state'\nimport { useETHPrice } from '../../hooks/useETHPrice'\nimport { useDebouncedValue } from '../../hooks/useDebouncedValue'\nimport { formatAmount, formatUSD } from '../../util/NumberUtils'\nimport { getNetworkName, isNetwork } from '../../util/networks'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { useGasPrice } from '../../hooks/useGasPrice'\nimport { depositTokenEstimateGas } from '../../util/TokenDepositUtils'\nimport { depositEthEstimateGas } from '../../util/EthDepositUtils'\nimport { withdrawTokenEstimateGas } from '../../util/TokenWithdrawalUtils'\nimport { withdrawEthEstimateGas } from '../../util/EthWithdrawalUtils'\nimport {\n  isTokenArbitrumGoerliNativeUSDC,\n  isTokenArbitrumOneNativeUSDC,\n  sanitizeTokenSymbol\n} from '../../util/TokenUtils'\nimport { ChainLayer, useChainLayers } from '../../hooks/useChainLayers'\nimport { useNativeCurrency } from '../../hooks/useNativeCurrency'\n\nexport type GasEstimationStatus =\n  | 'idle'\n  | 'loading'\n  | 'success'\n  | 'error'\n  | 'unavailable'\n\nexport type GasEstimationResult = {\n  estimatedL1Gas: BigNumber\n  estimatedL2Gas: BigNumber\n  estimatedL2SubmissionCost: BigNumber\n}\n\nexport type UseGasSummaryResult = {\n  status: GasEstimationStatus\n  estimatedL1GasFees: number\n  estimatedL2GasFees: number\n}\n\nconst depositGasFeeTooltip = ({\n  l1NetworkName,\n  l2NetworkName,\n  depositToOrbit = false\n}: {\n  l1NetworkName: string\n  l2NetworkName: string\n  depositToOrbit?: boolean\n}) => ({\n  L1: `${l1NetworkName} fees go to Ethereum Validators.`,\n  L2: `${\n    depositToOrbit ? l1NetworkName : l2NetworkName\n  } fees are collected by the chain to cover costs of execution. This is an estimated fee, if the true fee is lower, you'll be refunded.`,\n  Orbit: `${l2NetworkName} fees are collected by the chain to cover costs of execution. This is an estimated fee, if the true fee is lower, you'll be refunded.`\n})\n\nexport function useGasSummary(\n  amount: BigNumber,\n  token: TransferPanelSummaryToken | null,\n  shouldRunGasEstimation: boolean\n): UseGasSummaryResult {\n  const {\n    app: { arbTokenBridge, isDepositMode }\n  } = useAppState()\n  const networksAndSigners = useNetworksAndSigners()\n  const { l1, l2 } = networksAndSigners\n  const { address: walletAddress } = useAccount()\n\n  const l1GasPrice = useGasPrice({ provider: l1.provider })\n  const l2GasPrice = useGasPrice({ provider: l2.provider })\n\n  // Debounce the amount, so we run gas estimation only after the user has stopped typing for a bit\n  const amountDebounced = useDebouncedValue(amount, 1500)\n\n  const [status, setStatus] = useState<GasEstimationStatus>('idle')\n  const [result, setResult] = useState<GasEstimationResult>({\n    // Estimated L1 gas, denominated in Wei, represented as a BigNumber\n    estimatedL1Gas: constants.Zero,\n    // Estimated L2 gas, denominated in Wei, represented as a BigNumber\n    estimatedL2Gas: constants.Zero,\n    // Estimated L2 submission cost is precalculated and includes gas price\n    estimatedL2SubmissionCost: constants.Zero\n  })\n\n  // Estimated L1 gas fees, denominated in Ether, represented as a floating point number\n  const estimatedL1GasFees = useMemo(() => {\n    const gasPrice = isDepositMode ? l1GasPrice : l2GasPrice\n    return parseFloat(utils.formatEther(result.estimatedL1Gas.mul(gasPrice)))\n  }, [result.estimatedL1Gas, isDepositMode, l1GasPrice, l2GasPrice])\n\n  // Estimated L2 gas fees, denominated in Ether, represented as a floating point number\n  const estimatedL2GasFees = useMemo(\n    () =>\n      parseFloat(\n        utils.formatEther(\n          result.estimatedL2Gas\n            .mul(l2GasPrice)\n            .add(result.estimatedL2SubmissionCost)\n        )\n      ),\n    [result.estimatedL2Gas, l2GasPrice, result.estimatedL2SubmissionCost]\n  )\n\n  useEffect(() => {\n    // When the user starts typing, set the status to `loading` for better UX\n    // The value is debounced, so we'll start fetching the gas estimates only when the user stops typing\n    if (shouldRunGasEstimation) {\n      setStatus('loading')\n    }\n  }, [amount, shouldRunGasEstimation])\n\n  useEffect(() => {\n    async function estimateGas() {\n      // Since we are using a debounced value, it's possible for the value to be outdated\n      // Wait for it to sync before running the gas estimation\n      if (!amountDebounced.eq(amount)) {\n        return\n      }\n\n      // Don't run gas estimation if the value is zero or the flag is not set\n      if (amountDebounced.isZero() || !shouldRunGasEstimation) {\n        setStatus('idle')\n        return\n      }\n\n      if (!walletAddress) {\n        return\n      }\n\n      try {\n        setStatus('loading')\n\n        if (isDepositMode) {\n          if (token) {\n            const estimateGasResult = await depositTokenEstimateGas({\n              amount,\n              address: walletAddress,\n              erc20L1Address: token.address,\n              l1Provider: l1.provider,\n              l2Provider: l2.provider\n            })\n\n            setResult(estimateGasResult)\n          } else {\n            const estimateGasResult = await depositEthEstimateGas({\n              amount: amountDebounced,\n              address: walletAddress,\n              l1Provider: l1.provider,\n              l2Provider: l2.provider\n            })\n\n            setResult(estimateGasResult)\n          }\n        } else {\n          if (token) {\n            let estimateGasResult: {\n              estimatedL1Gas: BigNumber\n              estimatedL2Gas: BigNumber\n            }\n\n            if (\n              isTokenArbitrumOneNativeUSDC(token.address) ||\n              isTokenArbitrumGoerliNativeUSDC(token.address)\n            ) {\n              estimateGasResult = {\n                estimatedL1Gas: constants.Zero,\n                estimatedL2Gas: constants.Zero\n              }\n              setStatus('unavailable')\n              return\n            } else {\n              estimateGasResult = await withdrawTokenEstimateGas({\n                amount: amountDebounced,\n                erc20L1Address: token.address,\n                address: walletAddress,\n                l2Provider: l2.provider\n              })\n            }\n\n            setResult({\n              ...estimateGasResult,\n              estimatedL2SubmissionCost: constants.Zero\n            })\n          } else {\n            const estimateGasResult = await withdrawEthEstimateGas({\n              amount: amountDebounced,\n              address: walletAddress,\n              l2Provider: l2.provider\n            })\n\n            setResult({\n              ...estimateGasResult,\n              estimatedL2SubmissionCost: constants.Zero\n            })\n          }\n        }\n\n        setStatus('success')\n      } catch (error) {\n        console.error(error)\n        setStatus('error')\n      }\n    }\n\n    if (arbTokenBridge && arbTokenBridge.eth && arbTokenBridge.token) {\n      estimateGas()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    // Re-run gas estimation when:\n    isDepositMode, // when user switches deposit/withdraw mode\n    amount, // when user changes the amount (check against the debounced value)\n    amountDebounced,\n    token, // when the token changes\n    shouldRunGasEstimation, // passed externally - estimate gas only if user balance crosses a threshold\n    l1.network.id, // when L1 and L2 network id changes\n    l2.network.id,\n    walletAddress // when user switches account or if user is not connected\n  ])\n\n  return {\n    status,\n    estimatedL1GasFees,\n    estimatedL2GasFees\n  }\n}\n\nexport type TransferPanelSummaryToken = { symbol: string; address: string }\n\nexport type TransferPanelSummaryProps = {\n  amount: number\n  token: TransferPanelSummaryToken | null\n  gasSummary: UseGasSummaryResult\n}\n\nfunction TransferPanelSummaryContainer({\n  children,\n  className = ''\n}: {\n  children: React.ReactNode\n  className?: string\n}) {\n  return (\n    <>\n      <div className=\"block lg:hidden\">\n        <span className=\"text-xl text-gray-dark lg:text-2xl\">Summary</span>\n        <div className=\"h-4\" />\n      </div>\n\n      <div\n        className={`flex flex-col space-y-4 text-lg lg:min-h-[257px] ${className}`}\n      >\n        {children}\n      </div>\n\n      <div className=\"h-10\" />\n    </>\n  )\n}\n\nexport function TransferPanelSummary({\n  amount,\n  token,\n  gasSummary\n}: TransferPanelSummaryProps) {\n  const { status, estimatedL1GasFees, estimatedL2GasFees } = gasSummary\n\n  const {\n    app: { isDepositMode }\n  } = useAppState()\n  const { ethToUSD } = useETHPrice()\n  const { l1, l2 } = useNetworksAndSigners()\n  const { parentLayer, layer } = useChainLayers()\n\n  const nativeCurrency = useNativeCurrency({ provider: l2.provider })\n  const parentChainNativeCurrency = useNativeCurrency({ provider: l1.provider })\n\n  const layerGasFeeTooltipContent = (layer: ChainLayer) => {\n    if (!isDepositMode) {\n      return null\n    }\n\n    const { isOrbitChain: isDepositToOrbitChain } = isNetwork(l2.network.id)\n\n    return depositGasFeeTooltip({\n      l1NetworkName: getNetworkName(l1.network.id),\n      l2NetworkName: getNetworkName(l2.network.id),\n      depositToOrbit: isDepositToOrbitChain\n    })[layer]\n  }\n\n  const isBridgingETH = token === null && !nativeCurrency.isCustom\n  const showPrice = isBridgingETH && !isNetwork(l1.network.id).isTestnet\n  const showBreakdown = !nativeCurrency.isCustom && isDepositMode\n\n  const tokenSymbol = useMemo(() => {\n    if (token) {\n      return sanitizeTokenSymbol(token.symbol, {\n        erc20L1Address: token.address,\n        chain: isDepositMode ? l1.network : l2.network\n      })\n    }\n\n    return nativeCurrency.symbol\n  }, [token, nativeCurrency, isDepositMode, l1.network, l2.network])\n\n  const sameNativeCurrency = useMemo(\n    // we'll have to change this if we ever have L4s that are built on top of L3s with a custom fee token\n    () => nativeCurrency.isCustom === parentChainNativeCurrency.isCustom,\n    [nativeCurrency, parentChainNativeCurrency]\n  )\n\n  const estimatedTotalGasFees = useMemo(\n    () => estimatedL1GasFees + estimatedL2GasFees,\n    [estimatedL1GasFees, estimatedL2GasFees]\n  )\n\n  if (status === 'loading') {\n    const bgClassName = isDepositMode ? 'bg-ocl-blue' : 'bg-eth-dark'\n\n    return (\n      <TransferPanelSummaryContainer className=\"animate-pulse\">\n        <div className={`h-[28px] w-full opacity-10 ${bgClassName}`} />\n        <div\n          className={`h-[28px] w-full opacity-10 lg:h-[56px] ${bgClassName}`}\n        />\n        <div className=\"flex flex-col space-y-2 pl-4\">\n          <div className={`h-[28px] w-full opacity-10 ${bgClassName}`} />\n          <div className={`h-[28px] w-full opacity-10 ${bgClassName}`} />\n        </div>\n\n        {isBridgingETH && (\n          <>\n            <div>\n              <div className=\"h-2\" />\n              <div className=\"lg:border-b lg:border-gray-2\" />\n              <div className=\"h-2\" />\n            </div>\n            <div className={`h-[28px] w-full opacity-10 ${bgClassName}`} />\n          </>\n        )}\n      </TransferPanelSummaryContainer>\n    )\n  }\n\n  if (status === 'unavailable') {\n    return (\n      <TransferPanelSummaryContainer>\n        <div className=\"flex flex-row justify-between text-sm text-gray-dark lg:text-base\">\n          Gas estimates are not available for this action.\n        </div>\n        <div className=\"flex flex-row justify-between text-sm text-gray-dark lg:text-base\">\n          <span className=\"w-2/5 font-light\">You&apos;re moving</span>\n          <div className=\"flex w-3/5 flex-row justify-between\">\n            <span>\n              {formatAmount(amount, {\n                symbol: tokenSymbol\n              })}\n            </span>\n          </div>\n        </div>\n      </TransferPanelSummaryContainer>\n    )\n  }\n\n  return (\n    <TransferPanelSummaryContainer>\n      <div className=\"flex flex-row justify-between text-sm text-gray-dark lg:text-base\">\n        <span className=\"w-3/5 font-light\">You&apos;re moving</span>\n        <div className=\"flex w-2/5 flex-row justify-between tabular-nums\">\n          <span>\n            {formatAmount(amount, {\n              symbol: tokenSymbol\n            })}\n          </span>\n\n          {showPrice && (\n            <span className=\"font-medium text-dark\">\n              {formatUSD(ethToUSD(amount))}\n            </span>\n          )}\n        </div>\n      </div>\n\n      <div className=\"flex flex-row items-center justify-between text-sm text-gray-dark lg:text-base\">\n        <span className=\"w-3/5 font-light\">\n          You&apos;ll now pay in gas fees\n        </span>\n        <div className=\"flex w-2/5 justify-between tabular-nums\">\n          {sameNativeCurrency ? (\n            <>\n              <span>\n                {formatAmount(estimatedTotalGasFees, {\n                  symbol: nativeCurrency.symbol\n                })}\n              </span>\n\n              {showPrice && (\n                <span className=\"font-medium text-dark\">\n                  {formatUSD(ethToUSD(estimatedTotalGasFees))}\n                </span>\n              )}\n            </>\n          ) : (\n            <span>\n              {formatAmount(estimatedL1GasFees, {\n                symbol: parentChainNativeCurrency.symbol\n              })}\n              {' + '}\n              {formatAmount(estimatedL2GasFees, {\n                symbol: nativeCurrency.symbol\n              })}\n            </span>\n          )}\n        </div>\n      </div>\n\n      {showBreakdown && (\n        <div className=\"flex flex-col space-y-2 text-sm text-gray-dark lg:text-base\">\n          <div className=\"flex flex-row justify-between\">\n            <div className=\"flex flex-row items-center space-x-2\">\n              <span className=\"pl-4 font-light\">{parentLayer} gas</span>\n              <Tooltip content={layerGasFeeTooltipContent(parentLayer)}>\n                <InformationCircleIcon className=\"h-4 w-4\" />\n              </Tooltip>\n            </div>\n            <div className=\"flex w-2/5 flex-row justify-between tabular-nums\">\n              <span className=\"font-light\">\n                {formatAmount(estimatedL1GasFees, {\n                  symbol: parentChainNativeCurrency.symbol\n                })}\n              </span>\n\n              {showPrice && (\n                <span className=\"font-light\">\n                  {formatUSD(ethToUSD(estimatedL1GasFees))}\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"flex flex-row justify-between text-gray-dark\">\n            <div className=\"flex flex-row items-center space-x-2\">\n              <span className=\"pl-4 font-light \">{layer} gas</span>\n              <Tooltip content={layerGasFeeTooltipContent(layer)}>\n                <InformationCircleIcon className=\"h-4 w-4 \" />\n              </Tooltip>\n            </div>\n            <div className=\"flex w-2/5 flex-row justify-between tabular-nums\">\n              <span className=\"font-light\">\n                {formatAmount(estimatedL2GasFees, {\n                  symbol: nativeCurrency.symbol\n                })}\n              </span>\n\n              {showPrice && (\n                <span className=\"font-light\">\n                  {formatUSD(ethToUSD(estimatedL2GasFees))}\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {!isDepositMode && (\n        <>\n          <div>\n            <div className=\"h-2\" />\n            <div className=\"border-b border-gray-5\" />\n            <div className=\"h-2\" />\n          </div>\n          <div className=\"flex flex-col gap-3 text-sm font-light text-gray-dark lg:text-base\">\n            <p>\n              This transaction will initiate the withdrawal on {l2.network.name}\n              .\n            </p>\n            <p>\n              When the withdrawal is ready for claiming on {l1.network.name},\n              you will have to pay gas fees for the claim transaction.\n            </p>\n          </div>\n        </>\n      )}\n    </TransferPanelSummaryContainer>\n  )\n}\n","import { Provider } from '@ethersproject/providers'\n\nimport { getAPIBaseUrl } from '.'\n\nexport async function addressIsSmartContract(\n  address: string,\n  provider: Provider\n) {\n  try {\n    return (await provider.getCode(address)).length > 2\n  } catch (_) {\n    return false\n  }\n}\n\nexport async function addressIsDenylisted(address: string) {\n  // The denylist consists of an array of addresses from Ethereum, Arbitrum One and Goerli.\n  // We do not separate them as it's unlikely for anyone to have a wallet address matching our contract addresses.\n  try {\n    const denylistResponse = await fetch(\n      `${getAPIBaseUrl()}/api/denylist?address=${address}`,\n      {\n        method: 'GET',\n        headers: { 'Content-Type': 'application/json' }\n      }\n    )\n    return (await denylistResponse.json()).data as boolean\n  } catch (error) {\n    console.error(error)\n    return false\n  }\n}\n","import { useAccount, useProvider } from 'wagmi'\nimport useSWRImmutable from 'swr/immutable'\n\nimport { addressIsSmartContract } from '../util/AddressUtils'\n\ntype Result = {\n  isEOA: boolean\n  isSmartContractWallet: boolean\n  isLoading: boolean\n}\n\nexport function useAccountType(): Result {\n  const { address } = useAccount()\n  const provider = useProvider()\n\n  const { data: isSmartContractWallet = false, isLoading } = useSWRImmutable(\n    address ? [address, provider, 'useAccountType'] : null,\n    ([_address, _provider]) => addressIsSmartContract(_address, _provider)\n  )\n\n  // By default, assume it's an EOA\n  return {\n    isEOA: !isSmartContractWallet,\n    isSmartContractWallet,\n    isLoading\n  }\n}\n","import { useEffect, useMemo, useState } from 'react'\nimport { twMerge } from 'tailwind-merge'\nimport { useAccount } from 'wagmi'\nimport { create } from 'zustand'\nimport { isAddress } from 'ethers/lib/utils'\nimport { Provider } from '@ethersproject/providers'\nimport {\n  ArrowDownTrayIcon,\n  ChevronDownIcon,\n  InformationCircleIcon\n} from '@heroicons/react/24/outline'\nimport { LockClosedIcon, LockOpenIcon } from '@heroicons/react/24/solid'\n\nimport { Tooltip } from '../common/Tooltip'\nimport { getExplorerUrl } from '../../util/networks'\nimport { ExternalLink } from '../common/ExternalLink'\n\nimport { useAppState } from '../../state'\nimport { useAccountType } from '../../hooks/useAccountType'\nimport {\n  addressIsSmartContract,\n  addressIsDenylisted\n} from '../../util/AddressUtils'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\n\nexport enum DestinationAddressErrors {\n  INVALID_ADDRESS = 'The destination address is not a valid address.',\n  REQUIRED_ADDRESS = 'The destination address is required.',\n  DENYLISTED_ADDRESS = 'The address you entered is a known contract address, and sending funds to it would likely result in losing said funds. If you think this is a mistake, please contact our support.'\n}\n\nenum DestinationAddressWarnings {\n  CONTRACT_ADDRESS = 'The destination address is a contract address. Please make sure it is the right address.'\n}\n\ntype DestinationAddressStore = {\n  error: DestinationAddressErrors | null\n  destinationAddress: string | undefined\n  setError: (error: DestinationAddressErrors | null) => void\n  setDestinationAddress: (destinationAddress: string | undefined) => void\n}\n\nexport const useDestinationAddressStore = create<DestinationAddressStore>(\n  set => ({\n    error: null,\n    destinationAddress: undefined,\n    setError: error => set(() => ({ error })),\n    setDestinationAddress: destinationAddress =>\n      set(() => ({ destinationAddress }))\n  })\n)\n\nexport async function getDestinationAddressError({\n  destinationAddress,\n  isSmartContractWallet\n}: {\n  destinationAddress?: string\n  isSmartContractWallet: boolean\n}): Promise<DestinationAddressErrors | null> {\n  if (!destinationAddress && isSmartContractWallet) {\n    // destination address required for contract wallets\n    return DestinationAddressErrors.REQUIRED_ADDRESS\n  }\n\n  if (!destinationAddress) {\n    return null\n  }\n\n  if (!isAddress(destinationAddress)) {\n    return DestinationAddressErrors.INVALID_ADDRESS\n  }\n  if (await addressIsDenylisted(destinationAddress)) {\n    return DestinationAddressErrors.DENYLISTED_ADDRESS\n  }\n\n  // no error\n  return null\n}\n\nasync function getDestinationAddressWarning({\n  destinationAddress,\n  isEOA,\n  destinationProvider\n}: {\n  destinationAddress: string | undefined\n  isEOA: boolean\n  destinationProvider: Provider\n}) {\n  if (!destinationAddress) {\n    return null\n  }\n\n  if (!isAddress(destinationAddress)) {\n    return null\n  }\n\n  const destinationIsSmartContract = await addressIsSmartContract(\n    destinationAddress,\n    destinationProvider\n  )\n\n  // checks if trying to send to a contract address, only checks EOA\n  if (isEOA && destinationIsSmartContract) {\n    return DestinationAddressWarnings.CONTRACT_ADDRESS\n  }\n\n  // no warning\n  return null\n}\n\nexport const AdvancedSettings = () => {\n  const {\n    app: { selectedToken, isDepositMode }\n  } = useAppState()\n  const { l1, l2 } = useNetworksAndSigners()\n  const { address } = useAccount()\n  const { isEOA, isSmartContractWallet } = useAccountType()\n\n  const [collapsed, setCollapsed] = useState(true)\n  const [inputLocked, setInputLocked] = useState(true)\n  const [warning, setWarning] = useState<string | null>(null)\n\n  const { error, setError, destinationAddress, setDestinationAddress } =\n    useDestinationAddressStore()\n\n  useEffect(() => {\n    // Initially hide for EOA\n    setCollapsed(isEOA)\n    // Initially lock for EOA\n    setInputLocked(isEOA)\n  }, [isEOA])\n\n  useEffect(() => {\n    async function updateError() {\n      setError(\n        await getDestinationAddressError({\n          destinationAddress,\n          isSmartContractWallet\n        })\n      )\n    }\n    updateError()\n  }, [destinationAddress, isSmartContractWallet, setError])\n\n  useEffect(() => {\n    // isSubscribed makes sure that only the latest state is written\n    let isSubscribed = true\n\n    async function updateWarning() {\n      const result = await getDestinationAddressWarning({\n        destinationAddress,\n        isEOA,\n        destinationProvider: (isDepositMode ? l2 : l1).provider\n      })\n      if (isSubscribed) {\n        setWarning(result)\n      }\n    }\n    updateWarning()\n\n    return () => {\n      isSubscribed = false\n    }\n  }, [destinationAddress, isDepositMode, isEOA, l2, l1])\n\n  const collapsible = useMemo(() => {\n    // cannot collapse if:\n    // - SCW because the destination address is mandatory\n    // - destination address is not empty\n    return isEOA && !destinationAddress\n  }, [destinationAddress, isEOA])\n\n  // Disabled for ETH\n  if (!selectedToken) {\n    return null\n  }\n\n  if (!isEOA && !isSmartContractWallet) {\n    return null\n  }\n\n  function handleVisibility() {\n    if (!collapsible) {\n      setCollapsed(false)\n      return\n    }\n    setCollapsed(!collapsed)\n  }\n\n  return (\n    <div className=\"mt-6\">\n      <button\n        onClick={handleVisibility}\n        className={twMerge(\n          'arb-hover flex flex-row items-center text-gray-dark',\n          collapsible ? '' : 'pointer-events-none'\n        )}\n      >\n        <span className=\"font-medium\">Advanced Settings</span>\n        {collapsible && (\n          <ChevronDownIcon\n            className={twMerge('ml-1 h-4 w-4', collapsed ? '' : 'rotate-180')}\n          />\n        )}\n      </button>\n      {!collapsed && (\n        <>\n          <div className=\"mt-2\">\n            <div className=\"flex items-center space-x-1\">\n              <span className=\"font-medium\">Custom Destination Address</span>\n              <Tooltip\n                content={\n                  <span>\n                    This is where your funds will end up at.\n                    {isEOA ? ' Defaults to your wallet address.' : ''}\n                  </span>\n                }\n              >\n                <InformationCircleIcon strokeWidth={2} height={16} />\n              </Tooltip>\n            </div>\n            <p className=\"my-2 text-sm font-light text-gray-dark\">\n              {isEOA ? (\n                <>\n                  Send your funds to a different address.{' '}\n                  <span className=\"font-semibold\">This is not standard.</span>{' '}\n                  Be sure you mean to send it here, or it may lead to an\n                  irrecoverable loss of funds.\n                </>\n              ) : (\n                <>\n                  With Smart Contract Wallets, you{' '}\n                  <span className=\"font-semibold\">must specify an address</span>{' '}\n                  you&apos;d like the funds sent to.\n                </>\n              )}\n            </p>\n            <div\n              className={twMerge(\n                'my-1 flex w-full items-center rounded-lg border border-gray-dark px-2 py-1 shadow-input',\n                inputLocked ? 'bg-slate-200' : 'bg-white',\n                error ? 'border-red-400' : '',\n                warning && !error ? 'border-yellow-500' : ''\n              )}\n            >\n              <input\n                className=\"w-full\"\n                placeholder={\n                  isEOA ? address : 'Enter Custom Destination Address'\n                }\n                value={destinationAddress}\n                disabled={inputLocked}\n                spellCheck={false}\n                onChange={e =>\n                  setDestinationAddress(e.target.value?.toLowerCase().trim())\n                }\n              />\n              {isEOA && (\n                <button onClick={() => setInputLocked(!inputLocked)}>\n                  {inputLocked ? (\n                    <LockClosedIcon\n                      height={20}\n                      className=\"mr-2 text-slate-600\"\n                    />\n                  ) : (\n                    <LockOpenIcon height={20} className=\"mr-2 text-slate-600\" />\n                  )}\n                </button>\n              )}\n            </div>\n          </div>\n\n          {error && <p className=\"text-xs text-red-400\">{error}</p>}\n          {!error && warning && (\n            <p className=\"text-xs text-yellow-500\">{warning}</p>\n          )}\n          {destinationAddress && !error && (\n            <ExternalLink\n              className=\"arb-hover mt-2 flex w-fit items-center text-xs font-bold text-gray-dark\"\n              href={`${getExplorerUrl(\n                (isDepositMode ? l2 : l1).network.id\n              )}/address/${destinationAddress}`}\n            >\n              <ArrowDownTrayIcon\n                height={12}\n                strokeWidth={3}\n                className=\"mr-1 -rotate-90\"\n              />\n              View account in explorer\n            </ExternalLink>\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport type StatusBadgeProps = React.HTMLAttributes<HTMLDivElement> & {\n  variant?: 'blue' | 'yellow' | 'green' | 'red' | 'gray'\n}\n\nconst variants: Record<string, string> = {\n  blue: 'bg-cyan text-cyan-dark',\n  yellow: 'bg-orange text-orange-dark border-orange-dark border',\n  green: 'bg-lime text-lime-dark',\n  red: 'bg-brick text-brick-dark border border-brick-dark',\n  gray: 'bg-gray-3 text-gray-dark'\n}\n\nexport function StatusBadge({\n  variant = 'blue',\n  children,\n  ...props\n}: StatusBadgeProps): JSX.Element {\n  return (\n    <div\n      className={`status-badge w-max rounded-full px-3 py-1 text-sm ${variants[variant]} flex flex-nowrap items-center gap-1`}\n      {...props}\n    >\n      {children}\n    </div>\n  )\n}\n","import { useMemo } from 'react'\nimport { useMedia } from 'react-use'\nimport { twMerge } from 'tailwind-merge'\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon\n} from '@heroicons/react/24/outline'\nimport { constants } from 'ethers'\nimport { Chain, useAccount } from 'wagmi'\n\nimport { Loader } from '../common/atoms/Loader'\nimport { useAppState } from '../../state'\nimport {\n  listIdsToNames,\n  SPECIAL_ARBITRUM_TOKEN_TOKEN_LIST_ID\n} from '../../util/TokenListUtils'\nimport { formatAmount } from '../../util/NumberUtils'\nimport { shortenAddress } from '../../util/CommonUtils'\nimport {\n  isTokenArbitrumOneNativeUSDC,\n  isTokenArbitrumGoerliNativeUSDC,\n  sanitizeTokenName,\n  sanitizeTokenSymbol\n} from '../../util/TokenUtils'\nimport { SafeImage } from '../common/SafeImage'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { getExplorerUrl, getNetworkName } from '../../util/networks'\nimport { Tooltip } from '../common/Tooltip'\nimport { StatusBadge } from '../common/StatusBadge'\nimport { useBalance } from '../../hooks/useBalance'\nimport { ERC20BridgeToken } from '../../hooks/arbTokenBridge.types'\nimport { ExternalLink } from '../common/ExternalLink'\nimport { useAccountType } from '../../hooks/useAccountType'\nimport { useNativeCurrency } from '../../hooks/useNativeCurrency'\n\nfunction tokenListIdsToNames(ids: number[]): string {\n  return ids\n    .map((tokenListId: number) => listIdsToNames[tokenListId])\n    .join(', ')\n}\n\nfunction TokenLogoFallback() {\n  return (\n    <div className=\"flex h-8 w-8 min-w-[2rem] items-center justify-center rounded-full bg-ocl-blue text-sm font-medium text-white\">\n      ?\n    </div>\n  )\n}\n\nfunction BlockExplorerTokenLink({\n  chain,\n  address\n}: {\n  chain: Chain\n  address: string | undefined\n}) {\n  if (typeof address === 'undefined') {\n    return null\n  }\n\n  return (\n    <ExternalLink\n      href={`${getExplorerUrl(chain.id)}/token/${address}`}\n      className=\"text-xs text-blue-link underline\"\n      onClick={e => e.stopPropagation()}\n    >\n      {shortenAddress(address).toLowerCase()}\n    </ExternalLink>\n  )\n}\n\ninterface TokenRowProps {\n  style?: React.CSSProperties\n  onClick: React.MouseEventHandler<HTMLButtonElement>\n  token: ERC20BridgeToken | null\n}\n\nexport function TokenRow({\n  style,\n  onClick,\n  token\n}: TokenRowProps): JSX.Element {\n  const { address: walletAddress } = useAccount()\n  const {\n    app: {\n      arbTokenBridge: { bridgeTokens },\n      isDepositMode\n    }\n  } = useAppState()\n  const { isLoading: isLoadingAccountType } = useAccountType()\n  const {\n    l1: { network: l1Network, provider: l1Provider },\n    l2: { network: l2Network, provider: l2Provider }\n  } = useNetworksAndSigners()\n\n  const isSmallScreen = useMedia('(max-width: 419px)')\n  const nativeCurrency = useNativeCurrency({ provider: l2Provider })\n\n  const tokenName = useMemo(() => {\n    if (token) {\n      return sanitizeTokenName(token.name, {\n        erc20L1Address: token.address,\n        chain: isDepositMode ? l1Network : l2Network\n      })\n    }\n\n    return nativeCurrency.name\n  }, [token, nativeCurrency, isDepositMode, l2Network, l1Network])\n\n  const tokenSymbol = useMemo(() => {\n    if (token) {\n      return sanitizeTokenSymbol(token.symbol, {\n        erc20L1Address: token.address,\n        chain: isDepositMode ? l1Network : l2Network\n      })\n    }\n\n    return nativeCurrency.symbol\n  }, [token, nativeCurrency, isDepositMode, l2Network, l1Network])\n\n  const isL2NativeToken = useMemo(() => token?.isL2Native ?? false, [token])\n  const tokenIsArbOneNativeUSDC = useMemo(\n    () => isTokenArbitrumOneNativeUSDC(token?.address),\n    [token]\n  )\n  const tokenIsArbGoerliNativeUSDC = useMemo(\n    () => isTokenArbitrumGoerliNativeUSDC(token?.address),\n    [token]\n  )\n\n  const {\n    eth: [ethL1Balance],\n    erc20: [erc20L1Balances]\n  } = useBalance({ provider: l1Provider, walletAddress })\n  const {\n    eth: [ethL2Balance],\n    erc20: [erc20L2Balances]\n  } = useBalance({ provider: l2Provider, walletAddress })\n\n  const tokenLogoURI = useMemo(() => {\n    if (!token) {\n      return nativeCurrency.logoUrl\n    }\n\n    return token.logoURI\n  }, [token, nativeCurrency])\n\n  const tokenBalance = useMemo(() => {\n    if (!token) {\n      if (nativeCurrency.isCustom) {\n        return isDepositMode\n          ? erc20L1Balances?.[nativeCurrency.address]\n          : ethL2Balance\n      }\n\n      return isDepositMode ? ethL1Balance : ethL2Balance\n    }\n\n    if (isDepositMode) {\n      return erc20L1Balances?.[token.address.toLowerCase()]\n    }\n\n    if (!token.l2Address) {\n      return constants.Zero\n    }\n\n    return erc20L2Balances?.[token.l2Address.toLowerCase()] ?? constants.Zero\n  }, [\n    ethL1Balance,\n    ethL2Balance,\n    token,\n    nativeCurrency,\n    isDepositMode,\n    erc20L1Balances,\n    erc20L2Balances\n  ])\n\n  const isArbitrumToken = useMemo(() => {\n    if (!token) {\n      return false\n    }\n\n    return token.listIds.has(SPECIAL_ARBITRUM_TOKEN_TOKEN_LIST_ID)\n  }, [token])\n\n  const isPotentialFakeArbitrumToken = useMemo(() => {\n    if (!token || isArbitrumToken) {\n      return false\n    }\n\n    return (\n      token.name.toLowerCase().startsWith('arb') ||\n      token.symbol.toLowerCase().startsWith('arb')\n    )\n  }, [token, isArbitrumToken])\n\n  const tokenListInfo = useMemo(() => {\n    if (!token) {\n      return null\n    }\n\n    if (tokenIsArbOneNativeUSDC) {\n      return 'Native USDC on Arbitrum One'\n    }\n\n    if (tokenIsArbGoerliNativeUSDC) {\n      return 'Native USDC on Arbitrum Goerli'\n    }\n\n    const listIds: Set<number> = token.listIds\n    const listIdsSize = listIds.size\n    if (listIdsSize === 0) {\n      return 'Added by User'\n    }\n\n    const listIdsArray = Array.from(listIds)\n    if (listIdsSize < 2) {\n      return tokenListIdsToNames(listIdsArray)\n    }\n\n    const firstList = listIdsArray.slice(0, 1)\n    const more = listIdsSize - 1\n\n    return (\n      tokenListIdsToNames(firstList) +\n      ` and ${more} more list${more > 1 ? 's' : ''}`\n    )\n  }, [token, tokenIsArbGoerliNativeUSDC, tokenIsArbOneNativeUSDC])\n\n  const tokenIsAddedToTheBridge = useMemo(() => {\n    // Can happen when switching networks.\n    if (typeof bridgeTokens === 'undefined') {\n      return true\n    }\n\n    if (!token) {\n      return true\n    }\n\n    if (tokenIsArbOneNativeUSDC || tokenIsArbGoerliNativeUSDC) {\n      return true\n    }\n\n    return typeof bridgeTokens[token.address] !== 'undefined'\n  }, [bridgeTokens, token, tokenIsArbOneNativeUSDC, tokenIsArbGoerliNativeUSDC])\n\n  const tokenHasL2Address = useMemo(() => {\n    if (!token) {\n      return true\n    }\n\n    return typeof token.l2Address !== 'undefined'\n  }, [token])\n\n  const tokenIsBridgeable = useMemo(() => {\n    if (isL2NativeToken) {\n      return false\n    }\n\n    if (isDepositMode) {\n      return true\n    }\n\n    return tokenHasL2Address\n  }, [isDepositMode, tokenHasL2Address, isL2NativeToken])\n\n  const isCustomFeeTokenRow = token === null && nativeCurrency.isCustom\n\n  const arbitrumTokenTooltipContent = useMemo(() => {\n    const networkName = getNetworkName(\n      isDepositMode ? l1Network.id : l2Network.id\n    )\n\n    return (\n      <span>\n        This is the official Arbitrum token on {networkName}. Please beware of\n        fake tokens trying to impersonate it.\n      </span>\n    )\n  }, [isDepositMode, l1Network, l2Network])\n\n  const tokenBalanceContent = useMemo(() => {\n    if (!tokenIsAddedToTheBridge) {\n      return <span className=\"text-sm font-medium text-blue-link\">Import</span>\n    }\n\n    // We don't want users to be able to click on USDC before we know whether or not they are SCW users\n    if (\n      isLoadingAccountType &&\n      (tokenIsArbGoerliNativeUSDC || tokenIsArbOneNativeUSDC)\n    ) {\n      return (\n        <div className=\"mr-2\">\n          <Loader color=\"#28A0F0\" size=\"small\" />\n        </div>\n      )\n    }\n\n    return (\n      <span className=\"flex items-center whitespace-nowrap text-sm text-gray-500\">\n        {tokenBalance ? (\n          formatAmount(tokenBalance, {\n            decimals: token?.decimals,\n            symbol: tokenSymbol\n          })\n        ) : (\n          <div className=\"mr-2\">\n            <Loader color=\"#28A0F0\" size=\"small\" />\n          </div>\n        )}\n      </span>\n    )\n  }, [\n    isLoadingAccountType,\n    token?.decimals,\n    tokenBalance,\n    tokenIsAddedToTheBridge,\n    tokenIsArbGoerliNativeUSDC,\n    tokenIsArbOneNativeUSDC,\n    tokenSymbol\n  ])\n\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      style={{ ...style, minHeight: '84px' }}\n      disabled={!tokenIsBridgeable}\n      className={twMerge(\n        'flex w-full flex-row items-center justify-between bg-white px-4 py-3 hover:bg-gray-100',\n        tokenIsBridgeable\n          ? 'cursor-pointer opacity-100'\n          : 'cursor-not-allowed opacity-50'\n      )}\n    >\n      <div className=\"flex w-full flex-row items-center justify-start space-x-4\">\n        <SafeImage\n          src={tokenLogoURI}\n          alt={`${tokenName} logo`}\n          className=\"h-8 w-8 grow-0 rounded-full\"\n          fallback={<TokenLogoFallback />}\n        />\n\n        <div className=\"flex w-full flex-col items-start truncate\">\n          <div className=\"flex w-full items-center space-x-2\">\n            <span className=\"text-base font-medium text-gray-900\">\n              {tokenSymbol}\n            </span>\n            <span className=\"text-xs text-gray-500\">{tokenName}</span>\n\n            {isArbitrumToken && (\n              <Tooltip content={arbitrumTokenTooltipContent}>\n                <StatusBadge variant=\"green\">\n                  <CheckCircleIcon className=\"h-4 w-4\" />\n                  <span className=\"text-xs\">\n                    Official{isSmallScreen ? '' : ' ARB token'}\n                  </span>\n                </StatusBadge>\n              </Tooltip>\n            )}\n\n            {!token && (\n              <div className=\"flex w-full justify-end\">\n                {tokenBalanceContent}\n              </div>\n            )}\n\n            {isPotentialFakeArbitrumToken && (\n              <Tooltip content=\"This token is different from the official Arbitrum token (ARB).\">\n                <div className=\"box-border flex w-max flex-nowrap items-center gap-1 rounded-full border-[1px] border-gray-dark px-1 py-[2px] pr-2 text-sm\">\n                  <ExclamationCircleIcon className=\"h-4 w-4 text-gray-dark\" />\n                  <span className=\"text-xs text-gray-dark\">Careful</span>\n                </div>\n              </Tooltip>\n            )}\n          </div>\n\n          {token && (\n            <div className=\"flex w-full flex-col items-start space-y-1\">\n              {/* TODO: anchor shouldn't be nested within a button */}\n              <div className=\"flex w-full justify-between\">\n                {isDepositMode ? (\n                  <>\n                    {isL2NativeToken ? (\n                      <BlockExplorerTokenLink\n                        chain={l2Network}\n                        address={token.address}\n                      />\n                    ) : (\n                      <BlockExplorerTokenLink\n                        chain={l1Network}\n                        address={token.address}\n                      />\n                    )}\n                  </>\n                ) : (\n                  <>\n                    {tokenHasL2Address ? (\n                      <BlockExplorerTokenLink\n                        chain={l2Network}\n                        address={token.l2Address}\n                      />\n                    ) : (\n                      <span className=\"text-xs text-gray-900\">\n                        This token hasn&apos;t been bridged to{' '}\n                        {getNetworkName(l2Network.id)}.\n                      </span>\n                    )}\n                  </>\n                )}\n                {tokenIsBridgeable && tokenBalanceContent}\n              </div>\n              {isL2NativeToken ? (\n                <span className=\"flex gap-1 text-xs font-normal\">\n                  {`This token is native to ${getNetworkName(\n                    l2Network.id\n                  )} and can’t be bridged.`}\n                </span>\n              ) : (\n                <span className=\"flex gap-1 whitespace-normal text-left text-xs font-normal text-gray-500\">\n                  {tokenListInfo}\n                </span>\n              )}\n            </div>\n          )}\n\n          {isCustomFeeTokenRow && (\n            <div className=\"flex w-full flex-col items-start space-y-1\">\n              <div className=\"flex w-full justify-between\">\n                {isDepositMode && (\n                  <BlockExplorerTokenLink\n                    chain={l1Network}\n                    address={nativeCurrency.address}\n                  />\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </button>\n  )\n}\n","import React, { FormEventHandler, useMemo, useState, useCallback } from 'react'\nimport { isAddress } from 'ethers/lib/utils'\nimport { AutoSizer, List } from 'react-virtualized'\nimport {\n  XMarkIcon,\n  ArrowSmallLeftIcon,\n  MagnifyingGlassIcon\n} from '@heroicons/react/24/outline'\nimport { useMedia } from 'react-use'\nimport Image from 'next/image'\nimport { useAccount } from 'wagmi'\n\nimport { Loader } from '../common/atoms/Loader'\nimport { useActions, useAppState } from '../../state'\nimport {\n  BRIDGE_TOKEN_LISTS,\n  BridgeTokenList,\n  addBridgeTokenListToBridge,\n  SPECIAL_ARBITRUM_TOKEN_TOKEN_LIST_ID\n} from '../../util/TokenListUtils'\nimport {\n  fetchErc20Data,\n  erc20DataToErc20BridgeToken,\n  isTokenArbitrumOneNativeUSDC,\n  isTokenArbitrumGoerliNativeUSDC\n} from '../../util/TokenUtils'\nimport { Button } from '../common/Button'\nimport { useTokensFromLists, useTokensFromUser } from './TokenSearchUtils'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { useBalance } from '../../hooks/useBalance'\nimport { ERC20BridgeToken, TokenType } from '../../hooks/arbTokenBridge.types'\nimport { useTokenLists } from '../../hooks/useTokenLists'\nimport { warningToast } from '../common/atoms/Toast'\nimport { TokenRow } from './TokenRow'\nimport { CommonAddress } from '../../util/CommonAddressUtils'\nimport { ArbOneNativeUSDC } from '../../util/L2NativeUtils'\nimport { isNetwork } from '../../util/networks'\nimport { useUpdateUSDCBalances } from '../../hooks/CCTP/useUpdateUSDCBalances'\nimport { useAccountType } from '../../hooks/useAccountType'\nimport { useChainLayers } from '../../hooks/useChainLayers'\nimport { useNativeCurrency } from '../../hooks/useNativeCurrency'\n\nenum Panel {\n  TOKENS,\n  LISTS\n}\n\nconst ARB_ONE_NATIVE_USDC_TOKEN = {\n  ...ArbOneNativeUSDC,\n  listIds: new Set<number>(),\n  type: TokenType.ERC20,\n  // the address field is for L1 address but native USDC does not have an L1 address\n  // the L2 address is used instead to avoid errors\n  address: CommonAddress.ArbitrumOne.USDC,\n  l2Address: CommonAddress.ArbitrumOne.USDC\n}\n\nconst ARB_GOERLI_NATIVE_USDC_TOKEN = {\n  ...ArbOneNativeUSDC,\n  listIds: new Set<number>(),\n  type: TokenType.ERC20,\n  address: CommonAddress.ArbitrumGoerli.USDC,\n  l2Address: CommonAddress.ArbitrumGoerli.USDC\n}\n\nfunction TokenListsPanel() {\n  const {\n    app: { arbTokenBridge }\n  } = useAppState()\n  const {\n    l2: { network: l2Network }\n  } = useNetworksAndSigners()\n  const { bridgeTokens, token } = arbTokenBridge\n\n  const listsToShow: BridgeTokenList[] = useMemo(() => {\n    if (typeof l2Network === 'undefined') {\n      return []\n    }\n\n    return BRIDGE_TOKEN_LISTS.filter(tokenList => {\n      // Don't show the Arbitrum Token token list, because it's special and can't be disabled\n      if (tokenList.isArbitrumTokenTokenList) {\n        return false\n      }\n\n      return tokenList.originChainID === l2Network.id\n    })\n  }, [l2Network])\n\n  const toggleTokenList = (\n    bridgeTokenList: BridgeTokenList,\n    isActive: boolean\n  ) => {\n    if (isActive) {\n      token.removeTokensFromList(bridgeTokenList.id)\n    } else {\n      addBridgeTokenListToBridge(bridgeTokenList, arbTokenBridge)\n    }\n  }\n\n  // Can happen when switching networks.\n  if (typeof bridgeTokens === 'undefined') {\n    return null\n  }\n\n  return (\n    <div className=\"flex flex-col gap-6 rounded-md border border-gray-300 p-6\">\n      {listsToShow.map(tokenList => {\n        const isActive = Object.keys(bridgeTokens).some(address => {\n          const token = bridgeTokens[address]\n          return token?.listIds.has(tokenList?.id)\n        })\n\n        return (\n          <label\n            key={tokenList.id}\n            className=\"flex items-center justify-start space-x-3\"\n          >\n            <div className=\"switch\">\n              <input\n                type=\"checkbox\"\n                checked={isActive}\n                onChange={() => toggleTokenList(tokenList, isActive)}\n              />\n              <span className=\"slider round\"></span>\n            </div>\n            <div className=\"flex items-center space-x-1\">\n              <Image\n                src={tokenList.logoURI}\n                alt={`${tokenList.name} Logo`}\n                className=\"h-6 w-6 rounded-full\"\n                width={24}\n                height={24}\n              />\n              <span className=\"text-sm text-gray-900\">{tokenList.name}</span>\n            </div>\n          </label>\n        )\n      })}\n    </div>\n  )\n}\n\nconst NATIVE_CURRENCY_IDENTIFIER = 'native_currency'\n\nfunction TokensPanel({\n  onTokenSelected\n}: {\n  onTokenSelected: (token: ERC20BridgeToken | null) => void\n}): JSX.Element {\n  const { address: walletAddress } = useAccount()\n  const {\n    app: {\n      arbTokenBridge: { token, bridgeTokens },\n      isDepositMode\n    }\n  } = useAppState()\n  const {\n    l1: { provider: L1Provider },\n    l2: { provider: L2Provider, network: l2Network }\n  } = useNetworksAndSigners()\n  const { parentLayer, layer } = useChainLayers()\n  const isLarge = useMedia('(min-width: 1024px)')\n  const {\n    eth: [ethL1Balance],\n    erc20: [erc20L1Balances]\n  } = useBalance({ provider: L1Provider, walletAddress })\n  const {\n    eth: [ethL2Balance],\n    erc20: [erc20L2Balances]\n  } = useBalance({ provider: L2Provider, walletAddress })\n\n  const nativeCurrency = useNativeCurrency({ provider: L2Provider })\n\n  const { isArbitrumOne, isArbitrumGoerli } = isNetwork(l2Network.id)\n\n  const tokensFromUser = useTokensFromUser()\n  const tokensFromLists = useTokensFromLists()\n\n  const [newToken, setNewToken] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n  const [isAddingToken, setIsAddingToken] = useState(false)\n\n  const numberOfRows = isLarge ? 5 : 3.5\n\n  const getBalance = useCallback(\n    (address: string) => {\n      if (address === NATIVE_CURRENCY_IDENTIFIER) {\n        if (nativeCurrency.isCustom) {\n          return isDepositMode\n            ? erc20L1Balances?.[nativeCurrency.address]\n            : ethL2Balance\n        }\n\n        return isDepositMode ? ethL1Balance : ethL2Balance\n      }\n\n      if (isDepositMode) {\n        return erc20L1Balances?.[address.toLowerCase()]\n      }\n\n      if (typeof bridgeTokens === 'undefined') {\n        return null\n      }\n\n      if (\n        isTokenArbitrumOneNativeUSDC(address) ||\n        isTokenArbitrumGoerliNativeUSDC(address)\n      ) {\n        return erc20L2Balances?.[address.toLowerCase()]\n      }\n\n      const l2Address = bridgeTokens[address.toLowerCase()]?.l2Address\n      return l2Address ? erc20L2Balances?.[l2Address.toLowerCase()] : null\n    },\n    [\n      nativeCurrency,\n      bridgeTokens,\n      erc20L1Balances,\n      erc20L2Balances,\n      ethL1Balance,\n      ethL2Balance,\n      isDepositMode\n    ]\n  )\n\n  const tokensToShow = useMemo(() => {\n    const tokenSearch = newToken.trim().toLowerCase()\n    const tokenAddresses = [\n      ...Object.keys(tokensFromUser),\n      ...Object.keys(tokensFromLists)\n    ]\n    if (!isDepositMode) {\n      if (isArbitrumOne) {\n        tokenAddresses.push(CommonAddress.ArbitrumOne.USDC)\n      }\n      if (isArbitrumGoerli) {\n        tokenAddresses.push(CommonAddress.ArbitrumGoerli.USDC)\n      }\n    }\n    const tokens = [\n      NATIVE_CURRENCY_IDENTIFIER,\n      // Deduplicate addresses\n      ...new Set(tokenAddresses)\n    ]\n    return tokens\n      .filter(address => {\n        // Derive the token object from the address string\n        let token = tokensFromUser[address] || tokensFromLists[address]\n\n        if (isTokenArbitrumOneNativeUSDC(address)) {\n          // for token search as Arb One native USDC isn't in any lists\n          token = ARB_ONE_NATIVE_USDC_TOKEN\n        }\n\n        if (isTokenArbitrumGoerliNativeUSDC(address)) {\n          // for token search as Arb One native USDC isn't in any lists\n          token = ARB_GOERLI_NATIVE_USDC_TOKEN\n        }\n\n        // If the token on the list is used as a custom fee token, we remove the duplicate\n        if (nativeCurrency.isCustom && address !== NATIVE_CURRENCY_IDENTIFIER) {\n          return address.toLowerCase() !== nativeCurrency.address\n        }\n\n        // Which tokens to show while the search is not active\n        if (!tokenSearch) {\n          // Always show native currency\n          if (address === NATIVE_CURRENCY_IDENTIFIER) {\n            return true\n          }\n\n          // Always show official ARB token\n          if (token?.listIds.has(SPECIAL_ARBITRUM_TOKEN_TOKEN_LIST_ID)) {\n            return true\n          }\n\n          const balance = getBalance(address)\n          // Only show tokens with a balance greater than zero\n          return balance && balance.gt(0)\n        }\n\n        if (address === NATIVE_CURRENCY_IDENTIFIER) {\n          return `${nativeCurrency.name}${nativeCurrency.symbol}`\n            .toLowerCase()\n            .includes(tokenSearch)\n        }\n\n        if (!token) {\n          return false\n        }\n\n        const { name, symbol, address: tokenAddress, l2Address = '' } = token\n\n        return (name + symbol + tokenAddress + l2Address)\n          .toLowerCase()\n          .includes(tokenSearch)\n      })\n      .sort((address1: string, address2: string) => {\n        // Pin native currency to top\n        if (address1 === NATIVE_CURRENCY_IDENTIFIER) {\n          return -1\n        }\n\n        // Pin native currency to top\n        if (address2 === NATIVE_CURRENCY_IDENTIFIER) {\n          return 1\n        }\n\n        const bal1 = getBalance(address1)\n        const bal2 = getBalance(address2)\n\n        if (!(bal1 || bal2)) {\n          return 0\n        }\n        if (!bal1) {\n          return 1\n        }\n        if (!bal2) {\n          return -1\n        }\n        return bal1.gt(bal2) ? -1 : 1\n      })\n  }, [\n    newToken,\n    tokensFromUser,\n    tokensFromLists,\n    isDepositMode,\n    isArbitrumOne,\n    isArbitrumGoerli,\n    getBalance,\n    nativeCurrency\n  ])\n\n  const storeNewToken = async () => {\n    if (!walletAddress) {\n      return\n    }\n\n    let error = 'Token not found on this network.'\n    let isSuccessful = false\n\n    try {\n      // Try to add the token as an L2-native token\n      token.addL2NativeToken(newToken)\n      isSuccessful = true\n    } catch (error) {\n      //\n    }\n\n    try {\n      // Try to add the token as a regular bridged token\n      await token.add(newToken)\n      isSuccessful = true\n    } catch (ex: any) {\n      if (ex.name === 'TokenDisabledError') {\n        error = 'This token is currently paused in the bridge.'\n      }\n    }\n\n    // Only show error message if neither succeeded\n    if (!isSuccessful) {\n      setErrorMessage(error)\n    }\n  }\n\n  const addNewToken: FormEventHandler = async e => {\n    e.preventDefault()\n    setErrorMessage('')\n\n    if (!isAddress(newToken) || isAddingToken) {\n      return\n    }\n\n    setIsAddingToken(true)\n\n    try {\n      await storeNewToken()\n    } catch (ex) {\n      console.log(ex)\n    } finally {\n      setIsAddingToken(false)\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col space-y-3\">\n      <form onSubmit={addNewToken} className=\"flex flex-col\">\n        <div className=\"flex items-stretch gap-2\">\n          <div className=\"relative flex h-full w-full grow items-center rounded-lg border-[1px] border-gray-dark bg-white px-2 text-gray-dark shadow-input\">\n            <MagnifyingGlassIcon className=\"h-4 w-4 shrink-0 text-dark\" />\n\n            <input\n              id=\"newTokenAddress\"\n              value={newToken}\n              onChange={e => {\n                setErrorMessage('')\n                setNewToken(e.target.value)\n              }}\n              placeholder={`Search by token name, symbol, ${parentLayer} or ${layer} address`}\n              className=\"h-full w-full p-2 text-sm font-light text-dark placeholder:text-xs placeholder:text-gray-dark\"\n            />\n          </div>\n\n          <Button\n            type=\"submit\"\n            variant=\"secondary\"\n            loading={isAddingToken}\n            loadingProps={{ loaderColor: '#999999' /** text-gray-6 */ }}\n            disabled={newToken === '' || !isAddress(newToken)}\n            className=\"border border-dark py-1 disabled:border disabled:border-current disabled:bg-white disabled:text-gray-4\"\n            aria-label=\"Add New Token\"\n          >\n            Add\n          </Button>\n        </div>\n        {errorMessage && <p className=\"text-xs text-red-400\">{errorMessage}</p>}\n      </form>\n      <div\n        className=\"flex flex-grow flex-col overflow-auto rounded-md border border-gray-2 lg:shadow-[0px_4px_10px_rgba(120,120,120,0.25)]\"\n        data-cy=\"tokenSearchList\"\n      >\n        <AutoSizer disableHeight>\n          {({ width }) => (\n            <List\n              width={width - 2}\n              height={numberOfRows * 84}\n              rowCount={tokensToShow.length}\n              rowHeight={84}\n              rowRenderer={virtualizedProps => {\n                const address = tokensToShow[virtualizedProps.index]\n\n                if (address === NATIVE_CURRENCY_IDENTIFIER) {\n                  return (\n                    <TokenRow\n                      key=\"TokenRowNativeCurrency\"\n                      onClick={() => onTokenSelected(null)}\n                      token={null}\n                    />\n                  )\n                }\n\n                let token: ERC20BridgeToken | null = null\n                if (isTokenArbitrumOneNativeUSDC(address)) {\n                  token = ARB_ONE_NATIVE_USDC_TOKEN\n                } else if (isTokenArbitrumGoerliNativeUSDC(address)) {\n                  token = ARB_GOERLI_NATIVE_USDC_TOKEN\n                } else if (address) {\n                  token =\n                    tokensFromLists[address] || tokensFromUser[address] || null\n                }\n\n                return (\n                  <TokenRow\n                    key={address}\n                    style={virtualizedProps.style}\n                    onClick={() => onTokenSelected(token)}\n                    token={token}\n                  />\n                )\n              }}\n            />\n          )}\n        </AutoSizer>\n      </div>\n    </div>\n  )\n}\n\nexport function TokenSearch({\n  close,\n  onImportToken\n}: {\n  close: () => void\n  onImportToken: (address: string) => void\n}) {\n  const { address: walletAddress } = useAccount()\n  const {\n    app: {\n      arbTokenBridge: { token, bridgeTokens }\n    }\n  } = useAppState()\n  const {\n    app: { setSelectedToken }\n  } = useActions()\n  const { l1, l2 } = useNetworksAndSigners()\n  const { updateUSDCBalances } = useUpdateUSDCBalances({ walletAddress })\n  const { isLoading: isLoadingAccountType } = useAccountType()\n\n  const { isValidating: isFetchingTokenLists } = useTokenLists(l2.network.id) // to show a small loader while token-lists are loading when search panel opens\n\n  const [currentPanel, setCurrentPanel] = useState(Panel.TOKENS)\n\n  async function selectToken(_token: ERC20BridgeToken | null) {\n    close()\n\n    if (_token === null) {\n      setSelectedToken(null)\n      return\n    }\n\n    if (!_token.address) {\n      return\n    }\n\n    if (typeof bridgeTokens === 'undefined') {\n      return\n    }\n\n    try {\n      // Native USDC on L2 won't have a corresponding L1 address\n      const isNativeUSDC =\n        isTokenArbitrumOneNativeUSDC(_token.address) ||\n        isTokenArbitrumGoerliNativeUSDC(_token.address)\n\n      if (isNativeUSDC) {\n        if (isLoadingAccountType) {\n          return\n        }\n\n        updateUSDCBalances(_token.address)\n        setSelectedToken({\n          name: 'USD Coin',\n          type: TokenType.ERC20,\n          symbol: 'USDC',\n          address: _token.address,\n          decimals: 6,\n          listIds: new Set()\n        })\n        return\n      }\n\n      // Token not added to the bridge, so we'll handle importing it\n      if (typeof bridgeTokens[_token.address] === 'undefined') {\n        onImportToken(_token.address)\n        return\n      }\n\n      if (!walletAddress) {\n        return\n      }\n\n      const data = await fetchErc20Data({\n        address: _token.address,\n        provider: l1.provider\n      })\n\n      if (data) {\n        token.updateTokenData(_token.address)\n        setSelectedToken({\n          ...erc20DataToErc20BridgeToken(data),\n          l2Address: _token.l2Address\n        })\n      }\n    } catch (error: any) {\n      console.warn(error)\n\n      if (error.name === 'TokenDisabledError') {\n        warningToast('This token is currently paused in the bridge')\n      }\n    }\n  }\n\n  if (currentPanel === Panel.TOKENS) {\n    return (\n      <>\n        <div className=\"flex flex-row items-center justify-between pb-4\">\n          <span className=\"text-xl font-medium\">Select Token</span>\n          <button className=\"arb-hover\" onClick={close}>\n            <XMarkIcon className=\"h-6 w-6 text-gray-5\" />\n          </button>\n        </div>\n        <TokensPanel onTokenSelected={selectToken} />\n        <div className=\"flex justify-end pt-6\">\n          {isFetchingTokenLists ? (\n            <span className=\"flex flex-row items-center gap-2 text-sm font-normal text-gray-6\">\n              <Loader color=\"#28A0F0\" size=\"small\" />\n              Fetching Tokens...\n            </span>\n          ) : (\n            <button\n              className=\"arb-hover text-gray text-sm font-medium text-blue-link\"\n              onClick={() => setCurrentPanel(Panel.LISTS)}\n            >\n              Manage token lists\n            </button>\n          )}\n        </div>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"flex flex-row items-center justify-between pb-4\">\n        <span className=\"text-xl font-medium\">Token Lists</span>\n        <button className=\"arb-hover\" onClick={close}>\n          <XMarkIcon className=\"h-6 w-6 text-gray-5\" />\n        </button>\n      </div>\n      <div className=\"flex justify-start pb-6\">\n        <button\n          className=\"arb-hover flex items-center space-x-2 text-sm font-medium text-blue-link\"\n          onClick={() => setCurrentPanel(Panel.TOKENS)}\n        >\n          <ArrowSmallLeftIcon className=\"h-6 w-6\" />\n          <span>Back to Select Token</span>\n        </button>\n      </div>\n      <TokenListsPanel />\n    </>\n  )\n}\n","import { useMemo, useState } from 'react'\nimport { Popover } from '@headlessui/react'\nimport { ChevronDownIcon } from '@heroicons/react/24/outline'\n\nimport { useAppState } from '../../state'\nimport { sanitizeImageSrc } from '../../util'\nimport { TokenImportDialog } from './TokenImportDialog'\nimport { TokenSearch } from '../TransferPanel/TokenSearch'\nimport {\n  useNetworksAndSigners,\n  UseNetworksAndSignersStatus\n} from '../../hooks/useNetworksAndSigners'\nimport { useDialog } from '../common/Dialog'\nimport { sanitizeTokenSymbol } from '../../util/TokenUtils'\nimport { useNativeCurrency } from '../../hooks/useNativeCurrency'\n\nexport function TokenButton(): JSX.Element {\n  const {\n    app: {\n      isDepositMode,\n      selectedToken,\n      arbTokenBridge: { bridgeTokens },\n      arbTokenBridgeLoaded\n    }\n  } = useAppState()\n  const { status, l1, l2 } = useNetworksAndSigners()\n\n  const [tokenToImport, setTokenToImport] = useState<string>()\n  const [tokenImportDialogProps, openTokenImportDialog] = useDialog()\n\n  const nativeCurrency = useNativeCurrency({ provider: l2.provider })\n\n  const tokenLogo = useMemo<string | undefined>(() => {\n    const selectedAddress = selectedToken?.address\n    if (!selectedAddress) {\n      return nativeCurrency.logoUrl\n    }\n    if (\n      status !== UseNetworksAndSignersStatus.CONNECTED ||\n      !arbTokenBridgeLoaded\n    ) {\n      return undefined\n    }\n    if (typeof bridgeTokens === 'undefined') {\n      return undefined\n    }\n    const logo = bridgeTokens[selectedAddress]?.logoURI\n    if (logo) {\n      return sanitizeImageSrc(logo)\n    }\n    return undefined\n  }, [\n    nativeCurrency,\n    bridgeTokens,\n    selectedToken?.address,\n    status,\n    arbTokenBridgeLoaded\n  ])\n\n  const tokenSymbol = useMemo(() => {\n    if (!selectedToken) {\n      return nativeCurrency.symbol\n    }\n\n    return sanitizeTokenSymbol(selectedToken.symbol, {\n      erc20L1Address: selectedToken.address,\n      chain: isDepositMode ? l1.network : l2.network\n    })\n  }, [selectedToken, nativeCurrency, isDepositMode, l2.network, l1.network])\n\n  function closeWithReset() {\n    setTokenToImport(undefined)\n    tokenImportDialogProps.onClose(false)\n  }\n\n  function importToken(address: string) {\n    setTokenToImport(address)\n    openTokenImportDialog()\n  }\n\n  return (\n    <>\n      {typeof tokenToImport !== 'undefined' && (\n        <TokenImportDialog\n          {...tokenImportDialogProps}\n          onClose={closeWithReset}\n          tokenAddress={tokenToImport}\n        />\n      )}\n\n      <Popover className=\"h-full\">\n        <Popover.Button\n          className=\"arb-hover h-full w-max rounded-bl-xl rounded-tl-xl bg-white px-3 hover:bg-gray-2\"\n          aria-label=\"Select Token\"\n        >\n          <div className=\"flex items-center space-x-2\">\n            {tokenLogo && (\n              // SafeImage is used for token logo, we don't know at buildtime where those images will be loaded from\n              // It would throw error if it's loaded from external domains\n              // eslint-disable-next-line @next/next/no-img-element\n              <img\n                src={tokenLogo}\n                alt=\"Token logo\"\n                className=\"h-5 w-5 rounded-full sm:h-8 sm:w-8\"\n              />\n            )}\n            <span className=\"text-xl font-light sm:text-3xl\">\n              {tokenSymbol}\n            </span>\n            <ChevronDownIcon className=\"h-4 w-4 text-gray-6\" />\n          </div>\n        </Popover.Button>\n        <Popover.Panel className=\"absolute left-0 top-0 z-50 w-full rounded-lg bg-white px-6 py-4 shadow-[0px_4px_12px_#9e9e9e] lg:left-auto lg:top-auto lg:h-auto lg:w-[466px] lg:p-6\">\n          {({ close }) => (\n            <TokenSearch close={close} onImportToken={importToken} />\n          )}\n        </Popover.Panel>\n      </Popover>\n    </>\n  )\n}\n","import { twMerge } from 'tailwind-merge'\nimport { Loader } from '../common/atoms/Loader'\nimport { TokenButton } from './TokenButton'\n\ntype MaxButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement> & {\n  loading: boolean\n}\n\nfunction MaxButton(props: MaxButtonProps) {\n  const { loading, className = '', ...rest } = props\n\n  if (loading) {\n    return (\n      <div className=\"px-3\">\n        <Loader color=\"#999999\" size=\"small\" />\n      </div>\n    )\n  }\n\n  return (\n    <button\n      type=\"button\"\n      className={`p-2 text-sm font-light text-gray-dark ${className}`}\n      {...rest}\n    >\n      MAX\n    </button>\n  )\n}\n\nexport type TransferPanelMainInputProps =\n  React.InputHTMLAttributes<HTMLInputElement> & {\n    errorMessage?: string | React.ReactNode\n    maxButtonProps: MaxButtonProps & {\n      visible: boolean\n    }\n    value: string\n  }\n\nexport function TransferPanelMainInput(props: TransferPanelMainInputProps) {\n  const { errorMessage, maxButtonProps, value, ...rest } = props\n  const { visible: maxButtonVisible, ...restMaxButtonProps } = maxButtonProps\n\n  const borderClassName =\n    typeof errorMessage !== 'undefined'\n      ? 'border border-[#cd0000]'\n      : 'border border-gray-6'\n\n  return (\n    <>\n      <div\n        className={twMerge(\n          'flex h-12 flex-row items-center rounded-lg bg-white shadow-input lg:h-16',\n          borderClassName\n        )}\n      >\n        <TokenButton />\n        <div className=\"h-full border-r border-gray-2\" />\n        <div className=\"flex h-full flex-grow flex-row items-center justify-center px-3\">\n          <input\n            type=\"text\"\n            inputMode=\"decimal\"\n            placeholder=\"Enter amount\"\n            className=\"h-full w-full bg-transparent text-xl font-light placeholder:text-gray-dark sm:text-3xl\"\n            value={value}\n            {...rest}\n          />\n          {maxButtonVisible && <MaxButton {...restMaxButtonProps} />}\n        </div>\n      </div>\n\n      {typeof errorMessage !== 'undefined' && (\n        <span className=\"text-sm text-brick\">{errorMessage}</span>\n      )}\n    </>\n  )\n}\n","import { useMemo } from 'react'\nimport { BigNumber, utils } from 'ethers'\n\nimport { useAppState } from '../../state'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { useArbQueryParams } from '../../hooks/useArbQueryParams'\nimport { useIsConnectedToArbitrum } from '../../hooks/useIsConnectedToArbitrum'\n\nexport function calculateEstimatedL1GasFees(\n  estimatedL1Gas: BigNumber,\n  l1GasPrice: BigNumber\n) {\n  return parseFloat(utils.formatEther(estimatedL1Gas.mul(l1GasPrice)))\n}\n\nexport function calculateEstimatedL2GasFees(\n  estimatedL2Gas: BigNumber,\n  l2GasPrice: BigNumber,\n  estimatedL2SubmissionCost: BigNumber\n) {\n  return parseFloat(\n    utils.formatEther(\n      estimatedL2Gas.mul(l2GasPrice).add(estimatedL2SubmissionCost)\n    )\n  )\n}\n\n// TODO: These could be useful in the rest of the app\nexport function useIsSwitchingL2Chain() {\n  const { app } = useAppState()\n  const { isDepositMode } = app\n\n  const { l2 } = useNetworksAndSigners()\n  const isConnectedToArbitrum = useIsConnectedToArbitrum()\n  const [{ l2ChainId: l2ChainIdSearchParam }] = useArbQueryParams()\n\n  return useMemo(() => {\n    if (typeof isConnectedToArbitrum === 'undefined') {\n      return false\n    }\n\n    if (isConnectedToArbitrum || !isDepositMode) {\n      return false\n    }\n\n    // if l2ChainId url param is either null, undefined, blank, 0 or invalid number\n    if (!l2ChainIdSearchParam || isNaN(l2ChainIdSearchParam)) {\n      return false\n    }\n\n    return l2.network.id !== l2ChainIdSearchParam\n  }, [isConnectedToArbitrum, isDepositMode, l2, l2ChainIdSearchParam])\n}\n","function isUserRejectedError(error: any) {\n  return error?.code === 4001 || error?.code === 'ACTION_REJECTED'\n}\nexport { isUserRejectedError }\n","import { useSwitchNetwork } from 'wagmi'\nimport { SwitchNetworkArgs } from '@wagmi/core'\nimport * as Sentry from '@sentry/react'\n\nimport { getNetworkName, isNetwork } from '../util/networks'\nimport { isUserRejectedError } from '../util/isUserRejectedError'\nimport { warningToast } from '../components/common/atoms/Toast'\n\ntype SwitchNetworkConfig = {\n  isSwitchingNetworkBeforeTx?: boolean\n}\n\nconst handleSwitchNetworkNotSupported = (\n  attemptedChainId: number,\n  isSwitchingNetworkBeforeTx: boolean\n) => {\n  const isDeposit = isNetwork(attemptedChainId).isEthereumMainnetOrTestnet\n  const targetTxName = isDeposit ? 'deposit' : 'withdraw'\n  const networkName = getNetworkName(attemptedChainId)\n\n  const message = isSwitchingNetworkBeforeTx\n    ? `Please connect to ${networkName} on your wallet before signing your ${targetTxName} transaction.`\n    : `Please connect to ${networkName} on your wallet.`\n\n  warningToast(message)\n}\n\n/**\n * Function to invoke when an error is thrown while attempting to switch network.\n * https://wagmi.sh/react/hooks/useSwitchNetwork#onerror-optional\n * @param error\n * @param param1 - `{ chainId: number }`\n * @param context - default value `{ isSwitchingNetworkBeforeTx: false }`\n */\nfunction handleSwitchNetworkError(\n  error: any,\n  { chainId }: SwitchNetworkArgs,\n  context: unknown = { isSwitchingNetworkBeforeTx: false }\n) {\n  const { isSwitchingNetworkBeforeTx } = context as {\n    isSwitchingNetworkBeforeTx: boolean\n  }\n  if (isUserRejectedError(error)) {\n    return\n  }\n  if (error.name === 'SwitchChainNotSupportedError') {\n    handleSwitchNetworkNotSupported(chainId, isSwitchingNetworkBeforeTx)\n  } else {\n    Sentry.captureException(error)\n  }\n}\n\nexport function useSwitchNetworkWithConfig({\n  isSwitchingNetworkBeforeTx = false\n}: SwitchNetworkConfig = {}) {\n  const config = {\n    throwForSwitchChainNotSupported: true,\n    /**\n     * onMutate:\n     * The return value will be the `context` param received by the error\n     * handler of `switchNetwork`.\n     *\n     * Function fires before switch network function and is passed same\n     * variables switch network function would receive.\n     * Value returned from this function will be passed to both `onError` and\n     * `onSettled` functions in event of a switch network failure.\n     * https://wagmi.sh/react/hooks/useSwitchNetwork#onmutate-optional\n     *\n     * @returns `{ isSwitchingNetworkBeforeTx: boolean }`\n     */\n    onMutate: () => ({ isSwitchingNetworkBeforeTx }),\n    onError: handleSwitchNetworkError\n  }\n\n  return useSwitchNetwork(config)\n}\n","import { Listbox, Transition } from '@headlessui/react'\nimport { ChevronDownIcon } from '@heroicons/react/24/outline'\nimport { Fragment, useCallback, useMemo } from 'react'\nimport { twMerge } from 'tailwind-merge'\nimport { Chain } from 'wagmi'\nimport Image from 'next/image'\n\nimport { getNetworkLogo, getNetworkName, isNetwork } from '../../util/networks'\n\nexport type NetworkListboxProps = {\n  disabled?: boolean\n  label: string\n  options: Chain[]\n  value: Chain\n  onChange: (value: Chain) => void\n}\n\nexport function NetworkListbox({\n  disabled = false,\n  label,\n  options,\n  value,\n  onChange\n}: NetworkListboxProps) {\n  const buttonClassName = useMemo(() => {\n    const {\n      isArbitrum,\n      isArbitrumNova,\n      isOrbitChain,\n      isXaiTestnet,\n      isStylusTestnet,\n      isInspace\n    } = isNetwork(value.id)\n\n    if (isXaiTestnet) {\n      return 'bg-xai-primary'\n    }\n\n    if (isInspace) {\n      return 'bg-eth-primary'\n    }\n\n    if (isStylusTestnet) {\n      return 'bg-stylus-primary'\n    }\n\n    if (isOrbitChain) {\n      return 'bg-orbit-primary'\n    }\n\n    if (!isArbitrum) {\n      return 'bg-eth-primary'\n    }\n\n    if (isArbitrumNova) {\n      return 'bg-arb-nova-primary'\n    }\n\n    return 'bg-arb-one-primary'\n  }, [value])\n\n  const getOptionClassName = useCallback(\n    (index: number) => {\n      if (index === 0) {\n        return 'rounded-tl-xl rounded-tr-xl'\n      }\n\n      if (index === options.length - 1) {\n        return 'rounded-bl-xl rounded-br-xl'\n      }\n\n      return ''\n    },\n    [options.length]\n  )\n\n  return (\n    <Listbox\n      as=\"div\"\n      className=\"relative\"\n      disabled={disabled}\n      value={value}\n      onChange={onChange}\n    >\n      <Listbox.Button\n        className={`arb-hover flex w-max items-center space-x-1 rounded-full px-3 py-2 text-sm text-white md:text-2xl lg:px-4 lg:py-3 ${buttonClassName}`}\n      >\n        <span className=\"max-w-[220px] truncate md:max-w-[250px]\">\n          {label} {getNetworkName(value.id)}\n        </span>\n        {!disabled && <ChevronDownIcon className=\"h-4 w-4\" />}\n      </Listbox.Button>\n\n      <Transition\n        as={Fragment}\n        leave=\"transition ease-in duration-100\"\n        leaveFrom=\"opacity-100\"\n        leaveTo=\"opacity-0\"\n      >\n        <Listbox.Options className=\"absolute z-20 ml-2 mt-2 overflow-hidden rounded-xl bg-white shadow-[0px_4px_12px_#9e9e9e]\">\n          {options.map((option, index) => {\n            return (\n              <Listbox.Option\n                key={option.id}\n                value={option}\n                className={twMerge(\n                  'ui-selected:bg-[rgba(0,0,0,0.2) flex h-12 min-w-max cursor-pointer select-none items-center space-x-2 px-4 py-7 hover:bg-[rgba(0,0,0,0.2)] ui-active:bg-[rgba(0,0,0,0.2)]',\n                  getOptionClassName(index)\n                )}\n              >\n                <div className=\"flex h-8 w-8 items-center justify-center\">\n                  <Image\n                    src={getNetworkLogo(option.id)}\n                    alt={`${getNetworkName(option.id)} logo`}\n                    className=\"max-h-7 w-auto\"\n                    width={36}\n                    height={36}\n                  />\n                </div>\n                <span className=\"max-w-[140px] truncate\">\n                  {getNetworkName(option.id)}\n                </span>\n              </Listbox.Option>\n            )\n          })}\n        </Listbox.Options>\n      </Transition>\n    </Listbox>\n  )\n}\n","import { Dialog as HeadlessUIDialog, Tab } from '@headlessui/react'\nimport { XMarkIcon } from '@heroicons/react/24/outline'\nimport Hop from '@/images/bridge/hop.png'\n\nimport { useAppState } from '../../state'\nimport { Button } from '../common/Button'\nimport { TabButton } from '../common/Tab'\nimport { BridgesTable } from '../common/BridgesTable'\nimport { Dialog, UseDialogProps } from '../common/Dialog'\nimport { FastBridgeInfo, FastBridgeNames } from '../../util/fastBridges'\nimport { ChainId, getNetworkName } from '../../util/networks'\nimport { ether } from '../../constants'\n\nexport function OneNovaTransferDialog(\n  props: UseDialogProps & {\n    destinationChainId: number | null\n    amount: string\n  }\n) {\n  const {\n    app: { selectedToken }\n  } = useAppState()\n\n  const { destinationChainId } = props\n\n  if (!destinationChainId) {\n    return null\n  }\n\n  const sourceChainId =\n    destinationChainId === ChainId.ArbitrumNova\n      ? ChainId.ArbitrumOne\n      : ChainId.ArbitrumNova\n\n  const sourceNetworkSlug =\n    sourceChainId === ChainId.ArbitrumOne ? 'arbitrum' : 'nova'\n  const destinationNetworkSlug =\n    destinationChainId === ChainId.ArbitrumOne ? 'arbitrum' : 'nova'\n\n  const bridgeDeepLink = `https://app.hop.exchange/#/send?sourceNetwork=${sourceNetworkSlug}&destNetwork=${destinationNetworkSlug}&token=${\n    selectedToken?.symbol || ether.symbol\n  }&amount=${props.amount}`\n\n  // only enable Hop for now\n  const fastBridgeList: FastBridgeInfo[] = [\n    { name: FastBridgeNames.Hop, imageSrc: Hop, href: bridgeDeepLink }\n  ]\n\n  return (\n    <Dialog {...props} isCustom>\n      <div className=\"flex flex-col md:min-w-[725px]\">\n        <Tab.Group>\n          <div className=\"flex flex-row items-center justify-between bg-ocl-blue px-8 py-4\">\n            <HeadlessUIDialog.Title className=\"text-2xl font-medium text-white\">\n              Move funds from {getNetworkName(sourceChainId)} to{' '}\n              {getNetworkName(destinationChainId)}\n            </HeadlessUIDialog.Title>\n            <button\n              className=\"arb-hover\"\n              onClick={() => {\n                props.onClose(false)\n              }}\n            >\n              <XMarkIcon className=\"h-6 w-6 text-white\" />\n            </button>\n          </div>\n\n          <Tab.List className=\"bg-ocl-blue\">\n            <TabButton>Use a third-party bridge</TabButton>\n          </Tab.List>\n\n          <Tab.Panel className=\"flex flex-col space-y-3 px-8 py-4\">\n            <div className=\"flex flex-col space-y-3\">\n              <p className=\"font-light\">\n                Use a third party bridge to transfer funds between Arbitrum One\n                and Arbitrum Nova.\n              </p>\n            </div>\n\n            <BridgesTable bridgeList={fastBridgeList} />\n            <div className=\"mt-2 flex flex-row justify-end space-x-2\">\n              <Button variant=\"secondary\" onClick={() => props.onClose(false)}>\n                Cancel\n              </Button>\n            </div>\n          </Tab.Panel>\n        </Tab.Group>\n      </div>\n    </Dialog>\n  )\n}\n","export enum TransferReadinessRichErrorMessage {\n  GAS_ESTIMATION_FAILURE,\n  TOKEN_WITHDRAW_ONLY,\n  TOKEN_TRANSFER_DISABLED\n}\n\nexport type GetInsufficientFundsErrorMessageParams = {\n  asset: string\n  chain: string\n}\n\nexport function getInsufficientFundsErrorMessage({\n  asset,\n  chain\n}: GetInsufficientFundsErrorMessageParams) {\n  return `Insufficient ${asset}. Please add more funds to ${chain}.`\n}\n\nexport function getInsufficientFundsForGasFeesErrorMessage({\n  asset,\n  chain\n}: GetInsufficientFundsErrorMessageParams) {\n  return `Insufficient ${asset} to pay for gas fees. Please add more funds to ${chain}.`\n}\n\nexport function getSmartContractWalletNativeCurrencyTransfersNotSupportedErrorMessage({\n  asset\n}: {\n  asset: string\n}) {\n  return `${asset} transfers using smart contract wallets aren't supported yet.`\n}\n","import React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { ChevronDownIcon, ArrowsUpDownIcon } from '@heroicons/react/24/outline'\nimport { Loader } from '../common/atoms/Loader'\nimport { twMerge } from 'tailwind-merge'\nimport { BigNumber, constants, utils } from 'ethers'\nimport * as Sentry from '@sentry/react'\nimport { Chain, useAccount } from 'wagmi'\n\nimport { useActions, useAppState } from '../../state'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { formatAmount } from '../../util/NumberUtils'\nimport {\n  ChainId,\n  getCustomChainFromLocalStorageById,\n  getExplorerUrl,\n  getL2ChainIds,\n  isNetwork\n} from '../../util/networks'\nimport { getWagmiChain } from '../../util/wagmi/getWagmiChain'\nimport {\n  AdvancedSettings,\n  useDestinationAddressStore\n} from './AdvancedSettings'\nimport { ExternalLink } from '../common/ExternalLink'\nimport { Dialog, useDialog } from '../common/Dialog'\nimport {\n  AmountQueryParamEnum,\n  useArbQueryParams\n} from '../../hooks/useArbQueryParams'\n\nimport { TransferPanelMainInput } from './TransferPanelMainInput'\nimport {\n  calculateEstimatedL1GasFees,\n  calculateEstimatedL2GasFees,\n  useIsSwitchingL2Chain\n} from './TransferPanelMainUtils'\nimport { isUserRejectedError } from '../../util/isUserRejectedError'\nimport { useBalance } from '../../hooks/useBalance'\nimport { useGasPrice } from '../../hooks/useGasPrice'\nimport { ERC20BridgeToken, TokenType } from '../../hooks/arbTokenBridge.types'\nimport { useSwitchNetworkWithConfig } from '../../hooks/useSwitchNetworkWithConfig'\nimport { useIsConnectedToArbitrum } from '../../hooks/useIsConnectedToArbitrum'\nimport { useIsConnectedToOrbitChain } from '../../hooks/useIsConnectedToOrbitChain'\nimport { useAccountType } from '../../hooks/useAccountType'\nimport { depositEthEstimateGas } from '../../util/EthDepositUtils'\nimport { withdrawEthEstimateGas } from '../../util/EthWithdrawalUtils'\nimport { GasEstimates } from '../../hooks/arbTokenBridge.types'\nimport { CommonAddress } from '../../util/CommonAddressUtils'\nimport {\n  isTokenArbitrumGoerliNativeUSDC,\n  isTokenArbitrumOneNativeUSDC,\n  isTokenGoerliUSDC,\n  isTokenMainnetUSDC,\n  isTokenUSDC,\n  sanitizeTokenSymbol\n} from '../../util/TokenUtils'\nimport {\n  ETH_BALANCE_ARTICLE_LINK,\n  USDC_LEARN_MORE_LINK,\n  ether\n} from '../../constants'\nimport { NetworkListbox, NetworkListboxProps } from './NetworkListbox'\nimport {\n  createBlockExplorerUrlForToken,\n  shortenAddress\n} from '../../util/CommonUtils'\nimport { OneNovaTransferDialog } from './OneNovaTransferDialog'\nimport { useUpdateUSDCBalances } from '../../hooks/CCTP/useUpdateUSDCBalances'\nimport { useChainLayers } from '../../hooks/useChainLayers'\nimport {\n  useNativeCurrency,\n  NativeCurrencyErc20\n} from '../../hooks/useNativeCurrency'\nimport { defaultErc20Decimals } from '../../defaults'\nimport { TransferReadinessRichErrorMessage } from './useTransferReadinessUtils'\n\nenum NetworkType {\n  l1 = 'l1',\n  l2 = 'l2'\n}\n\nexport function SwitchNetworksButton(\n  props: React.ButtonHTMLAttributes<HTMLButtonElement>\n) {\n  const {\n    isEOA,\n    isSmartContractWallet,\n    isLoading: isLoadingAccountType\n  } = useAccountType()\n\n  return (\n    <button\n      type=\"button\"\n      disabled={isSmartContractWallet || isLoadingAccountType}\n      className={twMerge(\n        'min-h-14 lg:min-h-16 min-w-14 lg:min-w-16 flex h-14 w-14 items-center justify-center rounded-full bg-white p-3 shadow-[0_0_4px_0_rgba(0,0,0,0.25)] transition duration-200 lg:h-16 lg:w-16 lg:p-4',\n        isEOA\n          ? 'hover:animate-rotate-180 focus-visible:animate-rotate-180 hover:bg-gray-1 focus-visible:ring-2 focus-visible:ring-gray-4 active:bg-gray-2'\n          : ''\n      )}\n      {...props}\n    >\n      {isSmartContractWallet ? (\n        <ChevronDownIcon className=\"text-dark\" />\n      ) : (\n        <ArrowsUpDownIcon className=\"text-dark\" />\n      )}\n    </button>\n  )\n}\n\nfunction getListboxOptionsFromL1Network(network: Chain) {\n  return getL2ChainIds(network.id).map(chainId => getWagmiChain(chainId))\n}\n\nfunction CustomAddressBanner({\n  network,\n  customAddress\n}: {\n  network: Chain\n  customAddress: string | undefined\n}) {\n  const { isArbitrum, isArbitrumNova } = isNetwork(network.id)\n\n  const bannerClassName = useMemo(() => {\n    if (!isArbitrum) {\n      return 'bg-cyan border-eth-dark'\n    }\n    if (isArbitrumNova) {\n      return 'bg-orange border-arb-nova-dark'\n    }\n    return 'bg-cyan border-arb-one-dark'\n  }, [isArbitrum, isArbitrumNova])\n\n  if (!customAddress) {\n    return null\n  }\n\n  return (\n    <div\n      className={twMerge(\n        'w-full rounded-t-lg border-4 p-1 text-center text-sm',\n        bannerClassName\n      )}\n    >\n      <span>\n        Showing balance for Custom Destination Address:{' '}\n        <ExternalLink\n          className=\"arb-hover underline\"\n          href={`${getExplorerUrl(network.id)}/address/${customAddress}`}\n        >\n          {shortenAddress(customAddress)}\n        </ExternalLink>\n      </span>\n    </div>\n  )\n}\n\nfunction NetworkContainer({\n  network,\n  customAddress,\n  children\n}: {\n  network: Chain\n  customAddress?: string\n  children: React.ReactNode\n}) {\n  const { address } = useAccount()\n  const { backgroundImage, backgroundClassName } = useMemo(() => {\n    const {\n      isArbitrum,\n      isArbitrumNova,\n      isOrbitChain,\n      isXaiTestnet,\n      isStylusTestnet,\n      isInspace\n    } = isNetwork(network.id)\n\n    if (isInspace) {\n      return {\n        backgroundImage: `url('/images/InspaceLogo.png')`,\n        backgroundClassName: 'bg-xai-dark'\n      }\n    }\n\n    if (isXaiTestnet) {\n      return {\n        backgroundImage: `url('/images/XaiLogo.svg')`,\n        backgroundClassName: 'bg-xai-dark'\n      }\n    }\n\n    if (isStylusTestnet) {\n      return {\n        backgroundImage: `url('/images/StylusLogo.svg')`,\n        backgroundClassName: 'bg-stylus-dark'\n      }\n    }\n\n    if (isOrbitChain) {\n      return {\n        backgroundImage: `url('/images/OrbitLogoWhite.svg')`,\n        backgroundClassName: 'bg-orbit-dark'\n      }\n    }\n\n    if (!isArbitrum) {\n      return {\n        backgroundImage: `url('/images/TransparentEthereumLogo.webp')`,\n        backgroundClassName: 'bg-eth-dark'\n      }\n    }\n\n    if (isArbitrumNova) {\n      return {\n        backgroundImage: `url('/images/ArbitrumNovaLogo.svg')`,\n        backgroundClassName: 'bg-arb-nova-dark'\n      }\n    }\n\n    return {\n      backgroundImage: `url('/images/ArbitrumOneLogo.svg')`,\n      backgroundClassName: 'bg-arb-one-dark'\n    }\n  }, [network])\n\n  const walletAddressLowercased = address?.toLowerCase()\n\n  const showCustomAddressBanner = useMemo(() => {\n    if (!customAddress || !walletAddressLowercased) {\n      return false\n    }\n    if (customAddress === walletAddressLowercased) {\n      return false\n    }\n    return utils.isAddress(customAddress)\n  }, [customAddress, walletAddressLowercased])\n\n  return (\n    <>\n      {showCustomAddressBanner && (\n        <CustomAddressBanner network={network} customAddress={customAddress} />\n      )}\n      <div\n        className={twMerge(\n          `relative rounded-xl p-1 transition-colors ${backgroundClassName}`,\n          showCustomAddressBanner ? 'rounded-t-none' : ''\n        )}\n      >\n        <div\n          className=\"absolute left-0 top-0 z-0 h-full w-full bg-contain bg-left bg-no-repeat bg-origin-content p-2 opacity-50\"\n          style={{ backgroundImage }}\n        ></div>\n        <div className=\"relative space-y-3.5 bg-contain bg-no-repeat p-3 sm:flex-row lg:p-2\">\n          {children}\n        </div>\n      </div>\n    </>\n  )\n}\n\nfunction StyledLoader() {\n  return <Loader color=\"white\" size=\"small\" />\n}\n\nfunction ETHBalance({\n  balance,\n  prefix = ''\n}: {\n  balance: BigNumber | null\n  prefix?: string\n}) {\n  if (!balance) {\n    return <StyledLoader />\n  }\n\n  return (\n    <p>\n      <span className=\"font-light\">{prefix}</span>\n      <span className=\"tabular-nums\">\n        {formatAmount(balance, { symbol: ether.symbol })}\n      </span>\n    </p>\n  )\n}\n\nfunction TokenBalance({\n  forToken,\n  balance,\n  on,\n  prefix = '',\n  tokenSymbolOverride\n}: {\n  forToken: ERC20BridgeToken | NativeCurrencyErc20 | null\n  balance: BigNumber | null\n  on: NetworkType\n  prefix?: string\n  tokenSymbolOverride?: string\n}) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const isParentChain = on === NetworkType.l1\n  const chain = isParentChain ? l1.network : l2.network\n\n  const isERC20BridgeToken = (\n    token: ERC20BridgeToken | NativeCurrencyErc20 | null\n  ): token is ERC20BridgeToken =>\n    token !== null && !token.hasOwnProperty('isCustom')\n\n  const symbol = useMemo(() => {\n    if (!forToken) {\n      return undefined\n    }\n\n    return (\n      tokenSymbolOverride ??\n      sanitizeTokenSymbol(forToken.symbol, {\n        erc20L1Address: forToken.address,\n        chain\n      })\n    )\n  }, [forToken, tokenSymbolOverride, chain])\n\n  if (!forToken) {\n    return null\n  }\n\n  if (!balance) {\n    return <StyledLoader />\n  }\n\n  return (\n    <p aria-label={`${symbol} balance on ${on}`}>\n      <span className=\"font-light\">{prefix}</span>\n      <span className=\"tabular-nums\">\n        {formatAmount(balance, {\n          decimals: forToken.decimals\n        })}\n      </span>{' '}\n      {/* we don't want to show explorer link for native currency (either ETH or custom token), or USDC because user can bridge USDC to USDC.e or native USDC, vice versa */}\n      {isERC20BridgeToken(forToken) && !isTokenUSDC(forToken.address) ? (\n        <ExternalLink\n          className=\"arb-hover underline\"\n          href={createBlockExplorerUrlForToken({\n            explorerLink: chain.blockExplorers\n              ? chain.blockExplorers.default.url\n              : undefined,\n            tokenAddress: isParentChain ? forToken.address : forToken.l2Address\n          })}\n        >\n          <span>{symbol}</span>\n        </ExternalLink>\n      ) : (\n        <span>{symbol}</span>\n      )}\n    </p>\n  )\n}\n\nfunction BalancesContainer({ children }: { children: React.ReactNode }) {\n  return (\n    <div className=\"ml-1 flex flex-col flex-nowrap items-end break-all text-sm font-extralight tracking-[.25px] text-white md:text-lg lg:font-medium\">\n      {children}\n    </div>\n  )\n}\n\nfunction NetworkListboxPlusBalancesContainer({\n  children\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <div className=\"flex flex-col items-start justify-between gap-1 gap-y-2.5 whitespace-nowrap sm:flex-row sm:items-center\">\n      {children}\n    </div>\n  )\n}\n\nexport function TransferPanelMain({\n  amount,\n  setAmount,\n  errorMessage\n}: {\n  amount: string\n  setAmount: (value: string) => void\n  errorMessage?: TransferReadinessRichErrorMessage | string\n}) {\n  const actions = useActions()\n\n  const { l1, l2 } = useNetworksAndSigners()\n  const { layer } = useChainLayers()\n  const isConnectedToArbitrum = useIsConnectedToArbitrum()\n  const isConnectedToOrbitChain = useIsConnectedToOrbitChain()\n  const { isArbitrumOne, isArbitrumGoerli } = isNetwork(l2.network.id)\n  const { isSmartContractWallet } = useAccountType()\n\n  const nativeCurrency = useNativeCurrency({ provider: l2.provider })\n\n  const { switchNetworkAsync } = useSwitchNetworkWithConfig({\n    isSwitchingNetworkBeforeTx: true\n  })\n\n  const l1GasPrice = useGasPrice({ provider: l1.provider })\n  const l2GasPrice = useGasPrice({ provider: l2.provider })\n\n  const { app } = useAppState()\n  const { address: walletAddress } = useAccount()\n  const { arbTokenBridge, isDepositMode, selectedToken } = app\n  const { token } = arbTokenBridge\n\n  const { destinationAddress, setDestinationAddress } =\n    useDestinationAddressStore()\n  const destinationAddressOrWalletAddress = destinationAddress || walletAddress\n\n  const l1WalletAddress = isDepositMode\n    ? walletAddress\n    : destinationAddressOrWalletAddress\n\n  const l2WalletAddress = isDepositMode\n    ? destinationAddressOrWalletAddress\n    : walletAddress\n\n  const {\n    eth: [ethL1Balance],\n    erc20: [erc20L1Balances, updateErc20L1Balances]\n  } = useBalance({\n    provider: l1.provider,\n    walletAddress: l1WalletAddress\n  })\n  const {\n    eth: [ethL2Balance],\n    erc20: [erc20L2Balances, updateErc20L2Balances]\n  } = useBalance({\n    provider: l2.provider,\n    walletAddress: l2WalletAddress\n  })\n  const { updateUSDCBalances } = useUpdateUSDCBalances({\n    walletAddress: destinationAddressOrWalletAddress\n  })\n\n  useEffect(() => {\n    if (nativeCurrency.isCustom) {\n      updateErc20L1Balances([nativeCurrency.address])\n    }\n  }, [nativeCurrency, updateErc20L1Balances])\n\n  useEffect(() => {\n    if (\n      !selectedToken ||\n      !destinationAddressOrWalletAddress ||\n      !utils.isAddress(destinationAddressOrWalletAddress)\n    ) {\n      return\n    }\n\n    if (\n      isTokenMainnetUSDC(selectedToken.address) ||\n      isTokenGoerliUSDC(selectedToken.address) ||\n      isTokenArbitrumOneNativeUSDC(selectedToken.address) ||\n      isTokenArbitrumGoerliNativeUSDC(selectedToken.address)\n    ) {\n      updateUSDCBalances(selectedToken.address)\n      return\n    }\n\n    updateErc20L1Balances([selectedToken.address])\n    if (selectedToken.l2Address) {\n      updateErc20L2Balances([selectedToken.l2Address])\n    }\n  }, [\n    selectedToken,\n    updateErc20L1Balances,\n    updateErc20L2Balances,\n    destinationAddressOrWalletAddress,\n    updateUSDCBalances\n  ])\n\n  const isSwitchingL2Chain = useIsSwitchingL2Chain()\n\n  type Balances = {\n    l1: BigNumber | null\n    l2: BigNumber | null\n  }\n\n  const customFeeTokenBalances: Balances = useMemo(() => {\n    if (!nativeCurrency.isCustom) {\n      return { l1: ethL1Balance, l2: ethL2Balance }\n    }\n\n    return {\n      l1: erc20L1Balances?.[nativeCurrency.address] ?? null,\n      l2: ethL2Balance\n    }\n  }, [nativeCurrency, ethL1Balance, ethL2Balance, erc20L1Balances])\n\n  const selectedTokenBalances: Balances = useMemo(() => {\n    const result: Balances = {\n      l1: null,\n      l2: null\n    }\n\n    if (!selectedToken) {\n      return result\n    }\n\n    if (erc20L1Balances) {\n      result.l1 = erc20L1Balances[selectedToken.address] ?? null\n    }\n\n    if (erc20L2Balances && selectedToken.l2Address) {\n      result.l2 = erc20L2Balances[selectedToken.l2Address] ?? null\n    }\n\n    if (\n      isTokenArbitrumOneNativeUSDC(selectedToken.address) &&\n      erc20L1Balances &&\n      erc20L2Balances\n    ) {\n      return {\n        l1: erc20L1Balances[CommonAddress.Ethereum.USDC] ?? null,\n        l2: erc20L2Balances[selectedToken.address] ?? null\n      }\n    }\n    if (\n      isTokenArbitrumGoerliNativeUSDC(selectedToken.address) &&\n      erc20L1Balances &&\n      erc20L2Balances\n    ) {\n      return {\n        l1: erc20L1Balances[CommonAddress.Goerli.USDC] ?? null,\n        l2: erc20L2Balances[selectedToken.address] ?? null\n      }\n    }\n\n    return result\n  }, [erc20L1Balances, erc20L2Balances, selectedToken])\n\n  const [externalFrom, externalTo] = useMemo(() => {\n    const isParentChainArbitrum = isNetwork(l1.network.id).isArbitrum\n\n    if (isParentChainArbitrum) {\n      return isConnectedToArbitrum\n        ? [l1.network, l2.network]\n        : [l2.network, l1.network]\n    }\n\n    // Parent chain is Ethereum.\n    return isConnectedToArbitrum\n      ? [l2.network, l1.network]\n      : [l1.network, l2.network]\n  }, [l1, l2, isConnectedToArbitrum])\n\n  const [from, setFrom] = useState<Chain>(externalFrom)\n  const [to, setTo] = useState<Chain>(externalTo)\n\n  const [loadingMaxAmount, setLoadingMaxAmount] = useState(false)\n  const [withdrawOnlyDialogProps, openWithdrawOnlyDialog] = useDialog()\n  const [oneNovaTransferDialogProps, openOneNovaTransferDialog] = useDialog()\n  const [\n    oneNovaTransferDestinationNetworkId,\n    setOneNovaTransferDestinationNetworkId\n  ] = useState<number | null>(null)\n  const isMaxAmount = amount === AmountQueryParamEnum.MAX\n\n  const showUSDCSpecificInfo =\n    (isTokenMainnetUSDC(selectedToken?.address) && isArbitrumOne) ||\n    (isTokenGoerliUSDC(selectedToken?.address) && isArbitrumGoerli)\n\n  const [, setQueryParams] = useArbQueryParams()\n\n  useEffect(() => {\n    setFrom(externalFrom)\n    setTo(externalTo)\n  }, [externalFrom, externalTo])\n\n  const estimateGas = useCallback(\n    async (\n      weiValue: BigNumber\n    ): Promise<\n      | GasEstimates & {\n          estimatedL2SubmissionCost: BigNumber\n        }\n    > => {\n      if (!walletAddress) {\n        return {\n          estimatedL1Gas: constants.Zero,\n          estimatedL2Gas: constants.Zero,\n          estimatedL2SubmissionCost: constants.Zero\n        }\n      }\n\n      if (isDepositMode) {\n        const result = await depositEthEstimateGas({\n          amount: weiValue,\n          address: walletAddress,\n          l1Provider: l1.provider,\n          l2Provider: l2.provider\n        })\n        return result\n      }\n\n      const result = await withdrawEthEstimateGas({\n        amount: weiValue,\n        address: walletAddress,\n        l2Provider: l2.provider\n      })\n\n      return { ...result, estimatedL2SubmissionCost: constants.Zero }\n    },\n    [walletAddress, isDepositMode, l2.provider, l1.provider]\n  )\n\n  const setMaxAmount = useCallback(async () => {\n    if (selectedToken) {\n      const tokenBalance = isDepositMode\n        ? selectedTokenBalances.l1\n        : selectedTokenBalances.l2\n\n      if (tokenBalance) {\n        // For token deposits and withdrawals, we can set the max amount, as gas fees are paid in ETH / custom fee token\n        setAmount(\n          utils.formatUnits(\n            tokenBalance,\n            selectedToken?.decimals ?? defaultErc20Decimals\n          )\n        )\n      }\n\n      return\n    }\n\n    const customFeeTokenL1Balance = customFeeTokenBalances.l1\n    // For custom fee token deposits, we can set the max amount, as the fees will be paid in ETH\n    if (nativeCurrency.isCustom && isDepositMode && customFeeTokenL1Balance) {\n      setAmount(\n        utils.formatUnits(customFeeTokenL1Balance, nativeCurrency.decimals)\n      )\n      return\n    }\n\n    // We have already handled token deposits and deposits of the custom fee token\n    // The remaining cases are ETH deposits, and ETH/custom fee token withdrawals (which can be handled in the same case)\n    const nativeCurrencyBalance = isDepositMode ? ethL1Balance : ethL2Balance\n\n    if (!nativeCurrencyBalance) {\n      return\n    }\n\n    try {\n      setLoadingMaxAmount(true)\n      const result = await estimateGas(nativeCurrencyBalance)\n\n      // for a withdrawal init tx, this is the batch posting fee needed for the tx\n      const estimatedL1GasFees = calculateEstimatedL1GasFees(\n        result.estimatedL1Gas,\n        // node interface returns l1 gas based on l2 gas price for withdrawals\n        // https://github.com/OffchainLabs/arbitrum-docs/blob/1bd3b9beb0858725d0faafa188cd13d32f642f9c/arbitrum-docs/devs-how-tos/how-to-estimate-gas.mdx#L125\n        isDepositMode ? l1GasPrice : l2GasPrice\n      )\n      const estimatedL2GasFees = calculateEstimatedL2GasFees(\n        result.estimatedL2Gas,\n        l2GasPrice,\n        result.estimatedL2SubmissionCost\n      )\n\n      const nativeCurrencyBalanceFloat = parseFloat(\n        utils.formatUnits(nativeCurrencyBalance, nativeCurrency.decimals)\n      )\n      const estimatedTotalGasFees = estimatedL1GasFees + estimatedL2GasFees\n      const maxAmount = nativeCurrencyBalanceFloat - estimatedTotalGasFees * 1.4\n      // make sure it's always a positive number\n      // if it's negative, set it to user's balance to show insufficient for gas error\n      setAmount(String(maxAmount > 0 ? maxAmount : nativeCurrencyBalanceFloat))\n    } catch (error) {\n      console.error(error)\n    } finally {\n      setLoadingMaxAmount(false)\n    }\n  }, [\n    nativeCurrency,\n    estimateGas,\n    ethL1Balance,\n    ethL2Balance,\n    isDepositMode,\n    l1GasPrice,\n    l2GasPrice,\n    selectedToken,\n    setAmount,\n    selectedTokenBalances,\n    customFeeTokenBalances\n  ])\n\n  // whenever the user changes the `amount` input, it should update the amount in browser query params as well\n  useEffect(() => {\n    setQueryParams({ amount })\n\n    if (isMaxAmount) {\n      setMaxAmount()\n    }\n  }, [amount, isMaxAmount, setMaxAmount, setQueryParams])\n\n  useEffect(() => {\n    // Different destination address only allowed for tokens\n    if (!selectedToken) {\n      setDestinationAddress(undefined)\n    }\n  }, [selectedToken, setDestinationAddress])\n\n  const maxButtonVisible = useMemo(() => {\n    const ethBalance = isDepositMode ? ethL1Balance : ethL2Balance\n    const tokenBalance = isDepositMode\n      ? selectedTokenBalances.l1\n      : selectedTokenBalances.l2\n\n    if (selectedToken) {\n      if (!tokenBalance) {\n        return false\n      }\n\n      return !tokenBalance.isZero()\n    }\n\n    if (!ethBalance) {\n      return false\n    }\n\n    return !ethBalance.isZero()\n  }, [\n    ethL1Balance,\n    ethL2Balance,\n    selectedTokenBalances,\n    selectedToken,\n    isDepositMode\n  ])\n\n  const errorMessageElement = useMemo(() => {\n    if (typeof errorMessage === 'undefined') {\n      return undefined\n    }\n\n    if (typeof errorMessage === 'string') {\n      return errorMessage\n    }\n\n    switch (errorMessage) {\n      case TransferReadinessRichErrorMessage.GAS_ESTIMATION_FAILURE:\n        return (\n          <span>\n            Gas estimation failed, join our{' '}\n            <ExternalLink\n              href=\"https://discord.com/invite/ZpZuw7p\"\n              className=\"underline\"\n            >\n              Discord\n            </ExternalLink>{' '}\n            and reach out in #support for assistance.\n          </span>\n        )\n\n      case TransferReadinessRichErrorMessage.TOKEN_WITHDRAW_ONLY:\n      case TransferReadinessRichErrorMessage.TOKEN_TRANSFER_DISABLED:\n        return (\n          <>\n            <span>This token can&apos;t be bridged over.</span>{' '}\n            <button\n              className=\"arb-hover underline\"\n              onClick={openWithdrawOnlyDialog}\n            >\n              Learn more.\n            </button>\n          </>\n        )\n    }\n  }, [errorMessage, openWithdrawOnlyDialog])\n\n  const switchNetworksOnTransferPanel = useCallback(() => {\n    const newFrom = to\n    const newTo = from\n\n    setFrom(newFrom)\n    setTo(newTo)\n\n    actions.app.setIsDepositMode(!app.isDepositMode)\n  }, [actions.app, app.isDepositMode, from, to])\n\n  useEffect(() => {\n    const isArbOneUSDC = isTokenArbitrumOneNativeUSDC(selectedToken?.address)\n    const isArbGoerliUSDC = isTokenArbitrumGoerliNativeUSDC(\n      selectedToken?.address\n    )\n    // If user select native USDC on L2, when switching to deposit mode,\n    // we need to default to set the corresponding USDC on L1\n    if (!isDepositMode) {\n      return\n    }\n\n    // When switching network, token might be undefined\n    if (!token) {\n      return\n    }\n\n    const commonUSDC = {\n      name: 'USD Coin',\n      type: TokenType.ERC20,\n      symbol: 'USDC',\n      decimals: 6,\n      listIds: new Set<number>()\n    }\n    if (isArbOneUSDC) {\n      token.updateTokenData(CommonAddress.Ethereum.USDC)\n      actions.app.setSelectedToken({\n        ...commonUSDC,\n        address: CommonAddress.Ethereum.USDC,\n        l2Address: CommonAddress.ArbitrumOne['USDC.e']\n      })\n    } else if (isArbGoerliUSDC) {\n      token.updateTokenData(CommonAddress.Goerli.USDC)\n      actions.app.setSelectedToken({\n        ...commonUSDC,\n        address: CommonAddress.Goerli.USDC,\n        l2Address: CommonAddress.ArbitrumGoerli['USDC.e']\n      })\n    }\n  }, [actions.app, isDepositMode, selectedToken, token])\n\n  type NetworkListboxesProps = {\n    from: Omit<NetworkListboxProps, 'label'>\n    to: Omit<NetworkListboxProps, 'label'>\n  }\n\n  const networkListboxProps: NetworkListboxesProps = useMemo(() => {\n    const options = getListboxOptionsFromL1Network(l1.network)\n\n    // used for switching to a specific network if L1 <> Orbit chain is selected in the UI\n    // we can have a more dynamic solution in the future with more Orbit chains\n    function mapChainToDefaultPartnerChain(chainId: ChainId) {\n      const customOrbitChain = getCustomChainFromLocalStorageById(chainId)\n\n      if (customOrbitChain) {\n        return customOrbitChain.partnerChainID\n      }\n\n      switch (chainId) {\n        case ChainId.Sepolia:\n        case ChainId.StylusTestnet:\n          return ChainId.ArbitrumSepolia\n        default:\n          return ChainId.ArbitrumGoerli\n      }\n    }\n\n    function updatePreferredL2Chain(l2ChainId: number) {\n      setQueryParams({ l2ChainId })\n    }\n\n    function modifyOptions(selectedChainId: ChainId, direction: 'from' | 'to') {\n      const isFromOrbitChain = isNetwork(from.id).isOrbitChain\n      const isToOrbitChain = isNetwork(to.id).isOrbitChain\n      const { isArbitrum: isSelectedArbitrumChain } = isNetwork(selectedChainId)\n\n      // Add L1 network to the list\n      return [l1.network, ...options].filter(option => {\n        const isSourceChainList = direction === 'from'\n        const isDestinationChainList = direction === 'to'\n        const isSameAsSourceChain = option.id === from.id\n        const isSameAsDestinationChain = option.id === to.id\n        const { isEthereumMainnetOrTestnet, isOrbitChain } = isNetwork(\n          option.id\n        )\n        // Remove the origin network from the destination list for contract wallets\n        // It's done so that the origin network is not changed\n        if (\n          isSmartContractWallet &&\n          isDestinationChainList &&\n          isSameAsSourceChain\n        ) {\n          return false\n        }\n\n        // If this is the Source network list options\n        // and the selected source is an Arbitrum Base chain\n        // we don't show Orbit chains except for the current Destination Orbit chain on the same dropdown\n        if (\n          isSelectedArbitrumChain &&\n          isSourceChainList &&\n          isOrbitChain &&\n          !isSameAsDestinationChain\n        ) {\n          return false\n        }\n\n        // If this is the Destination network list options\n        // and the selected destination is an Arbitrum chain\n        // we don't show Orbit chains except for the current Source Orbit chain on the same dropdown\n        if (\n          isSelectedArbitrumChain &&\n          isDestinationChainList &&\n          isOrbitChain &&\n          !isSameAsSourceChain\n        ) {\n          return false\n        }\n\n        // If the source chain is an Orbit Chain,\n        // and this is the Destination network list options\n        if (isFromOrbitChain && isDestinationChainList) {\n          // we do not show Ethereum Mainnet or Testnet as options\n          if (isEthereumMainnetOrTestnet) {\n            return false\n          }\n          // we do not show other Orbit chains as options\n          if (isOrbitChain && !isSameAsSourceChain) {\n            return false\n          }\n        }\n\n        // If the destination chain is an Orbit Chain,\n        // and this is the Source network list options\n        if (isToOrbitChain && isSourceChainList) {\n          // we do not show Ethereum Mainnet or Testnet as options\n          if (isEthereumMainnetOrTestnet) {\n            return false\n          }\n          // we do not show other Orbit chains as options\n          if (isOrbitChain && !isSameAsDestinationChain) {\n            return false\n          }\n        }\n\n        // Remove selected network from the list\n        return option.id !== selectedChainId\n      })\n    }\n\n    const fromOptions = modifyOptions(from.id, 'from')\n    const toOptions = modifyOptions(to.id, 'to')\n\n    function shouldOpenOneNovaDialog(selectedChainIds: number[]) {\n      return [ChainId.ArbitrumOne, ChainId.ArbitrumNova].every(chainId =>\n        selectedChainIds.includes(chainId)\n      )\n    }\n\n    if (isDepositMode) {\n      return {\n        from: {\n          disabled:\n            !fromOptions.length ||\n            isSmartContractWallet ||\n            typeof isSmartContractWallet === 'undefined',\n          options: fromOptions,\n          value: from,\n          onChange: async network => {\n            const { isEthereumMainnetOrTestnet } = isNetwork(network.id)\n\n            if (shouldOpenOneNovaDialog([network.id, to.id])) {\n              setOneNovaTransferDestinationNetworkId(to.id)\n              openOneNovaTransferDialog()\n              return\n            }\n\n            try {\n              await switchNetworkAsync?.(network.id)\n\n              const isOrbitChainSelected = isNetwork(l2.network.id).isOrbitChain\n              // Pair Ethereum with an Arbitrum chain if an Orbit chain is currently selected.\n              // Otherwise we want to keep the current chain, in case it's Nova.\n              if (isEthereumMainnetOrTestnet && isOrbitChainSelected) {\n                updatePreferredL2Chain(\n                  mapChainToDefaultPartnerChain(network.id)\n                )\n                return\n              }\n              updatePreferredL2Chain(network.id)\n            } catch (error: any) {\n              if (!isUserRejectedError(error)) {\n                Sentry.captureException(error)\n              }\n            }\n          }\n        },\n        to: {\n          disabled: !toOptions.length,\n          options: toOptions,\n          value: to,\n          onChange: async network => {\n            const { isEthereumMainnetOrTestnet, isOrbitChain } = isNetwork(\n              network.id\n            )\n            const defaultPartnerChain = mapChainToDefaultPartnerChain(\n              network.id\n            )\n\n            if (network.id === from.id) {\n              switchNetworksOnTransferPanel()\n              return\n            }\n\n            if (shouldOpenOneNovaDialog([network.id, from.id])) {\n              setOneNovaTransferDestinationNetworkId(network.id)\n              openOneNovaTransferDialog()\n              return\n            }\n\n            const isOrbitChainCurrentlySelected = isNetwork(\n              l2.network.id\n            ).isOrbitChain\n            // Pair Ethereum with an Arbitrum chain if an Orbit chain is currently selected.\n            // Otherwise we want to keep the current chain, in case it's Nova.\n            if (isEthereumMainnetOrTestnet && isOrbitChainCurrentlySelected) {\n              updatePreferredL2Chain(defaultPartnerChain)\n              return\n            }\n\n            // If Orbit chain is selected, we want to change network to Arbitrum One or Arbitrum Goerli.\n            if (isOrbitChain) {\n              try {\n                if (!isConnectedToArbitrum) {\n                  await switchNetworkAsync?.(defaultPartnerChain)\n                }\n              } catch (error: any) {\n                if (!isUserRejectedError(error)) {\n                  Sentry.captureException(error)\n                }\n                return\n              }\n            }\n\n            updatePreferredL2Chain(network.id)\n            setTo(network)\n          }\n        }\n      }\n    }\n\n    return {\n      from: {\n        disabled:\n          !fromOptions.length ||\n          isSmartContractWallet ||\n          typeof isSmartContractWallet === 'undefined',\n        options: fromOptions,\n        value: from,\n        onChange: async network => {\n          const { isEthereumMainnetOrTestnet } = isNetwork(network.id)\n\n          if (shouldOpenOneNovaDialog([network.id, to.id])) {\n            setOneNovaTransferDestinationNetworkId(to.id)\n            openOneNovaTransferDialog()\n            return\n          }\n\n          try {\n            // In withdraw mode we always switch to the L2 network.\n            await switchNetworkAsync?.(network.id)\n\n            const isOrbitChainSelected = isNetwork(l2.network.id).isOrbitChain\n            // Pair Ethereum with an Arbitrum chain if an Orbit chain is currently selected.\n            // Otherwise we want to keep the current chain, in case it's Nova.\n            if (isEthereumMainnetOrTestnet && isOrbitChainSelected) {\n              updatePreferredL2Chain(mapChainToDefaultPartnerChain(network.id))\n              return\n            }\n            updatePreferredL2Chain(network.id)\n          } catch (error: any) {\n            if (!isUserRejectedError(error)) {\n              Sentry.captureException(error)\n            }\n          }\n        }\n      },\n      to: {\n        disabled: !toOptions.length,\n        options: toOptions,\n        value: to,\n        onChange: async network => {\n          const { isEthereumMainnetOrTestnet, isOrbitChain } = isNetwork(\n            network.id\n          )\n          const defaultPartnerChain = mapChainToDefaultPartnerChain(network.id)\n\n          if (network.id === from.id) {\n            switchNetworksOnTransferPanel()\n            return\n          }\n\n          if (shouldOpenOneNovaDialog([network.id, from.id])) {\n            setOneNovaTransferDestinationNetworkId(network.id)\n            openOneNovaTransferDialog()\n            return\n          }\n\n          if (isEthereumMainnetOrTestnet) {\n            if (isConnectedToOrbitChain) {\n              try {\n                // If connected to an Orbit chain, we need to change network to Arbitrum.\n                // We can't withdraw from an Orbit chain to Ethereum.\n                await switchNetworkAsync?.(defaultPartnerChain)\n                updatePreferredL2Chain(defaultPartnerChain)\n                return\n              } catch (error: any) {\n                if (!isUserRejectedError(error)) {\n                  Sentry.captureException(error)\n                }\n                return\n              }\n            }\n            // Connected to Arbitrum.\n            updatePreferredL2Chain(defaultPartnerChain)\n          }\n\n          if (isOrbitChain) {\n            const isConnectedToEthereum =\n              !isConnectedToArbitrum && !isConnectedToOrbitChain\n\n            if (isConnectedToEthereum) {\n              // If connected to Ethereum, we need to change network to Arbitrum.\n              // We can't deposit from Ethereum to an Orbit chain.\n              await switchNetworkAsync?.(defaultPartnerChain)\n            }\n\n            const isOrbitChainCurrentlySelected = isNetwork(\n              l2.network.id\n            ).isOrbitChain\n            if (isOrbitChainCurrentlySelected) {\n              // long-term we will have to change to Orbit chain's parent network\n              // right now only Arbitrum Goerli is support so it's fine\n              await switchNetworkAsync?.(defaultPartnerChain)\n            }\n\n            updatePreferredL2Chain(network.id)\n          }\n\n          setTo(network)\n        }\n      }\n    }\n  }, [\n    l1.network,\n    l2.network,\n    from,\n    to,\n    isSmartContractWallet,\n    isDepositMode,\n    setQueryParams,\n    switchNetworkAsync,\n    switchNetworksOnTransferPanel,\n    openOneNovaTransferDialog,\n    isConnectedToArbitrum,\n    isConnectedToOrbitChain\n  ])\n\n  return (\n    <div className=\"flex flex-col px-6 py-6 lg:min-w-[540px] lg:px-0 lg:pl-6\">\n      <NetworkContainer network={from}>\n        <NetworkListboxPlusBalancesContainer>\n          <NetworkListbox label=\"From:\" {...networkListboxProps.from} />\n          <BalancesContainer>\n            {isSwitchingL2Chain ? (\n              <StyledLoader />\n            ) : (\n              <>\n                <TokenBalance\n                  on={app.isDepositMode ? NetworkType.l1 : NetworkType.l2}\n                  balance={\n                    app.isDepositMode\n                      ? selectedTokenBalances.l1\n                      : selectedTokenBalances.l2\n                  }\n                  forToken={selectedToken}\n                  prefix={selectedToken ? 'BALANCE: ' : ''}\n                />\n                {nativeCurrency.isCustom ? (\n                  <>\n                    <TokenBalance\n                      on={app.isDepositMode ? NetworkType.l1 : NetworkType.l2}\n                      balance={\n                        app.isDepositMode\n                          ? customFeeTokenBalances.l1\n                          : customFeeTokenBalances.l2\n                      }\n                      forToken={nativeCurrency}\n                      prefix={selectedToken ? '' : 'BALANCE: '}\n                    />\n                    {/* Only show ETH balance on L1 */}\n                    {app.isDepositMode && <ETHBalance balance={ethL1Balance} />}\n                  </>\n                ) : (\n                  <ETHBalance\n                    balance={app.isDepositMode ? ethL1Balance : ethL2Balance}\n                    prefix={selectedToken ? '' : 'BALANCE: '}\n                  />\n                )}\n              </>\n            )}\n          </BalancesContainer>\n        </NetworkListboxPlusBalancesContainer>\n\n        <div className=\"flex flex-col space-y-1 pb-2.5\">\n          <TransferPanelMainInput\n            maxButtonProps={{\n              visible: maxButtonVisible,\n              loading: isMaxAmount || loadingMaxAmount,\n              onClick: setMaxAmount\n            }}\n            errorMessage={errorMessageElement}\n            disabled={isSwitchingL2Chain}\n            value={isMaxAmount ? '' : amount}\n            onChange={e => {\n              setAmount(e.target.value)\n            }}\n          />\n\n          {showUSDCSpecificInfo && (\n            <p className=\"mt-1 text-xs font-light text-white\">\n              Bridged USDC (USDC.e) will work but is different from Native USDC.{' '}\n              <ExternalLink\n                href={USDC_LEARN_MORE_LINK}\n                className=\"arb-hover underline\"\n              >\n                Learn more\n              </ExternalLink>\n              .\n            </p>\n          )}\n\n          {isDepositMode && selectedToken && (\n            <p className=\"mt-1 text-xs font-light text-white\">\n              Make sure you have ETH in your {layer} wallet, you’ll need it to\n              power transactions.\n              <br />\n              <ExternalLink\n                href={ETH_BALANCE_ARTICLE_LINK}\n                className=\"arb-hover underline\"\n              >\n                Learn more\n              </ExternalLink>\n              .\n            </p>\n          )}\n        </div>\n      </NetworkContainer>\n\n      <div className=\"z-10 flex h-10 w-full items-center justify-center lg:h-12\">\n        <SwitchNetworksButton\n          onClick={switchNetworksOnTransferPanel}\n          aria-label=\"Switch Networks\" // useful for accessibility, and catching the element in automation\n        />\n      </div>\n\n      <NetworkContainer network={to} customAddress={destinationAddress}>\n        <NetworkListboxPlusBalancesContainer>\n          <NetworkListbox label=\"To:\" {...networkListboxProps.to} />\n          <BalancesContainer>\n            {isSwitchingL2Chain ? (\n              <StyledLoader />\n            ) : (\n              destinationAddressOrWalletAddress &&\n              utils.isAddress(destinationAddressOrWalletAddress) && (\n                <>\n                  <TokenBalance\n                    balance={\n                      app.isDepositMode\n                        ? selectedTokenBalances.l2\n                        : selectedTokenBalances.l1\n                    }\n                    on={app.isDepositMode ? NetworkType.l2 : NetworkType.l1}\n                    forToken={selectedToken}\n                    prefix={selectedToken ? 'BALANCE: ' : ''}\n                  />\n                  {/* In deposit mode, when user selected USDC on mainnet,\n                  the UI shows the Arb One balance of both USDC.e and native USDC */}\n                  {app.isDepositMode && showUSDCSpecificInfo && (\n                    <TokenBalance\n                      balance={\n                        (isArbitrumOne\n                          ? erc20L2Balances?.[CommonAddress.ArbitrumOne.USDC]\n                          : erc20L2Balances?.[\n                              CommonAddress.ArbitrumGoerli.USDC\n                            ]) ?? constants.Zero\n                      }\n                      on={NetworkType.l2}\n                      forToken={\n                        selectedToken\n                          ? { ...selectedToken, symbol: 'USDC' }\n                          : null\n                      }\n                      tokenSymbolOverride=\"USDC\"\n                    />\n                  )}\n                  {nativeCurrency.isCustom ? (\n                    <>\n                      <TokenBalance\n                        on={app.isDepositMode ? NetworkType.l2 : NetworkType.l1}\n                        balance={\n                          app.isDepositMode\n                            ? customFeeTokenBalances.l2\n                            : customFeeTokenBalances.l1\n                        }\n                        forToken={nativeCurrency}\n                        prefix={selectedToken ? '' : 'BALANCE: '}\n                      />\n                      {!app.isDepositMode && (\n                        <ETHBalance balance={ethL1Balance} />\n                      )}\n                    </>\n                  ) : (\n                    <ETHBalance\n                      balance={app.isDepositMode ? ethL2Balance : ethL1Balance}\n                      prefix={selectedToken ? '' : 'BALANCE: '}\n                    />\n                  )}\n                </>\n              )\n            )}\n          </BalancesContainer>\n        </NetworkListboxPlusBalancesContainer>\n      </NetworkContainer>\n\n      <AdvancedSettings />\n      <Dialog\n        closeable\n        title=\"Token not supported\"\n        cancelButtonProps={{ className: 'hidden' }}\n        actionButtonTitle=\"Close\"\n        {...withdrawOnlyDialogProps}\n        className=\"md:max-w-[628px]\"\n      >\n        <p>\n          The Arbitrum bridge does not currently support {selectedToken?.symbol}\n          , please ask the {selectedToken?.symbol} team for more info.\n        </p>\n      </Dialog>\n      <OneNovaTransferDialog\n        {...oneNovaTransferDialogProps}\n        onClose={() => setOneNovaTransferDestinationNetworkId(null)}\n        destinationChainId={oneNovaTransferDestinationNetworkId}\n        amount={amount}\n      />\n    </div>\n  )\n}\n","import { ChainId } from '../util/networks'\n\nexport type RequireL2ApproveToken = {\n  symbol: string\n  l1Address: string\n  l2Address: string\n}\n\nconst L2ApproveTokens: { [chainId: number]: RequireL2ApproveToken[] } = {\n  [ChainId.ArbitrumOne]: [\n    {\n      symbol: 'LPT',\n      l1Address: '0x58b6A8A3302369DAEc383334672404Ee733aB239',\n      l2Address: '0x289ba1701C2F088cf0faf8B3705246331cB8A839'\n    },\n    {\n      symbol: 'GRT',\n      l1Address: '0xc944e90c64b2c07662a292be6244bdf05cda44a7',\n      l2Address: '0x9623063377AD1B27544C965cCd7342f7EA7e88C7'\n    },\n    {\n      symbol: 'ARB',\n      l1Address: '0xB50721BCf8d664c30412Cfbc6cf7a15145234ad1',\n      l2Address: '0x912CE59144191C1204E64559FE8253a0e49E6548'\n    }\n  ],\n  [ChainId.ArbitrumNova]: [\n    {\n      symbol: 'ARB',\n      l1Address: '0xB50721BCf8d664c30412Cfbc6cf7a15145234ad1',\n      l2Address: '0xf823C3cD3CeBE0a1fA952ba88Dc9EEf8e0Bf46AD'\n    }\n  ],\n  [ChainId.ArbitrumGoerli]: [\n    {\n      symbol: 'GRT',\n      l1Address: '0x5c946740441C12510a167B447B7dE565C20b9E3C',\n      l2Address: '0x18C924BD5E8b83b47EFaDD632b7178E2Fd36073D'\n    },\n    {\n      symbol: 'ARB',\n      l1Address: '0xECCc8dE9b0a0F1074D8dc6E1092964A3Bc400a41',\n      l2Address: '0xF861378B543525ae0C47d33C90C954Dc774Ac1F9'\n    }\n  ]\n}\n\nexport function tokenRequiresApprovalOnL2(\n  erc20L1Address: string,\n  l2ChainId: number\n) {\n  return (L2ApproveTokens[l2ChainId] ?? [])\n    .map(token => token.l1Address.toLowerCase())\n    .includes(erc20L1Address.toLowerCase())\n}\n","import { ExternalLink } from '../../common/ExternalLink'\nimport { Checkbox } from '../../common/Checkbox'\nimport { useEffect, useState } from 'react'\nimport { isNetwork } from '../../../util/networks'\nimport { useChainId } from 'wagmi'\n\nexport function USDCDepositConfirmationDialogCheckbox({\n  onChange,\n  onAllCheckboxesCheched,\n  isBridgingNativeUSDC\n}: {\n  onChange: (checked: boolean) => void\n  onAllCheckboxesCheched?: () => void\n  isBridgingNativeUSDC?: true\n}) {\n  const [checkboxesChecked, setCheckboxesChecked] = useState([\n    false,\n    false,\n    false\n  ])\n  const externalLinkClassnames = 'arb-hover text-blue-link underline'\n  const chainId = useChainId()\n  const { isTestnet } = isNetwork(chainId)\n\n  function linksOnClickHandler(event: React.MouseEvent<HTMLAnchorElement>) {\n    event.stopPropagation()\n    event.nativeEvent.stopImmediatePropagation()\n  }\n\n  useEffect(() => {\n    if (checkboxesChecked.every(checked => checked)) {\n      onAllCheckboxesCheched?.()\n    }\n  }, [checkboxesChecked, onAllCheckboxesCheched])\n\n  return (\n    <>\n      {isBridgingNativeUSDC && (\n        <>\n          <Checkbox\n            label={\n              <span className=\"select-none font-light\">\n                I understand that I&apos;ll have to send{' '}\n                <span className=\"font-medium\">a second transaction on L2</span>{' '}\n                and pay another L2 fee to claim my USDC.\n              </span>\n            }\n            checked={checkboxesChecked[0] ?? false}\n            onChange={checked => {\n              onChange(checked)\n              setCheckboxesChecked(prevCheckboxesState => {\n                const newState = [...prevCheckboxesState]\n                newState[0] = checked\n                return newState\n              })\n            }}\n          />\n          <Checkbox\n            label={\n              <span className=\"select-none font-light\">\n                I understand that it will take{' '}\n                <span className=\"font-medium\">\n                  {isTestnet ? '~1 minute' : '~15 minutes'}\n                </span>{' '}\n                before I can claim my USDC on{' '}\n                {isTestnet ? 'Arbitrum Goerli' : 'Arbitrum One'}.\n              </span>\n            }\n            checked={checkboxesChecked[1] ?? false}\n            onChange={checked => {\n              onChange(checked)\n              setCheckboxesChecked(prevCheckboxesState => {\n                const newState = [...prevCheckboxesState]\n                newState[1] = checked\n                return newState\n              })\n            }}\n          />\n        </>\n      )}\n      <Checkbox\n        label={\n          <span className=\"select-none font-light\">\n            I understand <span className=\"font-medium\">USDC.e</span> is\n            different from <span className=\"font-medium\">USDC</span>.{' '}\n            <ExternalLink\n              className={externalLinkClassnames}\n              href=\"https://arbitrumfoundation.medium.com/usdc-to-come-natively-to-arbitrum-f751a30e3d83\"\n              onClick={linksOnClickHandler}\n            >\n              Learn more\n            </ExternalLink>\n            .\n          </span>\n        }\n        checked={checkboxesChecked[2] ?? false}\n        onChange={checked => {\n          onChange(checked)\n          setCheckboxesChecked(prevCheckboxesState => {\n            const newState = [...prevCheckboxesState]\n            newState[2] = checked\n            return newState\n          })\n        }}\n      />\n    </>\n  )\n}\n","import useSWRImmutable from 'swr/immutable'\nimport { ChainId } from '../../util/networks'\nimport { useCCTP } from './useCCTP'\n\nexport function useCCTPIsBlocked() {\n  const { fetchAttestation } = useCCTP({ sourceChainId: ChainId.Ethereum })\n\n  return useSWRImmutable(['cctp-check'], async () => {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#checking_that_the_fetch_was_successful\n    // Circle API returns 403 with Cors error for unauthorized users which throws instantly.\n    // All successful calls are assumed to be authorized users\n    try {\n      await fetchAttestation('0x')\n      return false\n    } catch (_) {\n      return true\n    }\n  })\n}\n","import { PropsWithChildren } from 'react'\nimport { CCTP_DOCUMENTATION } from '../../constants'\nimport { useCCTPIsBlocked } from '../../hooks/CCTP/useCCTPIsBlocked'\nimport { ExternalLink } from '../common/ExternalLink'\n\nexport const CctpTabContent = ({\n  toNetworkName,\n  children\n}: PropsWithChildren<{\n  toNetworkName: string\n}>) => {\n  const { data: isCctpBlocked, isLoading: isLoadingIsCctpBlocked } =\n    useCCTPIsBlocked()\n\n  if (isLoadingIsCctpBlocked || isCctpBlocked) {\n    return (\n      <p className=\"font-light\">\n        Access to Circle&apos;s bridge is restricted in certain jurisdictions.\n        For more details, please consult Circle&apos;s{' '}\n        <ExternalLink\n          className=\"arb-hover text-blue-link underline\"\n          href={CCTP_DOCUMENTATION}\n        >\n          documentation.\n        </ExternalLink>{' '}\n      </p>\n    )\n  }\n\n  return (\n    <>\n      <p className=\"font-light\">\n        Receive Native USDC on {toNetworkName} with Circle&apos;s{' '}\n        <ExternalLink\n          className=\"arb-hover text-blue-link underline\"\n          href={CCTP_DOCUMENTATION}\n        >\n          Cross-Chain Transfer Protocol\n        </ExternalLink>{' '}\n        within the Arbitrum Bridge.\n      </p>\n      {children}\n    </>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Tab, Dialog as HeadlessUIDialog } from '@headlessui/react'\nimport { XMarkIcon } from '@heroicons/react/24/outline'\n\nimport { Dialog, UseDialogProps } from '../../common/Dialog'\nimport { Button } from '../../common/Button'\nimport { ExternalLink } from '../../common/ExternalLink'\nimport {\n  SpecialTokenSymbol,\n  USDCFastBridges,\n  FastBridgeInfo\n} from '../../../util/fastBridges'\nimport { TabButton } from '../../common/Tab'\nimport { BridgesTable } from '../../common/BridgesTable'\nimport { useAppState } from '../../../state'\nimport { useNetworksAndSigners } from '../../../hooks/useNetworksAndSigners'\nimport { getNetworkName, isNetwork } from '../../../util/networks'\nimport { trackEvent } from '../../../util/AnalyticsUtils'\nimport { CommonAddress } from '../../../util/CommonAddressUtils'\nimport { USDCDepositConfirmationDialogCheckbox } from './USDCDepositConfirmationDialogCheckbox'\nimport { isTokenGoerliUSDC, isTokenMainnetUSDC } from '../../../util/TokenUtils'\nimport { CctpTabContent } from '../CctpTabContent'\nimport { CCTP_DOCUMENTATION } from '../../../constants'\n\ntype Props = UseDialogProps & {\n  amount: string\n}\nexport function USDCDepositConfirmationDialog(props: Props) {\n  const {\n    app: { selectedToken }\n  } = useAppState()\n  const { l1, l2 } = useNetworksAndSigners()\n  const networkName = getNetworkName(l2.network.id)\n  const { isArbitrumGoerli } = isNetwork(l2.network.id)\n  const [allCheckboxesCheched, setAllCheckboxesChecked] = useState(false)\n\n  const from = l1.network\n  const to = l2.network\n  const toNetworkName = getNetworkName(to.id)\n\n  useEffect(() => {\n    setAllCheckboxesChecked(false)\n  }, [props.isOpen])\n\n  if (!selectedToken) {\n    return null\n  }\n\n  if (\n    !isTokenMainnetUSDC(selectedToken.address) &&\n    !isTokenGoerliUSDC(selectedToken.address)\n  ) {\n    return null\n  }\n\n  const tokenSymbol = SpecialTokenSymbol.USDC\n\n  const fastBridges: FastBridgeInfo[] = USDCFastBridges.map(USDCFastBridge => ({\n    name: USDCFastBridge.name,\n    imageSrc: USDCFastBridge.imageSrc,\n    href: USDCFastBridge.getHref({\n      from: from.id,\n      to: to.id,\n      fromTokenAddress: isArbitrumGoerli\n        ? CommonAddress.Goerli.USDC\n        : CommonAddress.Ethereum.USDC,\n      toTokenAddress: isArbitrumGoerli\n        ? CommonAddress.ArbitrumGoerli.USDC\n        : CommonAddress.ArbitrumOne.USDC,\n      amount: props.amount,\n      transferMode: 'deposit'\n    })\n  }))\n\n  return (\n    <Dialog {...props} isCustom>\n      <div className=\"flex max-h-screen w-full flex-col md:w-[750px] lg:w-[925px]\">\n        <Tab.Group\n          onChange={() => {\n            setAllCheckboxesChecked(false)\n          }}\n        >\n          <div className=\"flex flex-row items-center justify-between bg-ocl-blue px-8 py-4\">\n            <HeadlessUIDialog.Title className=\"text-2xl font-medium text-white\">\n              Move funds to {networkName}\n            </HeadlessUIDialog.Title>\n            <button\n              className=\"arb-hover\"\n              onClick={() => {\n                props.onClose(false)\n              }}\n            >\n              <XMarkIcon className=\"h-6 w-6 text-white\" />\n            </button>\n          </div>\n          <Tab.List className=\"flex bg-ocl-blue\">\n            <TabButton aria-label=\"Arbitrum's bridge (USDC.e)\">\n              Arbitrum&apos;s bridge (USDC.e)\n            </TabButton>\n            <TabButton aria-label=\"Third party (USDC)\">\n              Third party (USDC)\n            </TabButton>\n            <TabButton aria-label=\"Circle (USDC)\">Circle (USDC)</TabButton>\n          </Tab.List>\n\n          <Tab.Panel className=\"flex flex-col space-y-3 px-8 py-4\">\n            <div className=\"flex flex-col space-y-6\">\n              <p className=\"font-light\">\n                Receive{' '}\n                <span className=\"font-medium\">Bridged USDC (USDC.e)</span> on{' '}\n                {toNetworkName} using Arbitrum&apos;s native bridge.\n              </p>\n\n              <div className=\"flex flex-col space-y-3\">\n                <USDCDepositConfirmationDialogCheckbox\n                  onChange={checked => {\n                    setAllCheckboxesChecked(checked)\n                  }}\n                />\n              </div>\n            </div>\n\n            <div className=\"mt-2 flex flex-row justify-end space-x-2\">\n              <Button variant=\"secondary\" onClick={() => props.onClose(false)}>\n                Cancel\n              </Button>\n              <Button\n                variant=\"primary\"\n                disabled={!allCheckboxesCheched}\n                onClick={() => {\n                  props.onClose(true, 'bridged')\n                  setAllCheckboxesChecked(false)\n                  trackEvent('Use Arbitrum Bridge Click', {\n                    tokenSymbol\n                  })\n                }}\n              >\n                Confirm\n              </Button>\n            </div>\n          </Tab.Panel>\n\n          <Tab.Panel className=\"flex flex-col space-y-3 px-8 py-4\">\n            <div className=\"flex flex-col space-y-3\">\n              <p className=\"font-light\">\n                Receive <span className=\"font-medium\">Native USDC</span> on\n                Arbitrum One using a third-party bridge with Circle&apos;s{' '}\n                <ExternalLink\n                  className=\"arb-hover text-blue-link underline\"\n                  href={CCTP_DOCUMENTATION}\n                >\n                  Cross-Chain Transfer Protocol\n                </ExternalLink>{' '}\n                integrated.\n              </p>\n            </div>\n\n            <BridgesTable\n              bridgeList={fastBridges}\n              selectedNonCanonicalToken={tokenSymbol}\n            />\n            <div className=\"mt-2 flex flex-row justify-end space-x-2\">\n              <Button variant=\"secondary\" onClick={() => props.onClose(false)}>\n                Cancel\n              </Button>\n            </div>\n          </Tab.Panel>\n\n          <Tab.Panel className=\"flex flex-col space-y-3 px-8 py-4\">\n            <div className=\"flex flex-col space-y-6\">\n              <CctpTabContent toNetworkName={toNetworkName}>\n                <div className=\"flex flex-col space-y-3\">\n                  <USDCDepositConfirmationDialogCheckbox\n                    onAllCheckboxesCheched={() => {\n                      setAllCheckboxesChecked(true)\n                    }}\n                    onChange={checked => {\n                      if (!checked) {\n                        setAllCheckboxesChecked(false)\n                      }\n                    }}\n                    isBridgingNativeUSDC\n                  />\n                </div>\n              </CctpTabContent>\n            </div>\n            <div className=\"mt-2 flex flex-row justify-end space-x-2\">\n              <Button variant=\"secondary\" onClick={() => props.onClose(false)}>\n                Cancel\n              </Button>\n              <Button\n                variant=\"primary\"\n                disabled={!allCheckboxesCheched}\n                onClick={() => {\n                  props.onClose(true, 'cctp')\n                  setAllCheckboxesChecked(false)\n                  trackEvent('Use Arbitrum Bridge Click', {\n                    tokenSymbol\n                  })\n                }}\n              >\n                Confirm\n              </Button>\n            </div>\n          </Tab.Panel>\n        </Tab.Group>\n      </div>\n    </Dialog>\n  )\n}\n","import { useChainId } from 'wagmi'\nimport { Checkbox } from '../../common/Checkbox'\nimport { useEffect, useState } from 'react'\nimport { isNetwork } from '../../../util/networks'\nimport { useChainLayers } from '../../../hooks/useChainLayers'\n\nexport function USDCWithdrawalConfirmationDialogCheckbox({\n  onChange,\n  onAllCheckboxesCheched\n}: {\n  onChange: (checked: boolean) => void\n  onAllCheckboxesCheched?: () => void\n}) {\n  const [checkboxesChecked, setCheckboxesChecked] = useState([false, false])\n  const chainId = useChainId()\n  const { parentLayer } = useChainLayers()\n  const { isTestnet } = isNetwork(chainId)\n\n  useEffect(() => {\n    if (checkboxesChecked.every(checked => checked)) {\n      onAllCheckboxesCheched?.()\n    }\n  }, [checkboxesChecked, onAllCheckboxesCheched])\n\n  return (\n    <>\n      <Checkbox\n        label={\n          <span className=\"select-none font-light\">\n            I understand that I&apos;ll have to send{' '}\n            <span className=\"font-medium\">\n              a second transaction on {parentLayer}\n            </span>{' '}\n            and pay another {parentLayer} fee to claim my USDC.\n          </span>\n        }\n        checked={checkboxesChecked[0] ?? false}\n        onChange={checked => {\n          onChange(checked)\n          setCheckboxesChecked(prevCheckboxesState => {\n            const newState = [...prevCheckboxesState]\n            newState[0] = checked\n            return newState\n          })\n        }}\n      />\n      <Checkbox\n        label={\n          <span className=\"select-none font-light\">\n            I understand that it will take{' '}\n            <span className=\"font-medium\">\n              {isTestnet ? '~1 minute' : '~15 minutes'}\n            </span>{' '}\n            before I can claim my USDC on {isTestnet ? 'Goerli' : 'Ethereum'}.\n          </span>\n        }\n        checked={checkboxesChecked[1] ?? false}\n        onChange={checked => {\n          onChange(checked)\n          setCheckboxesChecked(prevCheckboxesState => {\n            const newState = [...prevCheckboxesState]\n            newState[1] = checked\n            return newState\n          })\n        }}\n      />\n    </>\n  )\n}\n","import { useEffect, useState } from 'react'\n\nimport { Tab, Dialog as HeadlessUIDialog } from '@headlessui/react'\nimport { XMarkIcon } from '@heroicons/react/24/outline'\n\nimport { Dialog, UseDialogProps } from '../../common/Dialog'\nimport { Button } from '../../common/Button'\nimport { ExternalLink } from '../../common/ExternalLink'\nimport {\n  SpecialTokenSymbol,\n  USDCFastBridges,\n  FastBridgeInfo\n} from '../../../util/fastBridges'\nimport { TabButton } from '../../common/Tab'\nimport { BridgesTable } from '../../common/BridgesTable'\nimport { useNetworksAndSigners } from '../../../hooks/useNetworksAndSigners'\nimport { getNetworkName, isNetwork } from '../../../util/networks'\nimport { CommonAddress } from '../../../util/CommonAddressUtils'\nimport { USDCWithdrawalConfirmationDialogCheckbox } from './USDCWithdrawalConfirmationDialogCheckbox'\nimport { CctpTabContent } from '../CctpTabContent'\nimport { CCTP_DOCUMENTATION } from '../../../constants'\n\nexport function USDCWithdrawalConfirmationDialog(\n  props: UseDialogProps & { amount: string }\n) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const [allCheckboxesCheched, setAllCheckboxesChecked] = useState(false)\n  const { isArbitrumGoerli } = isNetwork(l2.network.id)\n\n  const from = l2.network\n  const to = l1.network\n  const toNetworkName = getNetworkName(to.id)\n  const tokenSymbol = SpecialTokenSymbol.USDC\n\n  useEffect(() => {\n    setAllCheckboxesChecked(false)\n  }, [props.isOpen])\n\n  const fastBridges: FastBridgeInfo[] = USDCFastBridges.map(USDCFastBridge => ({\n    name: USDCFastBridge.name,\n    imageSrc: USDCFastBridge.imageSrc,\n    href: USDCFastBridge.getHref({\n      from: from.id,\n      to: to.id,\n      fromTokenAddress: isArbitrumGoerli\n        ? CommonAddress.ArbitrumGoerli.USDC\n        : CommonAddress.ArbitrumOne.USDC,\n      toTokenAddress: isArbitrumGoerli\n        ? CommonAddress.Goerli.USDC\n        : CommonAddress.Ethereum.USDC,\n      amount: props.amount,\n      transferMode: 'withdraw'\n    })\n  }))\n\n  return (\n    <Dialog {...props} isCustom>\n      <div className=\"flex max-h-screen w-full flex-col md:w-[750px] lg:w-[925px]\">\n        <Tab.Group>\n          <div className=\"flex flex-row items-center justify-between bg-ocl-blue px-8 py-4\">\n            <HeadlessUIDialog.Title className=\"text-2xl font-medium text-white\">\n              Move funds to {toNetworkName}\n            </HeadlessUIDialog.Title>\n            <button\n              className=\"arb-hover\"\n              onClick={() => {\n                props.onClose(false)\n              }}\n            >\n              <XMarkIcon className=\"h-6 w-6 text-white\" />\n            </button>\n          </div>\n\n          <Tab.List className=\"flex bg-ocl-blue\">\n            <TabButton aria-label=\"Third party (USDC)\">\n              Third party (USDC)\n            </TabButton>\n            <TabButton aria-label=\"Circle (USDC)\">Circle (USDC)</TabButton>\n          </Tab.List>\n\n          <Tab.Panel className=\"flex flex-col space-y-3 px-8 py-4\">\n            <div className=\"flex flex-col space-y-3 font-light\">\n              <p>\n                Receive <span className=\"font-medium\">USDC</span> on{' '}\n                {toNetworkName} using a third-party bridge with Circle&apos;s{' '}\n                <ExternalLink\n                  className=\"arb-hover text-blue-link underline\"\n                  href={CCTP_DOCUMENTATION}\n                >\n                  Cross-Chain Transfer Protocol\n                </ExternalLink>{' '}\n                integrated.\n              </p>\n            </div>\n\n            <BridgesTable\n              bridgeList={fastBridges}\n              selectedNonCanonicalToken={tokenSymbol}\n            />\n            <div className=\"mt-2 flex flex-row justify-end space-x-2\">\n              <Button variant=\"secondary\" onClick={() => props.onClose(false)}>\n                Cancel\n              </Button>\n            </div>\n          </Tab.Panel>\n\n          <Tab.Panel className=\"flex flex-col space-y-3 px-8 py-4\">\n            <div className=\"flex flex-col space-y-6\">\n              <CctpTabContent toNetworkName={toNetworkName}>\n                <div className=\"flex flex-col space-y-3\">\n                  <USDCWithdrawalConfirmationDialogCheckbox\n                    onAllCheckboxesCheched={() => {\n                      setAllCheckboxesChecked(true)\n                    }}\n                    onChange={checked => {\n                      if (!checked) {\n                        setAllCheckboxesChecked(false)\n                      }\n                    }}\n                  />\n                </div>\n              </CctpTabContent>\n            </div>\n            <div className=\"mt-2 flex flex-row justify-end space-x-2\">\n              <Button variant=\"secondary\" onClick={() => props.onClose(false)}>\n                Cancel\n              </Button>\n              <Button\n                variant=\"primary\"\n                disabled={!allCheckboxesCheched}\n                onClick={() => {\n                  props.onClose(true)\n                  setAllCheckboxesChecked(false)\n                }}\n              >\n                Confirm\n              </Button>\n            </div>\n          </Tab.Panel>\n        </Tab.Group>\n      </div>\n    </Dialog>\n  )\n}\n","import { Signer } from 'ethers'\nimport { Provider } from '@ethersproject/providers'\nimport { EthBridger, Erc20Bridger } from '@arbitrum/sdk'\n\nexport async function approveCustomFeeTokenEstimateGas(params: {\n  erc20L1Address?: string\n  l1Signer: Signer\n  l1Provider: Provider\n  l2Provider: Provider\n}) {\n  const { erc20L1Address } = params\n\n  if (typeof erc20L1Address !== 'undefined') {\n    return approveCustomFeeTokenForGatewayEstimateGas({\n      ...params,\n      erc20L1Address\n    })\n  }\n\n  return approveCustomFeeTokenForInboxEstimateGas(params)\n}\n\nexport async function approveCustomFeeTokenForInboxEstimateGas(params: {\n  l1Signer: Signer\n  l2Provider: Provider\n}) {\n  const { l1Signer, l2Provider } = params\n  const ethBridger = await EthBridger.fromProvider(l2Provider)\n\n  const txRequest = ethBridger.getApproveFeeTokenRequest()\n\n  return l1Signer.estimateGas(txRequest)\n}\n\nexport async function approveCustomFeeTokenForGatewayEstimateGas(params: {\n  erc20L1Address: string\n  l1Signer: Signer\n  l1Provider: Provider\n  l2Provider: Provider\n}) {\n  const { erc20L1Address, l1Signer, l1Provider, l2Provider } = params\n  const erc20Bridger = await Erc20Bridger.fromProvider(l2Provider)\n\n  const txRequest = await erc20Bridger.getApproveFeeTokenRequest({\n    erc20L1Address,\n    l1Provider\n  })\n\n  return l1Signer.estimateGas(txRequest)\n}\n","import { useEffect, useMemo, useState } from 'react'\nimport { useSigner } from 'wagmi'\nimport { InformationCircleIcon } from '@heroicons/react/24/outline'\nimport { BigNumber, constants, utils } from 'ethers'\nimport { Dialog, UseDialogProps } from '../common/Dialog'\nimport { Checkbox } from '../common/Checkbox'\nimport { SafeImage } from '../common/SafeImage'\nimport { ExternalLink } from '../common/ExternalLink'\nimport { useETHPrice } from '../../hooks/useETHPrice'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { formatAmount, formatUSD } from '../../util/NumberUtils'\nimport { getExplorerUrl, isNetwork } from '../../util/networks'\nimport { useGasPrice } from '../../hooks/useGasPrice'\nimport { approveCustomFeeTokenEstimateGas } from './CustomFeeTokenUtils'\nimport { NativeCurrencyErc20 } from '../../hooks/useNativeCurrency'\nimport { useAppState } from '../../state'\n\nexport type CustomFeeTokenApprovalDialogProps = UseDialogProps & {\n  customFeeToken: NativeCurrencyErc20\n}\n\nexport function CustomFeeTokenApprovalDialog(\n  props: CustomFeeTokenApprovalDialogProps\n) {\n  const { customFeeToken, isOpen } = props\n\n  const { ethToUSD } = useETHPrice()\n  const { app } = useAppState()\n  const { selectedToken } = app\n\n  const { l1, l2 } = useNetworksAndSigners()\n  const { isEthereumMainnet } = isNetwork(l1.network.id)\n\n  const { data: l1Signer } = useSigner({ chainId: l1.network.id })\n  const l1GasPrice = useGasPrice({ provider: l1.provider })\n\n  const [checked, setChecked] = useState(false)\n  const [estimatedGas, setEstimatedGas] = useState<BigNumber>(constants.Zero)\n\n  // Estimated gas fees, denominated in Ether, represented as a floating point number\n  const estimatedGasFees = useMemo(\n    () => parseFloat(utils.formatEther(estimatedGas.mul(l1GasPrice))),\n    [estimatedGas, l1GasPrice]\n  )\n\n  const approvalFeeText = useMemo(() => {\n    const eth = formatAmount(estimatedGasFees, { symbol: 'ETH' })\n    const usd = formatUSD(ethToUSD(estimatedGasFees))\n    return `${eth}${isEthereumMainnet ? ` (${usd})` : ''}`\n  }, [estimatedGasFees, ethToUSD, isEthereumMainnet])\n\n  useEffect(() => {\n    if (!isOpen) {\n      return\n    }\n\n    async function getEstimatedGas() {\n      if (l1Signer) {\n        setEstimatedGas(\n          await approveCustomFeeTokenEstimateGas({\n            erc20L1Address: selectedToken?.address,\n            l1Signer,\n            l1Provider: l1.provider,\n            l2Provider: l2.provider\n          })\n        )\n      }\n    }\n\n    getEstimatedGas()\n  }, [isOpen, selectedToken, l1Signer, l1.provider, l2.provider])\n\n  function closeWithReset(confirmed: boolean) {\n    props.onClose(confirmed)\n\n    setChecked(false)\n  }\n\n  if (!customFeeToken) {\n    return null\n  }\n\n  return (\n    <Dialog\n      {...props}\n      onClose={closeWithReset}\n      title=\"Acknowledge approval fees\"\n      actionButtonTitle={`Pay approval fee of ${approvalFeeText}`}\n      actionButtonProps={{ disabled: !checked }}\n    >\n      <div className=\"flex flex-col space-y-6 md:max-w-[490px]\">\n        <div className=\"flex flex-row items-center space-x-4\">\n          <SafeImage\n            src={customFeeToken.logoUrl}\n            alt={`${customFeeToken.name} logo`}\n            className=\"h-8 w-8 grow-0 rounded-full\"\n            fallback={\n              <div className=\"flex h-12 w-12 items-center justify-center rounded-full bg-ocl-blue text-sm font-medium text-white\">\n                ?\n              </div>\n            }\n          />\n          <div className=\"flex flex-col\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-base font-medium text-gray-900\">\n                {customFeeToken.symbol}\n              </span>\n              <span className=\"text-xs text-gray-500\">\n                {customFeeToken.name}\n              </span>\n            </div>\n            <ExternalLink\n              href={`${getExplorerUrl(l1.network.id)}/token/${\n                customFeeToken.address\n              }`}\n              className=\"text-xs text-blue-link underline\"\n            >\n              {customFeeToken.address}\n            </ExternalLink>\n          </div>\n        </div>\n\n        <span className=\"font-light\">\n          The network you are trying to deposit to uses{' '}\n          <span className=\"font-medium\">\n            {customFeeToken.name} ({customFeeToken.symbol})\n          </span>{' '}\n          as the fee token. Before continuing with your deposit, you must first\n          allow the bridge contract to access your{' '}\n          <span className=\"font-medium\">{customFeeToken.symbol}</span>.\n        </span>\n\n        <Checkbox\n          label={\n            <span className=\"font-light\">\n              I understand that I have to pay a one-time{' '}\n              <span className=\"font-medium\">\n                approval fee of {approvalFeeText}*\n              </span>{' '}\n              for this.\n            </span>\n          }\n          checked={checked}\n          onChange={setChecked}\n        />\n\n        <div className=\"flex flex-col md:max-w-[490px]\">\n          <div\n            className={`flex flex-row items-center space-x-2 rounded-lg bg-cyan px-2 py-3`}\n          >\n            <InformationCircleIcon className=\"h-6 w-6 text-cyan-dark\" />\n            {selectedToken ? (\n              <span className=\"text-sm font-light text-cyan-dark\">\n                After approval, you&apos;ll see additional prompts related to\n                depositing your{' '}\n                <span className=\"font-medium\">{selectedToken.symbol}</span>.\n              </span>\n            ) : (\n              <span className=\"text-sm font-light text-cyan-dark\">\n                After approval, you&apos;ll see an additional prompt in your\n                wallet to deposit your{' '}\n                <span className=\"font-medium\">{customFeeToken.symbol}</span>.\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    </Dialog>\n  )\n}\n","export const FiatTokenProxyAbi = [\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'owner',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'spender',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'value',\n        type: 'uint256'\n      }\n    ],\n    name: 'Approval',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'authorizer',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'bytes32',\n        name: 'nonce',\n        type: 'bytes32'\n      }\n    ],\n    name: 'AuthorizationCanceled',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'authorizer',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'bytes32',\n        name: 'nonce',\n        type: 'bytes32'\n      }\n    ],\n    name: 'AuthorizationUsed',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: '_account',\n        type: 'address'\n      }\n    ],\n    name: 'Blacklisted',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newBlacklister',\n        type: 'address'\n      }\n    ],\n    name: 'BlacklisterChanged',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'burner',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256'\n      }\n    ],\n    name: 'Burn',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newMasterMinter',\n        type: 'address'\n      }\n    ],\n    name: 'MasterMinterChanged',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'minter',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'to',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256'\n      }\n    ],\n    name: 'Mint',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'minter',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'minterAllowedAmount',\n        type: 'uint256'\n      }\n    ],\n    name: 'MinterConfigured',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'oldMinter',\n        type: 'address'\n      }\n    ],\n    name: 'MinterRemoved',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'previousOwner',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'newOwner',\n        type: 'address'\n      }\n    ],\n    name: 'OwnershipTransferred',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [],\n    name: 'Pause',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newAddress',\n        type: 'address'\n      }\n    ],\n    name: 'PauserChanged',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newRescuer',\n        type: 'address'\n      }\n    ],\n    name: 'RescuerChanged',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'from',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'to',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'value',\n        type: 'uint256'\n      }\n    ],\n    name: 'Transfer',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: '_account',\n        type: 'address'\n      }\n    ],\n    name: 'UnBlacklisted',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [],\n    name: 'Unpause',\n    type: 'event'\n  },\n  {\n    inputs: [],\n    name: 'CANCEL_AUTHORIZATION_TYPEHASH',\n    outputs: [\n      {\n        internalType: 'bytes32',\n        name: '',\n        type: 'bytes32'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'DOMAIN_SEPARATOR',\n    outputs: [\n      {\n        internalType: 'bytes32',\n        name: '',\n        type: 'bytes32'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'PERMIT_TYPEHASH',\n    outputs: [\n      {\n        internalType: 'bytes32',\n        name: '',\n        type: 'bytes32'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'RECEIVE_WITH_AUTHORIZATION_TYPEHASH',\n    outputs: [\n      {\n        internalType: 'bytes32',\n        name: '',\n        type: 'bytes32'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'TRANSFER_WITH_AUTHORIZATION_TYPEHASH',\n    outputs: [\n      {\n        internalType: 'bytes32',\n        name: '',\n        type: 'bytes32'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'owner',\n        type: 'address'\n      },\n      {\n        internalType: 'address',\n        name: 'spender',\n        type: 'address'\n      }\n    ],\n    name: 'allowance',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'spender',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'value',\n        type: 'uint256'\n      }\n    ],\n    name: 'approve',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'authorizer',\n        type: 'address'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'nonce',\n        type: 'bytes32'\n      }\n    ],\n    name: 'authorizationState',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'account',\n        type: 'address'\n      }\n    ],\n    name: 'balanceOf',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '_account',\n        type: 'address'\n      }\n    ],\n    name: 'blacklist',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'blacklister',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'uint256',\n        name: '_amount',\n        type: 'uint256'\n      }\n    ],\n    name: 'burn',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'authorizer',\n        type: 'address'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'nonce',\n        type: 'bytes32'\n      },\n      {\n        internalType: 'uint8',\n        name: 'v',\n        type: 'uint8'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'r',\n        type: 'bytes32'\n      },\n      {\n        internalType: 'bytes32',\n        name: 's',\n        type: 'bytes32'\n      }\n    ],\n    name: 'cancelAuthorization',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'minter',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'minterAllowedAmount',\n        type: 'uint256'\n      }\n    ],\n    name: 'configureMinter',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'currency',\n    outputs: [\n      {\n        internalType: 'string',\n        name: '',\n        type: 'string'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'decimals',\n    outputs: [\n      {\n        internalType: 'uint8',\n        name: '',\n        type: 'uint8'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'spender',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'decrement',\n        type: 'uint256'\n      }\n    ],\n    name: 'decreaseAllowance',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'spender',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'increment',\n        type: 'uint256'\n      }\n    ],\n    name: 'increaseAllowance',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'string',\n        name: 'tokenName',\n        type: 'string'\n      },\n      {\n        internalType: 'string',\n        name: 'tokenSymbol',\n        type: 'string'\n      },\n      {\n        internalType: 'string',\n        name: 'tokenCurrency',\n        type: 'string'\n      },\n      {\n        internalType: 'uint8',\n        name: 'tokenDecimals',\n        type: 'uint8'\n      },\n      {\n        internalType: 'address',\n        name: 'newMasterMinter',\n        type: 'address'\n      },\n      {\n        internalType: 'address',\n        name: 'newPauser',\n        type: 'address'\n      },\n      {\n        internalType: 'address',\n        name: 'newBlacklister',\n        type: 'address'\n      },\n      {\n        internalType: 'address',\n        name: 'newOwner',\n        type: 'address'\n      }\n    ],\n    name: 'initialize',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'string',\n        name: 'newName',\n        type: 'string'\n      }\n    ],\n    name: 'initializeV2',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'lostAndFound',\n        type: 'address'\n      }\n    ],\n    name: 'initializeV2_1',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '_account',\n        type: 'address'\n      }\n    ],\n    name: 'isBlacklisted',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'account',\n        type: 'address'\n      }\n    ],\n    name: 'isMinter',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'masterMinter',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '_to',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: '_amount',\n        type: 'uint256'\n      }\n    ],\n    name: 'mint',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'minter',\n        type: 'address'\n      }\n    ],\n    name: 'minterAllowance',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'name',\n    outputs: [\n      {\n        internalType: 'string',\n        name: '',\n        type: 'string'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'owner',\n        type: 'address'\n      }\n    ],\n    name: 'nonces',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'owner',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'pause',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'paused',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'pauser',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'owner',\n        type: 'address'\n      },\n      {\n        internalType: 'address',\n        name: 'spender',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'value',\n        type: 'uint256'\n      },\n      {\n        internalType: 'uint256',\n        name: 'deadline',\n        type: 'uint256'\n      },\n      {\n        internalType: 'uint8',\n        name: 'v',\n        type: 'uint8'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'r',\n        type: 'bytes32'\n      },\n      {\n        internalType: 'bytes32',\n        name: 's',\n        type: 'bytes32'\n      }\n    ],\n    name: 'permit',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'from',\n        type: 'address'\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'value',\n        type: 'uint256'\n      },\n      {\n        internalType: 'uint256',\n        name: 'validAfter',\n        type: 'uint256'\n      },\n      {\n        internalType: 'uint256',\n        name: 'validBefore',\n        type: 'uint256'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'nonce',\n        type: 'bytes32'\n      },\n      {\n        internalType: 'uint8',\n        name: 'v',\n        type: 'uint8'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'r',\n        type: 'bytes32'\n      },\n      {\n        internalType: 'bytes32',\n        name: 's',\n        type: 'bytes32'\n      }\n    ],\n    name: 'receiveWithAuthorization',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'minter',\n        type: 'address'\n      }\n    ],\n    name: 'removeMinter',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'contract IERC20',\n        name: 'tokenContract',\n        type: 'address'\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256'\n      }\n    ],\n    name: 'rescueERC20',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'rescuer',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'symbol',\n    outputs: [\n      {\n        internalType: 'string',\n        name: '',\n        type: 'string'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'totalSupply',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'value',\n        type: 'uint256'\n      }\n    ],\n    name: 'transfer',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'from',\n        type: 'address'\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'value',\n        type: 'uint256'\n      }\n    ],\n    name: 'transferFrom',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'newOwner',\n        type: 'address'\n      }\n    ],\n    name: 'transferOwnership',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'from',\n        type: 'address'\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'value',\n        type: 'uint256'\n      },\n      {\n        internalType: 'uint256',\n        name: 'validAfter',\n        type: 'uint256'\n      },\n      {\n        internalType: 'uint256',\n        name: 'validBefore',\n        type: 'uint256'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'nonce',\n        type: 'bytes32'\n      },\n      {\n        internalType: 'uint8',\n        name: 'v',\n        type: 'uint8'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'r',\n        type: 'bytes32'\n      },\n      {\n        internalType: 'bytes32',\n        name: 's',\n        type: 'bytes32'\n      }\n    ],\n    name: 'transferWithAuthorization',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '_account',\n        type: 'address'\n      }\n    ],\n    name: 'unBlacklist',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'unpause',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '_newBlacklister',\n        type: 'address'\n      }\n    ],\n    name: 'updateBlacklister',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '_newMasterMinter',\n        type: 'address'\n      }\n    ],\n    name: 'updateMasterMinter',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '_newPauser',\n        type: 'address'\n      }\n    ],\n    name: 'updatePauser',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'newRescuer',\n        type: 'address'\n      }\n    ],\n    name: 'updateRescuer',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'version',\n    outputs: [\n      {\n        internalType: 'string',\n        name: '',\n        type: 'string'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  }\n] as const\n","export const TokenMinterAbi = [\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '_tokenController',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'constructor'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'localTokenMessenger',\n        type: 'address'\n      }\n    ],\n    name: 'LocalTokenMessengerAdded',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'localTokenMessenger',\n        type: 'address'\n      }\n    ],\n    name: 'LocalTokenMessengerRemoved',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'previousOwner',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newOwner',\n        type: 'address'\n      }\n    ],\n    name: 'OwnershipTransferStarted',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'previousOwner',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newOwner',\n        type: 'address'\n      }\n    ],\n    name: 'OwnershipTransferred',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [],\n    name: 'Pause',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newAddress',\n        type: 'address'\n      }\n    ],\n    name: 'PauserChanged',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'newRescuer',\n        type: 'address'\n      }\n    ],\n    name: 'RescuerChanged',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'token',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'burnLimitPerMessage',\n        type: 'uint256'\n      }\n    ],\n    name: 'SetBurnLimitPerMessage',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'tokenController',\n        type: 'address'\n      }\n    ],\n    name: 'SetTokenController',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'localToken',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint32',\n        name: 'remoteDomain',\n        type: 'uint32'\n      },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'remoteToken',\n        type: 'bytes32'\n      }\n    ],\n    name: 'TokenPairLinked',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'localToken',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        internalType: 'uint32',\n        name: 'remoteDomain',\n        type: 'uint32'\n      },\n      {\n        indexed: false,\n        internalType: 'bytes32',\n        name: 'remoteToken',\n        type: 'bytes32'\n      }\n    ],\n    name: 'TokenPairUnlinked',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [],\n    name: 'Unpause',\n    type: 'event'\n  },\n  {\n    inputs: [],\n    name: 'acceptOwnership',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'newLocalTokenMessenger',\n        type: 'address'\n      }\n    ],\n    name: 'addLocalTokenMessenger',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'burnToken',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'burnAmount',\n        type: 'uint256'\n      }\n    ],\n    name: 'burn',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    name: 'burnLimitsPerMessage',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'uint32',\n        name: 'remoteDomain',\n        type: 'uint32'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'remoteToken',\n        type: 'bytes32'\n      }\n    ],\n    name: 'getLocalToken',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'localToken',\n        type: 'address'\n      },\n      {\n        internalType: 'uint32',\n        name: 'remoteDomain',\n        type: 'uint32'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'remoteToken',\n        type: 'bytes32'\n      }\n    ],\n    name: 'linkTokenPair',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'localTokenMessenger',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'uint32',\n        name: 'sourceDomain',\n        type: 'uint32'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'burnToken',\n        type: 'bytes32'\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256'\n      }\n    ],\n    name: 'mint',\n    outputs: [\n      {\n        internalType: 'address',\n        name: 'mintToken',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'owner',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'pause',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'paused',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'pauser',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'pendingOwner',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'bytes32',\n        name: '',\n        type: 'bytes32'\n      }\n    ],\n    name: 'remoteTokensToLocalTokens',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'removeLocalTokenMessenger',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'contract IERC20',\n        name: 'tokenContract',\n        type: 'address'\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256'\n      }\n    ],\n    name: 'rescueERC20',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'rescuer',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'localToken',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'burnLimitPerMessage',\n        type: 'uint256'\n      }\n    ],\n    name: 'setMaxBurnAmountPerMessage',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'newTokenController',\n        type: 'address'\n      }\n    ],\n    name: 'setTokenController',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'tokenController',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'newOwner',\n        type: 'address'\n      }\n    ],\n    name: 'transferOwnership',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'localToken',\n        type: 'address'\n      },\n      {\n        internalType: 'uint32',\n        name: 'remoteDomain',\n        type: 'uint32'\n      },\n      {\n        internalType: 'bytes32',\n        name: 'remoteToken',\n        type: 'bytes32'\n      }\n    ],\n    name: 'unlinkTokenPair',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'unpause',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '_newPauser',\n        type: 'address'\n      }\n    ],\n    name: 'updatePauser',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'newRescuer',\n        type: 'address'\n      }\n    ],\n    name: 'updateRescuer',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  }\n] as const\n","import { readContract } from '@wagmi/core'\nimport { CCTPSupportedChainId } from '../../state/cctpState'\nimport { FiatTokenProxyAbi } from '../../util/cctp/FiatTokenProxyAbi'\nimport { TokenMinterAbi } from '../../util/cctp/TokenMinterAbi'\nimport { getContracts } from './useCCTP'\n\n/**\n *\n * @param targetChainId target ChainId of the CCTP transfer\n *\n * See https://developers.circle.com/stablecoin/docs/cctp-technical-reference#transaction-limits\n *\n * Note: fetchMinterAllowance returns allowance on the DESTINATION chain\n */\nexport function fetchMinterAllowance({\n  targetChainId\n}: {\n  targetChainId: CCTPSupportedChainId\n}) {\n  const { usdcContractAddress, tokenMinterContractAddress } =\n    getContracts(targetChainId)\n\n  return readContract({\n    address: usdcContractAddress,\n    chainId: targetChainId,\n    abi: FiatTokenProxyAbi,\n    functionName: 'minterAllowance',\n    args: [tokenMinterContractAddress]\n  })\n}\n\nexport function fetchPerMessageBurnLimit({\n  sourceChainId\n}: {\n  sourceChainId: CCTPSupportedChainId\n}) {\n  const { usdcContractAddress, tokenMinterContractAddress } =\n    getContracts(sourceChainId)\n\n  return readContract({\n    address: tokenMinterContractAddress,\n    chainId: sourceChainId,\n    abi: TokenMinterAbi,\n    functionName: 'burnLimitsPerMessage',\n    args: [usdcContractAddress]\n  })\n}\n","import { ChainId } from '../networks'\nimport { getAPIBaseUrl, sanitizeQueryParams } from '..'\nimport {\n  CompletedCCTPTransfer,\n  PendingCCTPTransfer,\n  Response\n} from '../../pages/api/cctp/[type]'\nimport { utils } from 'ethers'\n\nexport type FetchParams = {\n  walletAddress: string\n  l1ChainId: ChainId\n  pageNumber: number\n  pageSize: number\n}\n\nfunction convertStringToUsdcBigNumber(amount: string) {\n  return utils.formatUnits(amount, 6)\n}\nfunction mapCCTPTransfer<T extends PendingCCTPTransfer | CompletedCCTPTransfer>(\n  cctpTransfer: T\n): T {\n  cctpTransfer.messageSent.amount = convertStringToUsdcBigNumber(\n    cctpTransfer.messageSent.amount\n  )\n  return cctpTransfer\n}\n\nasync function fetchCCTP({\n  walletAddress,\n  l1ChainId,\n  pageNumber,\n  pageSize,\n  type\n}: FetchParams & { type: 'deposits' | 'withdrawals' }): Promise<\n  Response['data']\n> {\n  const urlParams = new URLSearchParams(\n    sanitizeQueryParams({\n      walletAddress,\n      l1ChainId,\n      pageNumber,\n      pageSize\n    })\n  )\n\n  const response = await fetch(\n    `${getAPIBaseUrl()}/api/cctp/${type}?${urlParams}`,\n    {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' }\n    }\n  )\n\n  const parsedResponse: Response = await response.json()\n  const { pending, completed } = parsedResponse.data\n\n  return {\n    pending: pending.map(transfer => mapCCTPTransfer(transfer)),\n    completed: completed.map(transfer => mapCCTPTransfer(transfer))\n  }\n}\n\ntype FetchCctpResponse = Response['data']\nexport async function fetchCCTPDeposits(\n  params: FetchParams\n): Promise<FetchCctpResponse> {\n  return fetchCCTP({ ...params, type: 'deposits' })\n}\n\nexport async function fetchCCTPWithdrawals(\n  params: FetchParams\n): Promise<FetchCctpResponse> {\n  return fetchCCTP({ ...params, type: 'withdrawals' })\n}\n","import { TransactionReceipt } from '@ethersproject/providers'\nimport { utils } from 'ethers'\n\nexport function getAttestationHashAndMessageFromReceipt(\n  txReceipt: TransactionReceipt\n) {\n  const eventTopic = utils.keccak256(utils.toUtf8Bytes('MessageSent(bytes)'))\n  const log = txReceipt.logs.find(l => l.topics[0] === eventTopic)\n\n  if (!log)\n    return {\n      messageBytes: null,\n      attestationHash: null\n    }\n\n  const messageBytes = utils.defaultAbiCoder.decode(\n    ['bytes'],\n    log.data\n  )[0] as `0x${string}`\n\n  return {\n    messageBytes,\n    attestationHash: utils.keccak256(messageBytes) as `0x${string}`\n  }\n}\n","import { BigNumber } from 'ethers'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { create } from 'zustand'\nimport useSWRImmutable from 'swr/immutable'\nimport * as Sentry from '@sentry/react'\nimport { useInterval } from 'react-use'\n\nimport { useCCTP } from '../hooks/CCTP/useCCTP'\nimport {\n  ChainId,\n  getBlockTime,\n  getNetworkName,\n  isNetwork\n} from '../util/networks'\nimport { fetchCCTPDeposits, fetchCCTPWithdrawals } from '../util/cctp/fetchCCTP'\nimport { DepositStatus, MergedTransaction } from './app/state'\nimport { getStandardizedTimestamp } from './app/utils'\nimport { useSigner } from 'wagmi'\nimport dayjs from 'dayjs'\nimport {\n  ChainDomain,\n  CompletedCCTPTransfer,\n  PendingCCTPTransfer,\n  Response\n} from '../pages/api/cctp/[type]'\nimport { CommonAddress } from '../util/CommonAddressUtils'\nimport { shouldTrackAnalytics, trackEvent } from '../util/AnalyticsUtils'\nimport { useAccountType } from '../hooks/useAccountType'\nimport { useNetworksAndSigners } from '../hooks/useNetworksAndSigners'\nimport { getAttestationHashAndMessageFromReceipt } from '../util/cctp/getAttestationHashAndMessageFromReceipt'\nimport { AssetType } from '../hooks/arbTokenBridge.types'\n\n// see https://developers.circle.com/stablecoin/docs/cctp-technical-reference#block-confirmations-for-attestations\n// Blocks need to be awaited on the L1 whether it's a deposit or a withdrawal\nexport function getBlockBeforeConfirmation(chainId: ChainId) {\n  const { isTestnet } = isNetwork(chainId)\n  // Required blocks are 65 (mainnet) and 5 (testnet), we're adding a buffer of ~30%\n  return isTestnet ? 7 : 85\n}\n\nexport type CCTPSupportedChainId =\n  | ChainId.Ethereum\n  | ChainId.Goerli\n  | ChainId.ArbitrumOne\n  | ChainId.ArbitrumGoerli\n\nfunction getSourceChainIdFromSourceDomain(\n  sourceDomain: ChainDomain,\n  chainId: ChainId\n): CCTPSupportedChainId {\n  const { isTestnet } = isNetwork(chainId)\n\n  // Deposits\n  if (sourceDomain === ChainDomain.Ethereum) {\n    return isTestnet ? ChainId.Goerli : ChainId.Ethereum\n  }\n\n  // Withdrawals\n  return isTestnet ? ChainId.ArbitrumGoerli : ChainId.ArbitrumOne\n}\n\nexport function getUSDCAddresses(chainId: CCTPSupportedChainId) {\n  return {\n    [ChainId.Ethereum]: CommonAddress.Ethereum,\n    [ChainId.ArbitrumOne]: CommonAddress.ArbitrumOne,\n    [ChainId.Goerli]: CommonAddress.Goerli,\n    [ChainId.ArbitrumGoerli]: CommonAddress.ArbitrumGoerli\n  }[chainId]\n}\n\nexport function getUsdcTokenAddressFromSourceChainId(\n  sourceChainId: CCTPSupportedChainId\n) {\n  return getUSDCAddresses(sourceChainId).USDC\n}\n\nfunction parseTransferToMergedTransaction(\n  transfer: PendingCCTPTransfer | CompletedCCTPTransfer,\n  chainId: ChainId\n): MergedTransaction {\n  const { messageSent } = transfer\n  let status = 'Unconfirmed'\n  let resolvedAt = null\n  let receiveMessageTransactionHash = null\n\n  if ('messageReceived' in transfer) {\n    const { messageReceived } = transfer\n    status = 'Executed'\n    resolvedAt = getStandardizedTimestamp(\n      (parseInt(messageReceived.blockTimestamp, 10) * 1_000).toString()\n    )\n    receiveMessageTransactionHash = messageReceived.transactionHash\n  }\n  const sourceChainId = getSourceChainIdFromSourceDomain(\n    parseInt(messageSent.sourceDomain, 10),\n    chainId\n  )\n  const isDeposit =\n    parseInt(messageSent.sourceDomain, 10) === ChainDomain.Ethereum\n\n  return {\n    sender: messageSent.sender,\n    destination: messageSent.recipient,\n    direction: isDeposit ? 'deposit' : 'withdraw',\n    status,\n    createdAt: getStandardizedTimestamp(\n      (parseInt(messageSent.blockTimestamp, 10) * 1_000).toString()\n    ),\n    resolvedAt,\n    txId: messageSent.transactionHash,\n    asset: 'USDC',\n    assetType: AssetType.ERC20,\n    value: messageSent.amount,\n    uniqueId: null,\n    isWithdrawal: !isDeposit,\n    blockNum: parseInt(messageSent.blockNumber, 10),\n    tokenAddress: getUsdcTokenAddressFromSourceChainId(sourceChainId),\n    depositStatus: DepositStatus.CCTP_DEFAULT_STATE,\n    isCctp: true,\n    cctpData: {\n      sourceChainId,\n      attestationHash: messageSent.attestationHash,\n      messageBytes: messageSent.message,\n      receiveMessageTransactionHash,\n      receiveMessageTimestamp: resolvedAt || null\n    }\n  }\n}\n\ntype ParsedResponse = {\n  pending: MergedTransaction[]\n  completed: MergedTransaction[]\n}\nfunction parseSWRResponse(\n  { pending, completed }: Response['data'],\n  chainId: ChainId\n): ParsedResponse {\n  return {\n    pending: pending.map(pendingDeposit =>\n      parseTransferToMergedTransaction(pendingDeposit, chainId)\n    ),\n    completed: completed.map(completedDeposit =>\n      parseTransferToMergedTransaction(completedDeposit, chainId)\n    )\n  }\n}\n\ntype fetchCctpParams = {\n  walletAddress?: string\n  l1ChainId: ChainId\n  pageNumber: number\n  pageSize: number\n  enabled: boolean\n}\nexport const useCCTPDeposits = ({\n  walletAddress,\n  l1ChainId,\n  pageNumber,\n  pageSize,\n  enabled\n}: fetchCctpParams) => {\n  return useSWRImmutable(\n    // Only fetch when we have walletAddress\n    () => {\n      if (!walletAddress || !enabled) {\n        return null\n      }\n\n      return [walletAddress, l1ChainId, pageNumber, pageSize, 'cctp-deposits']\n    },\n    ([_walletAddress, _l1ChainId, _pageNumber, _pageSize]) =>\n      fetchCCTPDeposits({\n        walletAddress: _walletAddress,\n        l1ChainId: _l1ChainId,\n        pageNumber: _pageNumber,\n        pageSize: _pageSize\n      }).then(deposits => parseSWRResponse(deposits, _l1ChainId))\n  )\n}\n\nexport const useCCTPWithdrawals = ({\n  walletAddress,\n  l1ChainId,\n  pageNumber,\n  pageSize,\n  enabled\n}: fetchCctpParams) => {\n  return useSWRImmutable(\n    // Only fetch when we have walletAddress\n    () => {\n      if (!walletAddress || !enabled) {\n        return null\n      }\n\n      return [\n        walletAddress,\n        l1ChainId,\n        pageNumber,\n        pageSize,\n        'cctp-withdrawals'\n      ]\n    },\n    ([_walletAddress, _l1ChainId, _pageNumber, _pageSize]) =>\n      fetchCCTPWithdrawals({\n        walletAddress: _walletAddress,\n        l1ChainId: _l1ChainId,\n        pageNumber: _pageNumber,\n        pageSize: _pageSize\n      }).then(withdrawals => parseSWRResponse(withdrawals, _l1ChainId))\n  )\n}\n\ntype PartialMergedTransaction = Partial<Omit<MergedTransaction, 'cctpData'>> & {\n  txId: MergedTransaction['txId']\n  cctpData?: Partial<MergedTransaction['cctpData']>\n}\ntype CctpStore = {\n  transfers: { [id: string]: MergedTransaction }\n  transfersIds: string[]\n  setTransfers: (transfers: {\n    pending: MergedTransaction[]\n    completed: MergedTransaction[]\n  }) => void\n  resetTransfers: () => void\n  updateTransfer: (transfer: PartialMergedTransaction) => void\n}\n\nconst useCctpStore = create<CctpStore>((set, get) => ({\n  transfers: {},\n  transfersIds: [],\n  resetTransfers: () => {\n    return set({\n      transfers: {},\n      transfersIds: []\n    })\n  },\n  setTransfers: transfers => {\n    const { pending, completed } = transfers\n\n    const previousTransfersMap = get().transfers\n\n    const transactions = [...pending, ...completed]\n      .concat(Object.values(previousTransfersMap))\n      .sort((t1, t2) => (dayjs(t2.createdAt).isAfter(t1.createdAt) ? 1 : -1))\n\n    const ids = new Set<string>()\n    const transfersMap = transactions.reduce(\n      (acc, transaction) => {\n        acc[transaction.txId] = transaction\n        ids.add(transaction.txId)\n        return acc\n      },\n      {} as {\n        [txId: string]: MergedTransaction\n      }\n    )\n\n    return set({\n      transfers: transfersMap,\n      transfersIds: [...ids]\n    })\n  },\n  updateTransfer: transfer => {\n    const prevTransfer = get().transfers[transfer.txId]\n    if (!prevTransfer) {\n      return\n    }\n\n    set(prevState => ({\n      transfers: {\n        ...prevState.transfers,\n        [transfer.txId]: {\n          ...prevTransfer,\n          ...transfer,\n          cctpData: {\n            ...prevTransfer.cctpData,\n            ...transfer.cctpData\n          }\n        } as MergedTransaction\n      }\n    }))\n  }\n}))\n\nexport function useCctpState() {\n  const {\n    transfersIds,\n    transfers,\n    resetTransfers,\n    setTransfers,\n    updateTransfer\n  } = useCctpStore()\n\n  const { pendingIds, completedIds, depositIds, withdrawalIds } =\n    useMemo(() => {\n      return transfersIds.reduce(\n        (acc, id) => {\n          const transfer = transfers[id]\n          if (!transfer) {\n            return acc\n          }\n\n          if (transfer.direction === 'deposit') {\n            acc.depositIds.push(id)\n          } else {\n            acc.withdrawalIds.push(id)\n          }\n          if (transfer.status !== 'Executed') {\n            acc.pendingIds.push(id)\n          } else {\n            acc.completedIds.push(id)\n          }\n\n          return acc\n        },\n        {\n          pendingIds: [] as string[],\n          completedIds: [] as string[],\n          depositIds: [] as string[],\n          withdrawalIds: [] as string[]\n        }\n      )\n    }, [transfersIds, transfers])\n\n  return {\n    resetTransfers,\n    setTransfers,\n    transfersIds,\n    transfers,\n    pendingIds,\n    completedIds,\n    depositIds,\n    withdrawalIds,\n    updateTransfer\n  }\n}\n\nexport function useUpdateCctpTransactions() {\n  const { pendingIds, transfers, updateTransfer } = useCctpState()\n  const {\n    l1: { provider: l1Provider },\n    l2: { provider: l2Provider }\n  } = useNetworksAndSigners()\n  const getTransactionReceipt = useCallback(\n    async (tx: MergedTransaction) => {\n      const provider = tx.direction === 'deposit' ? l1Provider : l2Provider\n      const receipt = await provider.getTransactionReceipt(tx.txId)\n\n      return {\n        receipt,\n        tx\n      }\n    },\n    [l1Provider, l2Provider]\n  )\n\n  const pendingTransactions = useMemo(() => {\n    return pendingIds\n      .map(pendingId => transfers[pendingId])\n      .filter(transfer => transfer) as unknown as MergedTransaction[]\n  }, [pendingIds, transfers])\n\n  const updateCctpTransactions = useCallback(async () => {\n    const receipts = await Promise.all(\n      pendingTransactions.map(getTransactionReceipt)\n    )\n    const now = dayjs()\n    receipts.forEach(({ receipt, tx }) => {\n      if (!receipt) {\n        return\n      }\n\n      const l1SourceChain = getL1ChainIdFromSourceChain(tx)\n      const requiredL1BlocksBeforeConfirmation =\n        getBlockBeforeConfirmation(l1SourceChain)\n      const blockTime = getBlockTime(l1SourceChain)\n\n      if (receipt.status === 0) {\n        updateTransfer({\n          txId: receipt.transactionHash,\n          status: 'Failure'\n        })\n      } else if (tx.cctpData?.receiveMessageTransactionHash) {\n        updateTransfer({\n          txId: receipt.transactionHash,\n          status: 'Executed'\n        })\n      } else if (receipt.blockNumber && !tx.blockNum) {\n        // If blockNumber was never set (for example, network switch just after the deposit)\n        const { messageBytes, attestationHash } =\n          getAttestationHashAndMessageFromReceipt(receipt)\n        updateTransfer({\n          txId: receipt.transactionHash,\n          blockNum: receipt.blockNumber,\n          cctpData: {\n            messageBytes,\n            attestationHash\n          }\n        })\n      } else if (\n        tx.createdAt &&\n        now.diff(tx.createdAt, 'second') >\n          requiredL1BlocksBeforeConfirmation * blockTime\n      ) {\n        // If transaction claim was set to failure, don't reset to Confirmed\n        if (tx.status === 'Failure') {\n          return\n        }\n\n        updateTransfer({\n          txId: receipt.transactionHash,\n          status: 'Confirmed'\n        })\n      }\n    })\n  }, [getTransactionReceipt, pendingTransactions, updateTransfer])\n\n  return { updateCctpTransactions }\n}\n\ntype useCctpFetchingParams = {\n  l1ChainId: ChainId\n  l2ChainId: ChainId\n  walletAddress: `0x${string}` | undefined\n  pageSize: number\n  pageNumber: number\n  type: 'deposits' | 'withdrawals' | 'all'\n}\nexport function useCctpFetching({\n  l1ChainId,\n  l2ChainId,\n  walletAddress,\n  pageSize = 10,\n  pageNumber,\n  type\n}: useCctpFetchingParams) {\n  const { isEthereumMainnet: isL1Ethereum, isGoerli: isL1Goerli } =\n    isNetwork(l1ChainId)\n  const {\n    isArbitrumOne: isL2ArbitrumOne,\n    isArbitrumGoerli: isL2ArbitrumGoerli\n  } = isNetwork(l2ChainId)\n  const isValidChainPair =\n    (isL1Ethereum && isL2ArbitrumOne) || (isL1Goerli && isL2ArbitrumGoerli)\n\n  const {\n    data: deposits,\n    isLoading: isLoadingDeposits,\n    error: depositsError,\n    mutate: mutateDeposits\n  } = useCCTPDeposits({\n    l1ChainId,\n    walletAddress,\n    pageNumber,\n    pageSize,\n    enabled: type !== 'withdrawals' && isValidChainPair\n  })\n\n  const {\n    data: withdrawals,\n    isLoading: isLoadingWithdrawals,\n    error: withdrawalsError,\n    mutate: mutateWithdrawals\n  } = useCCTPWithdrawals({\n    l1ChainId,\n    walletAddress,\n    pageNumber,\n    pageSize,\n    enabled: type !== 'deposits' && isValidChainPair\n  })\n  const { setTransfers } = useCctpState()\n\n  useEffect(() => {\n    if (deposits) {\n      setTransfers(deposits)\n    }\n  }, [deposits, setTransfers])\n\n  useEffect(() => {\n    if (withdrawals) {\n      setTransfers(withdrawals)\n    }\n  }, [withdrawals, setTransfers])\n\n  const setPendingTransfer = useCallback(\n    (transfer: PartialMergedTransaction, type: 'deposit' | 'withdrawal') => {\n      const mutate = type === 'deposit' ? mutateDeposits : mutateWithdrawals\n      mutate(\n        {\n          pending: [transfer as MergedTransaction],\n          completed: []\n        },\n        {\n          populateCache(result: ParsedResponse, currentData) {\n            const transfer = result.pending[0]\n            if (!currentData || !transfer) {\n              return result\n            }\n            const index = currentData.pending.findIndex(\n              tx => tx.txId === transfer.txId\n            )\n            const existingTransfer = currentData.pending[index]\n            if (existingTransfer) {\n              const { cctpData, ...txData } = existingTransfer\n              const { cctpData: resultCctpData, ...resultTxData } = transfer\n\n              currentData.pending[index] = {\n                ...txData,\n                ...resultTxData,\n                cctpData: {\n                  ...cctpData,\n                  ...resultCctpData\n                }\n              }\n\n              return currentData\n            }\n\n            return {\n              pending: [...result.pending, ...currentData.pending],\n              completed: [...result.completed, ...currentData.completed]\n            }\n          },\n          revalidate: false\n        }\n      )\n    },\n    [mutateDeposits, mutateWithdrawals]\n  )\n\n  return {\n    deposits,\n    withdrawals,\n    isLoadingDeposits,\n    isLoadingWithdrawals,\n    depositsError,\n    withdrawalsError,\n    mutateDeposits,\n    mutateWithdrawals,\n    setPendingTransfer\n  }\n}\n\nexport function useClaimCctp(tx: MergedTransaction) {\n  const [isClaiming, setIsClaiming] = useState(false)\n  const { waitForAttestation, receiveMessage } = useCCTP({\n    sourceChainId: tx.cctpData?.sourceChainId\n  })\n  const { isSmartContractWallet } = useAccountType()\n\n  const { updateTransfer } = useCctpState()\n  const { data: signer } = useSigner()\n\n  const claim = useCallback(async () => {\n    if (!tx.cctpData?.attestationHash || !tx.cctpData.messageBytes || !signer) {\n      return\n    }\n\n    setIsClaiming(true)\n    try {\n      const attestation = await waitForAttestation(tx.cctpData.attestationHash)\n      const receiveTx = await receiveMessage({\n        attestation,\n        messageBytes: tx.cctpData.messageBytes as `0x${string}`,\n        signer\n      })\n      const receiveReceiptTx = await receiveTx.wait()\n\n      const resolvedAt =\n        receiveReceiptTx.status === 1\n          ? getStandardizedTimestamp(BigNumber.from(Date.now()).toString())\n          : null\n      updateTransfer({\n        ...tx,\n        resolvedAt,\n        cctpData: {\n          ...tx.cctpData,\n          receiveMessageTimestamp: resolvedAt,\n          receiveMessageTransactionHash:\n            receiveReceiptTx.status === 1\n              ? (receiveReceiptTx.transactionHash as `0x${string}`)\n              : null\n        }\n      })\n\n      const targetChainId = getTargetChainIdFromSourceChain(tx)\n      const currentNetworkName = getNetworkName(targetChainId)\n      const { isEthereumMainnetOrTestnet } = isNetwork(targetChainId)\n\n      if (shouldTrackAnalytics(currentNetworkName)) {\n        trackEvent(\n          isEthereumMainnetOrTestnet ? 'CCTP Withdrawal' : 'CCTP Deposit',\n          {\n            accountType: isSmartContractWallet ? 'Smart Contract' : 'EOA',\n            network: currentNetworkName,\n            amount: Number(tx.value),\n            complete: true\n          }\n        )\n      }\n\n      if (receiveReceiptTx.status === 0) {\n        throw new Error('Transaction failed')\n      }\n    } catch (e) {\n      Sentry.captureException(e)\n      throw e\n    } finally {\n      setIsClaiming(false)\n    }\n  }, [\n    isSmartContractWallet,\n    receiveMessage,\n    signer,\n    tx,\n    updateTransfer,\n    waitForAttestation\n  ])\n\n  return {\n    isClaiming,\n    claim\n  }\n}\n\nexport function getL1ChainIdFromSourceChain(tx: MergedTransaction) {\n  if (!tx.cctpData?.sourceChainId) {\n    return ChainId.Ethereum\n  }\n\n  return {\n    [ChainId.Ethereum]: ChainId.Ethereum,\n    [ChainId.Goerli]: ChainId.Goerli,\n    [ChainId.ArbitrumOne]: ChainId.Ethereum,\n    [ChainId.ArbitrumGoerli]: ChainId.Goerli\n  }[tx.cctpData.sourceChainId]\n}\n\nexport function getTargetChainIdFromSourceChain(tx: MergedTransaction) {\n  if (!tx.cctpData?.sourceChainId) {\n    return ChainId.Ethereum\n  }\n\n  return {\n    [ChainId.Ethereum]: ChainId.ArbitrumOne,\n    [ChainId.Goerli]: ChainId.ArbitrumGoerli,\n    [ChainId.ArbitrumOne]: ChainId.Ethereum,\n    [ChainId.ArbitrumGoerli]: ChainId.Goerli\n  }[tx.cctpData.sourceChainId]\n}\n\nexport function useRemainingTime(tx: MergedTransaction) {\n  const l1SourceChain = getL1ChainIdFromSourceChain(tx)\n  const requiredL1BlocksBeforeConfirmation =\n    getBlockBeforeConfirmation(l1SourceChain)\n  const blockTime = getBlockTime(l1SourceChain)\n\n  const [remainingTime, setRemainingTime] = useState<string>('Calculating...')\n  const [canBeClaimedDate, setCanBeClaimedDate] = useState<dayjs.Dayjs>()\n  const [isConfirmed, setIsConfirmed] = useState(\n    tx.status === 'Confirmed' || tx.status === 'Executed'\n  )\n\n  useEffect(() => {\n    if (tx.status === 'Failure') {\n      setRemainingTime('')\n    }\n  }, [tx.status, setRemainingTime])\n\n  useEffect(() => {\n    if (!tx.createdAt || tx.status === 'Failure') {\n      return\n    }\n\n    setCanBeClaimedDate(\n      dayjs(tx.createdAt).add(\n        requiredL1BlocksBeforeConfirmation * blockTime,\n        'seconds'\n      )\n    )\n  }, [blockTime, requiredL1BlocksBeforeConfirmation, tx.createdAt, tx.status])\n\n  useInterval(() => {\n    if (!canBeClaimedDate) {\n      return\n    }\n\n    if (dayjs().isAfter(canBeClaimedDate)) {\n      setIsConfirmed(true)\n    } else {\n      setRemainingTime(canBeClaimedDate.fromNow().toString())\n    }\n  }, 2000)\n\n  return {\n    remainingTime,\n    isConfirmed\n  }\n}\n","import { useMemo } from 'react'\n\nimport { isNetwork } from '../../util/networks'\nimport { useNetworksAndSigners } from '../useNetworksAndSigners'\n\nexport function useStyles() {\n  const {\n    l1: { network: l1Network },\n    l2: { network: l2Network }\n  } = useNetworksAndSigners()\n\n  const depositButtonColorClassName = useMemo(() => {\n    const {\n      isArbitrumNova,\n      isXaiTestnet,\n      isStylusTestnet,\n      isOrbitChain,\n      isInspace\n    } = isNetwork(l2Network.id)\n\n    if (isInspace) {\n      return 'bg-xai-dark'\n    }\n\n    if (isXaiTestnet) {\n      return 'bg-xai-dark'\n    }\n\n    if (isStylusTestnet) {\n      return 'bg-stylus-dark'\n    }\n\n    if (isArbitrumNova) {\n      return 'bg-arb-nova-dark'\n    }\n\n    if (isOrbitChain) {\n      return 'bg-orbit-dark'\n    }\n\n    // isArbitrum\n    return 'bg-arb-one-dark'\n  }, [l2Network.id])\n\n  const withdrawalButtonColorClassName = useMemo(() => {\n    const { isArbitrumNova: isParentChainArbitrumNova } = isNetwork(\n      l1Network.id\n    )\n    const { isArbitrum } = isNetwork(l2Network.id)\n\n    if (isArbitrum) {\n      return 'bg-eth-dark'\n    }\n\n    // is Orbit chain\n    if (isParentChainArbitrumNova) {\n      return 'bg-arb-nova-dark'\n    }\n\n    return 'bg-arb-one-dark'\n  }, [l1Network.id, l2Network.id])\n\n  return {\n    depositButtonColorClassName,\n    withdrawalButtonColorClassName\n  }\n}\n","import * as Sentry from '@sentry/react'\n\nimport { isUserRejectedError } from '../../util/isUserRejectedError'\n\nexport enum ImportTokenModalStatus {\n  // \"IDLE\" is here to distinguish between the modal never being opened, and being closed after a user interaction\n  IDLE,\n  OPEN,\n  CLOSED\n}\n\nexport function getWarningTokenDescription(warningTokenType: number) {\n  switch (warningTokenType) {\n    case 0:\n      return 'a supply rebasing token'\n    case 1:\n      return 'an interest accruing token'\n    default:\n      return 'a non-standard ERC20 token'\n  }\n}\n\nexport function onTxError(error: unknown) {\n  if (!isUserRejectedError(error)) {\n    Sentry.captureException(error)\n  }\n}\n","import { useEffect } from 'react'\nimport { ImportTokenModalStatus } from '../../components/TransferPanel/TransferPanelUtils'\nimport { ConnectionState } from '../../util'\n\nexport function useImportTokenModal({\n  importTokenModalStatus,\n  connectionState,\n  setImportTokenModalStatus\n}: {\n  importTokenModalStatus: ImportTokenModalStatus\n  connectionState: number\n  setImportTokenModalStatus: (value: any) => void\n}) {\n  useEffect(() => {\n    if (importTokenModalStatus !== ImportTokenModalStatus.IDLE) {\n      return\n    }\n\n    if (\n      connectionState === ConnectionState.L1_CONNECTED ||\n      connectionState === ConnectionState.L2_CONNECTED\n    ) {\n      setImportTokenModalStatus(ImportTokenModalStatus.OPEN)\n    }\n  }, [connectionState, importTokenModalStatus, setImportTokenModalStatus])\n}\n","import { useMemo } from 'react'\n\nimport { useAppState } from '../../state'\nimport { useIsSwitchingL2Chain } from '../../components/TransferPanel/TransferPanelMainUtils'\nimport { useAppContextState } from '../../components/App/AppContext'\nimport { GasEstimationStatus } from '../../components/TransferPanel/TransferPanelSummary'\nimport { UseTransferReadinessTransferReady } from '../../components/TransferPanel/useTransferReadiness'\n\nexport function useSummaryVisibility({\n  transferReady: { deposit: depositReady, withdrawal: withdrawalReady },\n  gasEstimationStatus\n}: {\n  transferReady: UseTransferReadinessTransferReady\n  gasEstimationStatus: GasEstimationStatus\n}) {\n  const {\n    app: { isDepositMode }\n  } = useAppState()\n\n  const {\n    layout: { isTransferring }\n  } = useAppContextState()\n\n  const isSwitchingL2Chain = useIsSwitchingL2Chain()\n\n  const isSummaryVisible = useMemo(() => {\n    if (isSwitchingL2Chain || gasEstimationStatus === 'error') {\n      return false\n    }\n\n    if (isTransferring) {\n      return true\n    }\n\n    return isDepositMode ? depositReady : withdrawalReady\n  }, [\n    isSwitchingL2Chain,\n    gasEstimationStatus,\n    isTransferring,\n    isDepositMode,\n    depositReady,\n    withdrawalReady\n  ])\n\n  return {\n    isSummaryVisible\n  }\n}\n","// tokens that can't be bridged to Arbitrum (maybe coz they have their native protocol bridges and custom implementation or they are being discontinued)\n// the UI doesn't let users deposit such tokens. If bridged already, these can only be withdrawn.\n\nimport { ChainId } from '../util/networks'\n\nexport type WithdrawOnlyToken = {\n  symbol: string\n  l2CustomAddr: string\n  l1Address: string\n  l2Address: string\n}\n\nconst withdrawOnlyTokens: { [chainId: number]: WithdrawOnlyToken[] } = {\n  [ChainId.ArbitrumOne]: [\n    {\n      symbol: 'MIM',\n      l2CustomAddr: '0xFEa7a6a0B346362BF88A9e4A88416B77a57D6c2A',\n      l1Address: '0x99D8a9C45b2ecA8864373A26D1459e3Dff1e17F3',\n      l2Address: '0xB20A02dfFb172C474BC4bDa3fD6f4eE70C04daf2'\n    },\n    {\n      symbol: 'SPA',\n      l2CustomAddr: '0x5575552988A3A80504bBaeB1311674fCFd40aD4B',\n      l1Address: '0xB4A3B0Faf0Ab53df58001804DdA5Bfc6a3D59008',\n      l2Address: '0xe5a5Efe7ec8cdFA5F031D5159839A3b5E11B2e0F'\n    },\n    {\n      symbol: 'FST',\n      l2CustomAddr: '0x90e81b81307ece4257c1bb74bea94f5232cece53',\n      l1Address: '0x0e192d382a36de7011f795acc4391cd302003606',\n      l2Address: '0x488cc08935458403a0458e45E20c0159c8AB2c92'\n    },\n    {\n      symbol: 'stETH',\n      l2CustomAddr: '',\n      l1Address: '0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84',\n      l2Address: ''\n    },\n    {\n      symbol: 'renBTC',\n      l2CustomAddr: '0xdbf31df14b66535af65aac99c32e9ea844e14501',\n      l1Address: '0xEB4C2781e4ebA804CE9a9803C67d0893436bB27D',\n      l2Address: '0x3E06AF0fBB92D1f6e5c6008fcec81130D0cC65a3'\n    },\n    {\n      symbol: 'STG',\n      l2CustomAddr: '0x6694340fc020c5e6b96567843da2df01b2ce1eb6',\n      l1Address: '0xaf5191b0de278c7286d6c7cc6ab6bb8a73ba2cd6',\n      l2Address: '0xe018c7a3d175fb0fe15d70da2c874d3ca16313ec'\n    },\n    {\n      symbol: 'HND',\n      l2CustomAddr: '0x10010078a54396f62c96df8532dc2b4847d47ed3',\n      l1Address: '0x10010078a54396F62c96dF8532dc2B4847d47ED3',\n      l2Address: '0x626195b5a8b5f865E3516201D6ac30ee1B46A6e9'\n    },\n    // We comment this out because when user tries to deposit FRAX,\n    // we show a dialog to use a fast bridge (Celer) instead\n    // and the user can never make a deposit on our UI\n    // eventually we should do that to all other withdraw-only\n    // tokens as well\n    // {\n    //   symbol: 'FRAX',\n    //   l2CustomAddr: '0x17FC002b466eEc40DaE837Fc4bE5c67993ddBd6F',\n    //   l1Address: '0x853d955aCEf822Db058eb8505911ED77F175b99e',\n    //   l2Address: '0x7468a5d8E02245B00E8C0217fCE021C70Bc51305'\n    // },\n    {\n      symbol: 'FXS',\n      l2CustomAddr: '0x9d2F299715D94d8A7E6F5eaa8E654E8c74a988A7',\n      l1Address: '0x3432B6A60D23Ca0dFCa7761B7ab56459D9C964D0',\n      l2Address: '0xd9f9d2Ee2d3EFE420699079f16D9e924affFdEA4'\n    },\n    {\n      symbol: 'gOHM',\n      l2CustomAddr: '0x8D9bA570D6cb60C7e3e0F31343Efe75AB8E65FB1',\n      l1Address: '0x0ab87046fBb341D058F17CBC4c1133F25a20a52f',\n      l2Address: '0x0D5f2b781A13722bA19e35857Fb6676594824960'\n    },\n    {\n      symbol: 'alUSD',\n      l2CustomAddr: '0xCB8FA9a76b8e203D8C3797bF438d8FB81Ea3326A',\n      l1Address: '0xbc6da0fe9ad5f3b0d58160288917aa56653660e9',\n      l2Address: '0x95d2C35934f4eA0076E6f5e8d6edd8080666F84e'\n    },\n    {\n      symbol: 'alETH',\n      l2CustomAddr: '',\n      l1Address: '0x0100546F2cD4C9D97f798fFC9755E47865FF7Ee6',\n      l2Address: '0xC05A105F4EC1ef28a4e7c0cb30Cb791B40FdD66B'\n    },\n    {\n      symbol: 'gALCX',\n      l2CustomAddr: '0x870d36B8AD33919Cc57FFE17Bb5D3b84F3aDee4f',\n      l1Address: '0x93dede06ae3b5590af1d4c111bc54c3f717e4b35',\n      l2Address: '0xEa4d9cE1fE1134528402A79f7B7Eacf87a930C8F'\n    },\n    {\n      symbol: 'USX',\n      l2CustomAddr: '0x641441c631e2f909700d2f41fd87f0aa6a6b4edb',\n      l1Address: '0x0a5e677a6a24b2f1a2bf4f3bffc443231d2fdec8',\n      l2Address: '0xcd14C3A2ba27819B352aae73414A26e2b366dC50'\n    },\n    {\n      symbol: 'SYN',\n      l2CustomAddr: '0x080f6aed32fc474dd5717105dba5ea57268f46eb',\n      l1Address: '0x0f2d719407fdbeff09d87557abb7232601fd9f29',\n      l2Address: '0x1bcfc0b4ee1471674cd6a9f6b363a034375ead84'\n    },\n    {\n      symbol: 'EMAX',\n      l2CustomAddr: '0x123389C2f0e9194d9bA98c21E63c375B67614108',\n      l1Address: '0x15874d65e649880c2614e7a480cb7c9A55787FF6',\n      l2Address: '0x94293e4e6ab410E898aa68318D0A964106Ff3257'\n    },\n    {\n      symbol: 'RELAY',\n      l2CustomAddr: '0x1426CF37CAA89628C4DA2864e40cF75E6d66Ac6b',\n      l1Address: '0x5D843Fa9495d23dE997C394296ac7B4D721E841c',\n      l2Address: '0xaFB5E28Be361248c18bf26647C3D0F1f141129a7'\n    },\n    {\n      symbol: 'tBTC',\n      l2CustomAddr: '0x6c84a8f1c29108F47a79964b5Fe888D4f4D0dE40',\n      l1Address: '0x18084fba666a33d37592fa2633fd49a74dd93a88',\n      l2Address: '0x7E2a1eDeE171C5B19E6c54D73752396C0A572594'\n    },\n    {\n      symbol: 'RDNT',\n      l2CustomAddr: '0x3082CC23568eA640225c2467653dB90e9250AaA0',\n      l1Address: '0x137dDB47Ee24EaA998a535Ab00378d6BFa84F893',\n      l2Address: '0xa4431f62db9955bfd056c30e5ae703bf0d0eaec8'\n    }\n  ],\n  [ChainId.ArbitrumNova]: []\n}\n\nexport function isWithdrawOnlyToken(erc20L1Address: string, chainId: number) {\n  return (withdrawOnlyTokens[chainId] ?? [])\n    .map(token => token.l1Address.toLowerCase())\n    .includes(erc20L1Address.toLowerCase())\n}\n","import { ChainId } from '../util/networks'\n\nexport type TransferDisabledToken = {\n  symbol: string\n  l1Address: string\n  l2Address: string\n}\n\nconst transferDisabledTokens: { [chainId: number]: TransferDisabledToken[] } = {\n  [ChainId.ArbitrumOne]: [\n    {\n      symbol: 'rDPX',\n      l1Address: '0x0ff5A8451A839f5F0BB3562689D9A44089738D11',\n      l2Address: '0x32Eb7902D4134bf98A28b963D26de779AF92A212'\n    }\n  ]\n}\n\nexport function isTransferDisabledToken(\n  erc20L1Address: string,\n  chainId: number\n) {\n  return (transferDisabledTokens[chainId] ?? [])\n    .map(token => token.l1Address.toLowerCase())\n    .includes(erc20L1Address.toLowerCase())\n}\n","import { useMemo } from 'react'\nimport { useAccount } from 'wagmi'\nimport { utils } from 'ethers'\n\nimport { useAccountType } from '../../hooks/useAccountType'\nimport { useAppState } from '../../state'\nimport { useBalance } from '../../hooks/useBalance'\nimport { useNativeCurrency } from '../../hooks/useNativeCurrency'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport {\n  isTokenArbitrumGoerliNativeUSDC,\n  isTokenArbitrumOneNativeUSDC\n} from '../../util/TokenUtils'\nimport { useIsSwitchingL2Chain } from './TransferPanelMainUtils'\nimport { useAppContextState } from '../App/AppContext'\nimport { useDestinationAddressStore } from './AdvancedSettings'\nimport { UseGasSummaryResult } from './TransferPanelSummary'\nimport { isWithdrawOnlyToken } from '../../util/WithdrawOnlyUtils'\nimport {\n  TransferReadinessRichErrorMessage,\n  getInsufficientFundsErrorMessage,\n  getInsufficientFundsForGasFeesErrorMessage,\n  getSmartContractWalletNativeCurrencyTransfersNotSupportedErrorMessage\n} from './useTransferReadinessUtils'\nimport { ether } from '../../constants'\nimport { isTransferDisabledToken } from '../../util/TokenTransferDisabledUtils'\n\nfunction sanitizeEstimatedGasFees(\n  gasSummary: UseGasSummaryResult,\n  options: { isSmartContractWallet: boolean; isDepositMode: boolean }\n) {\n  // For smart contract wallets, the relayer pays the gas fees\n  if (options.isSmartContractWallet) {\n    if (options.isDepositMode) {\n      // The L2 fee is paid in callvalue and needs to come from the smart contract wallet for retryable cost estimation to succeed\n      return {\n        estimatedL1GasFees: 0,\n        estimatedL2GasFees: gasSummary.estimatedL2GasFees\n      }\n    }\n\n    return {\n      estimatedL1GasFees: 0,\n      estimatedL2GasFees: 0\n    }\n  }\n\n  return {\n    estimatedL1GasFees: gasSummary.estimatedL1GasFees,\n    estimatedL2GasFees: gasSummary.estimatedL2GasFees\n  }\n}\n\nfunction withdrawalDisabled(token: string) {\n  return [\n    '0x0e192d382a36de7011f795acc4391cd302003606',\n    '0x488cc08935458403a0458e45e20c0159c8ab2c92'\n  ].includes(token.toLowerCase())\n}\n\nfunction ready() {\n  const result: UseTransferReadinessResult = {\n    transferReady: { deposit: true, withdrawal: true }\n  }\n\n  return result\n}\n\nfunction notReady(\n  params: {\n    errorMessage: string | TransferReadinessRichErrorMessage | undefined\n  } = {\n    errorMessage: undefined\n  }\n) {\n  const result: UseTransferReadinessResult = {\n    transferReady: { deposit: false, withdrawal: false }\n  }\n\n  return { ...result, ...params }\n}\n\nexport type UseTransferReadinessTransferReady = {\n  deposit: boolean\n  withdrawal: boolean\n}\n\nexport type UseTransferReadinessResult = {\n  transferReady: UseTransferReadinessTransferReady\n  errorMessage?: string | TransferReadinessRichErrorMessage\n}\n\nexport function useTransferReadiness({\n  amount,\n  gasSummary\n}: {\n  amount: string\n  gasSummary: UseGasSummaryResult\n}): UseTransferReadinessResult {\n  const {\n    app: { isDepositMode, selectedToken }\n  } = useAppState()\n  const {\n    layout: { isTransferring }\n  } = useAppContextState()\n  const {\n    l1: { provider: l1Provider, network: l1Network },\n    l2: { provider: l2Provider, network: l2Network }\n  } = useNetworksAndSigners()\n  const { address: walletAddress } = useAccount()\n  const { isSmartContractWallet } = useAccountType()\n  const isSwitchingL2Chain = useIsSwitchingL2Chain()\n  const nativeCurrency = useNativeCurrency({ provider: l2Provider })\n  const {\n    eth: [ethL1Balance],\n    erc20: [erc20L1Balances]\n  } = useBalance({ provider: l1Provider, walletAddress })\n  const {\n    eth: [ethL2Balance],\n    erc20: [erc20L2Balances]\n  } = useBalance({ provider: l2Provider, walletAddress })\n  const { error: destinationAddressError } = useDestinationAddressStore()\n\n  const ethL1BalanceFloat = useMemo(\n    () => (ethL1Balance ? parseFloat(utils.formatEther(ethL1Balance)) : null),\n    [ethL1Balance]\n  )\n\n  const ethL2BalanceFloat = useMemo(\n    () => (ethL2Balance ? parseFloat(utils.formatEther(ethL2Balance)) : null),\n    [ethL2Balance]\n  )\n\n  const selectedTokenL1BalanceFloat = useMemo(() => {\n    if (!selectedToken) {\n      return null\n    }\n\n    const balance = erc20L1Balances?.[selectedToken.address.toLowerCase()]\n\n    if (!balance) {\n      return null\n    }\n\n    return parseFloat(utils.formatUnits(balance, selectedToken.decimals))\n  }, [selectedToken, erc20L1Balances])\n\n  const selectedTokenL2BalanceFloat = useMemo(() => {\n    if (!selectedToken) {\n      return null\n    }\n\n    const isL2NativeUSDC =\n      isTokenArbitrumOneNativeUSDC(selectedToken.address) ||\n      isTokenArbitrumGoerliNativeUSDC(selectedToken.address)\n\n    const selectedTokenL2Address = isL2NativeUSDC\n      ? selectedToken.address.toLowerCase()\n      : (selectedToken.l2Address || '').toLowerCase()\n\n    const balance = erc20L2Balances?.[selectedTokenL2Address]\n\n    if (!balance) {\n      return null\n    }\n\n    return parseFloat(utils.formatUnits(balance, selectedToken.decimals))\n  }, [selectedToken, erc20L2Balances])\n\n  const customFeeTokenL1BalanceFloat = useMemo(() => {\n    if (!nativeCurrency.isCustom) {\n      return null\n    }\n\n    const balance = erc20L1Balances?.[nativeCurrency.address]\n\n    if (!balance) {\n      return null\n    }\n\n    return parseFloat(utils.formatUnits(balance, nativeCurrency.decimals))\n  }, [nativeCurrency, erc20L1Balances])\n\n  return useMemo(() => {\n    if (!amount) {\n      return notReady()\n    }\n\n    if (isTransferring || isSwitchingL2Chain) {\n      return notReady()\n    }\n\n    // native currency (ETH or custom fee token) transfers using SC wallets not enabled yet\n    if (isSmartContractWallet && !selectedToken) {\n      return notReady({\n        errorMessage:\n          getSmartContractWalletNativeCurrencyTransfersNotSupportedErrorMessage(\n            { asset: nativeCurrency.symbol }\n          )\n      })\n    }\n\n    // Check if destination address is valid for ERC20 transfers\n    if (destinationAddressError) {\n      return notReady()\n    }\n\n    const sourceChain = isDepositMode ? l1Network.name : l2Network.name\n\n    const ethBalanceFloat = isDepositMode\n      ? ethL1BalanceFloat\n      : ethL2BalanceFloat\n\n    const selectedTokenBalanceFloat = isDepositMode\n      ? selectedTokenL1BalanceFloat\n      : selectedTokenL2BalanceFloat\n\n    const customFeeTokenBalanceFloat = isDepositMode\n      ? customFeeTokenL1BalanceFloat\n      : ethL2BalanceFloat\n\n    // No error while loading balance\n    if (ethBalanceFloat === null) {\n      return notReady()\n    }\n\n    // ERC-20\n    if (selectedToken) {\n      const selectedTokenIsWithdrawOnly = isWithdrawOnlyToken(\n        selectedToken.address,\n        l2Network.id\n      )\n\n      const selectedTokenIsDisabled = isTransferDisabledToken(\n        selectedToken.address,\n        l2Network.id\n      )\n\n      if (isDepositMode && selectedTokenIsWithdrawOnly) {\n        return notReady({\n          errorMessage: TransferReadinessRichErrorMessage.TOKEN_WITHDRAW_ONLY\n        })\n      } else if (selectedTokenIsDisabled) {\n        return notReady({\n          errorMessage:\n            TransferReadinessRichErrorMessage.TOKEN_TRANSFER_DISABLED\n        })\n      } else if (withdrawalDisabled(selectedToken.address)) {\n        return notReady()\n      }\n\n      // No error while loading balance\n      if (selectedTokenBalanceFloat === null) {\n        return notReady()\n      }\n\n      // Check amount against ERC-20 balance\n      if (Number(amount) > selectedTokenBalanceFloat) {\n        return notReady({\n          errorMessage: getInsufficientFundsErrorMessage({\n            asset: selectedToken.symbol,\n            chain: sourceChain\n          })\n        })\n      }\n    }\n    // Custom fee token\n    else if (nativeCurrency.isCustom) {\n      // No error while loading balance\n      if (customFeeTokenBalanceFloat === null) {\n        return notReady()\n      }\n\n      // Check amount against custom fee token balance\n      if (Number(amount) > customFeeTokenBalanceFloat) {\n        return notReady({\n          errorMessage: getInsufficientFundsErrorMessage({\n            asset: nativeCurrency.symbol,\n            chain: sourceChain\n          })\n        })\n      }\n    }\n    // ETH\n    // Check amount against ETH balance\n    else if (Number(amount) > ethBalanceFloat) {\n      return notReady({\n        errorMessage: getInsufficientFundsErrorMessage({\n          asset: ether.symbol,\n          chain: sourceChain\n        })\n      })\n    }\n\n    // The amount entered is enough funds, but now let's include gas costs\n    switch (gasSummary.status) {\n      // No error while loading gas costs\n      case 'idle':\n      case 'loading':\n        return notReady()\n\n      case 'unavailable':\n        return ready()\n\n      case 'error':\n        return notReady({\n          errorMessage: TransferReadinessRichErrorMessage.GAS_ESTIMATION_FAILURE\n        })\n\n      case 'success': {\n        const { estimatedL1GasFees, estimatedL2GasFees } =\n          sanitizeEstimatedGasFees(gasSummary, {\n            isSmartContractWallet,\n            isDepositMode\n          })\n\n        if (selectedToken) {\n          // If depositing into a custom fee token network, gas is split between ETH and the custom fee token\n          if (nativeCurrency.isCustom && isDepositMode) {\n            // Still loading custom fee token balance\n            if (customFeeTokenL1BalanceFloat === null) {\n              return notReady()\n            }\n\n            // We have to check if there's enough ETH to cover L1 gas\n            if (estimatedL1GasFees > ethBalanceFloat) {\n              return notReady({\n                errorMessage: getInsufficientFundsForGasFeesErrorMessage({\n                  asset: ether.symbol,\n                  chain: sourceChain\n                })\n              })\n            }\n\n            // We have to check if there's enough of the custom fee token to cover L2 gas\n            if (estimatedL2GasFees > customFeeTokenL1BalanceFloat) {\n              return notReady({\n                errorMessage: getInsufficientFundsForGasFeesErrorMessage({\n                  asset: nativeCurrency.symbol,\n                  chain: sourceChain\n                })\n              })\n            }\n\n            return ready()\n          }\n\n          // Everything is paid in ETH, so we sum it up\n          if (estimatedL1GasFees + estimatedL2GasFees > ethBalanceFloat) {\n            return notReady({\n              errorMessage: getInsufficientFundsForGasFeesErrorMessage({\n                asset: ether.symbol,\n                chain: sourceChain\n              })\n            })\n          }\n\n          return ready()\n        }\n\n        if (nativeCurrency.isCustom && isDepositMode) {\n          // Deposits of the custom fee token will be paid in ETH, so we have to check if there's enough ETH to cover L1 gas\n          // Withdrawals of the custom fee token will be treated same as ETH withdrawals (in the case below)\n          if (estimatedL1GasFees + estimatedL2GasFees > ethBalanceFloat) {\n            return notReady({\n              errorMessage: getInsufficientFundsForGasFeesErrorMessage({\n                asset: ether.symbol,\n                chain: sourceChain\n              })\n            })\n          }\n\n          return ready()\n        }\n\n        // Everything is in the same currency\n        // This case also handles custom fee token withdrawals, as `ethBalanceFloat` will reflect the custom fee token balance on the Orbit chain\n        const total = Number(amount) + estimatedL1GasFees + estimatedL2GasFees\n\n        if (total > ethBalanceFloat) {\n          return notReady({\n            errorMessage: getInsufficientFundsForGasFeesErrorMessage({\n              asset: nativeCurrency.symbol,\n              chain: sourceChain\n            })\n          })\n        }\n\n        return ready()\n      }\n    }\n  }, [\n    amount,\n    isDepositMode,\n    isSmartContractWallet,\n    isTransferring,\n    isSwitchingL2Chain,\n    destinationAddressError,\n    l1Network,\n    l2Network,\n    selectedToken,\n    gasSummary,\n    nativeCurrency,\n    ethL1BalanceFloat,\n    ethL2BalanceFloat,\n    selectedTokenL1BalanceFloat,\n    selectedTokenL2BalanceFloat,\n    customFeeTokenL1BalanceFloat\n  ])\n}\n","import { useState, useMemo, useCallback } from 'react'\nimport Tippy from '@tippyjs/react'\nimport { BigNumber, constants, utils } from 'ethers'\nimport { isAddress } from 'ethers/lib/utils'\nimport { useLatest } from 'react-use'\nimport { twMerge } from 'tailwind-merge'\nimport * as Sentry from '@sentry/react'\nimport { useAccount, useProvider, useSigner } from 'wagmi'\nimport { ERC20__factory } from '@arbitrum/sdk/dist/lib/abi/factories/ERC20__factory'\nimport { JsonRpcProvider } from '@ethersproject/providers'\nimport { Erc20Bridger, EthBridger } from '@arbitrum/sdk'\n\nimport { useAppState } from '../../state'\nimport { getNetworkName, isNetwork } from '../../util/networks'\nimport { Button } from '../common/Button'\nimport {\n  TokenDepositCheckDialog,\n  TokenDepositCheckDialogType\n} from './TokenDepositCheckDialog'\nimport { TokenImportDialog } from './TokenImportDialog'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { useArbQueryParams } from '../../hooks/useArbQueryParams'\nimport { useDialog } from '../common/Dialog'\nimport { TokenApprovalDialog } from './TokenApprovalDialog'\nimport { WithdrawalConfirmationDialog } from './WithdrawalConfirmationDialog'\nimport { DepositConfirmationDialog } from './DepositConfirmationDialog'\nimport { TransferPanelSummary, useGasSummary } from './TransferPanelSummary'\nimport {\n  TransactionHistoryTab,\n  useAppContextActions,\n  useAppContextState\n} from '../App/AppContext'\nimport { trackEvent, shouldTrackAnalytics } from '../../util/AnalyticsUtils'\nimport { TransferPanelMain } from './TransferPanelMain'\nimport { NonCanonicalTokensBridgeInfo } from '../../util/fastBridges'\nimport { tokenRequiresApprovalOnL2 } from '../../util/L2ApprovalUtils'\nimport {\n  getL2ERC20Address,\n  fetchErc20Allowance,\n  fetchErc20L1GatewayAddress,\n  fetchErc20L2GatewayAddress,\n  isTokenArbitrumGoerliNativeUSDC,\n  isTokenArbitrumOneNativeUSDC,\n  isTokenGoerliUSDC,\n  isTokenMainnetUSDC\n} from '../../util/TokenUtils'\nimport { useBalance } from '../../hooks/useBalance'\nimport { useSwitchNetworkWithConfig } from '../../hooks/useSwitchNetworkWithConfig'\nimport { useIsConnectedToArbitrum } from '../../hooks/useIsConnectedToArbitrum'\nimport { useIsConnectedToOrbitChain } from '../../hooks/useIsConnectedToOrbitChain'\nimport { errorToast, warningToast } from '../common/atoms/Toast'\nimport { ExternalLink } from '../common/ExternalLink'\nimport { useAccountType } from '../../hooks/useAccountType'\nimport { DOCS_DOMAIN, GET_HELP_LINK } from '../../constants'\nimport {\n  getDestinationAddressError,\n  useDestinationAddressStore\n} from './AdvancedSettings'\nimport { USDCDepositConfirmationDialog } from './USDCDeposit/USDCDepositConfirmationDialog'\nimport { USDCWithdrawalConfirmationDialog } from './USDCWithdrawal/USDCWithdrawalConfirmationDialog'\nimport { CustomFeeTokenApprovalDialog } from './CustomFeeTokenApprovalDialog'\nimport { fetchPerMessageBurnLimit } from '../../hooks/CCTP/fetchCCTPLimits'\nimport { isUserRejectedError } from '../../util/isUserRejectedError'\nimport { formatAmount } from '../../util/NumberUtils'\nimport {\n  getUsdcTokenAddressFromSourceChainId,\n  useCctpFetching\n} from '../../state/cctpState'\nimport { getAttestationHashAndMessageFromReceipt } from '../../util/cctp/getAttestationHashAndMessageFromReceipt'\nimport { DepositStatus, MergedTransaction } from '../../state/app/state'\nimport { getStandardizedTimestamp } from '../../state/app/utils'\nimport { getContracts, useCCTP } from '../../hooks/CCTP/useCCTP'\nimport { useNativeCurrency } from '../../hooks/useNativeCurrency'\nimport { AssetType } from '../../hooks/arbTokenBridge.types'\nimport { useStyles } from '../../hooks/TransferPanel/useStyles'\nimport {\n  ImportTokenModalStatus,\n  getWarningTokenDescription,\n  onTxError\n} from './TransferPanelUtils'\nimport { useImportTokenModal } from '../../hooks/TransferPanel/useImportTokenModal'\nimport { useSummaryVisibility } from '../../hooks/TransferPanel/useSummaryVisibility'\nimport { useTransferReadiness } from './useTransferReadiness'\n\nconst isAllowedL2 = async ({\n  l1TokenAddress,\n  l2TokenAddress,\n  walletAddress,\n  amountNeeded,\n  l2Provider\n}: {\n  l1TokenAddress: string\n  l2TokenAddress: string\n  walletAddress: string\n  amountNeeded: BigNumber\n  l2Provider: JsonRpcProvider\n}) => {\n  const token = ERC20__factory.connect(l2TokenAddress, l2Provider)\n\n  const gatewayAddress = await fetchErc20L2GatewayAddress({\n    erc20L1Address: l1TokenAddress,\n    l2Provider\n  })\n\n  return (await token.allowance(walletAddress, gatewayAddress)).gte(\n    amountNeeded\n  )\n}\n\nfunction useTokenFromSearchParams(): string | undefined {\n  const [{ token: tokenFromSearchParams }] = useArbQueryParams()\n\n  if (!tokenFromSearchParams) {\n    return undefined\n  }\n\n  if (!isAddress(tokenFromSearchParams)) {\n    return undefined\n  }\n\n  return tokenFromSearchParams\n}\n\nconst networkConnectionWarningToast = () =>\n  warningToast(\n    <>\n      Network connection issue. Please contact{' '}\n      <ExternalLink href={GET_HELP_LINK} className=\"underline\">\n        support\n      </ExternalLink>\n      .\n    </>\n  )\n\nexport function TransferPanel() {\n  const tokenFromSearchParams = useTokenFromSearchParams()\n\n  const [tokenDepositCheckDialogType, setTokenDepositCheckDialogType] =\n    useState<TokenDepositCheckDialogType>('new-token')\n  const [importTokenModalStatus, setImportTokenModalStatus] =\n    useState<ImportTokenModalStatus>(ImportTokenModalStatus.IDLE)\n  const [showSCWalletTooltip, setShowSCWalletTooltip] = useState(false)\n\n  const {\n    app: {\n      connectionState,\n      selectedToken,\n      isDepositMode,\n      arbTokenBridgeLoaded,\n      arbTokenBridge: { eth, token },\n      warningTokens\n    }\n  } = useAppState()\n  const { layout } = useAppContextState()\n  const { isTransferring } = layout\n  const { address: walletAddress, isConnected } = useAccount()\n  const provider = useProvider()\n  const { switchNetworkAsync } = useSwitchNetworkWithConfig({\n    isSwitchingNetworkBeforeTx: true\n  })\n  const latestConnectedProvider = useLatest(provider)\n\n  const networksAndSigners = useNetworksAndSigners()\n  const latestNetworksAndSigners = useLatest(networksAndSigners)\n  const {\n    l1: { network: l1Network, provider: l1Provider },\n    l2: { network: l2Network, provider: l2Provider }\n  } = networksAndSigners\n\n  const { isEOA, isSmartContractWallet } = useAccountType()\n\n  const { data: l1Signer } = useSigner({\n    chainId: l1Network.id\n  })\n  const { data: l2Signer } = useSigner({\n    chainId: l2Network.id\n  })\n\n  const { setPendingTransfer } = useCctpFetching({\n    l1ChainId: l1Network.id,\n    l2ChainId: l2Network.id,\n    walletAddress,\n    pageSize: 10,\n    pageNumber: 0,\n    type: 'all'\n  })\n\n  const {\n    openTransactionHistoryPanel,\n    setTransferring,\n    showCctpDepositsTransactions,\n    showCctpWithdrawalsTransactions,\n    setTransactionHistoryTab\n  } = useAppContextActions()\n\n  const { isArbitrumNova } = isNetwork(l2Network.id)\n\n  const latestEth = useLatest(eth)\n  const latestToken = useLatest(token)\n\n  const isConnectedToArbitrum = useLatest(useIsConnectedToArbitrum())\n  const isConnectedToOrbitChain = useLatest(useIsConnectedToOrbitChain())\n\n  const { depositButtonColorClassName, withdrawalButtonColorClassName } =\n    useStyles()\n\n  // Link the amount state directly to the amount in query params -  no need of useState\n  // Both `amount` getter and setter will internally be using `useArbQueryParams` functions\n  const [{ amount }, setQueryParams] = useArbQueryParams()\n\n  const setAmount = useCallback(\n    (newAmount: string) => {\n      setQueryParams({ amount: newAmount })\n    },\n    [setQueryParams]\n  )\n\n  const { approveForBurn, depositForBurn } = useCCTP({\n    sourceChainId: isDepositMode\n      ? latestNetworksAndSigners.current.l1.network.id\n      : latestNetworksAndSigners.current.l2.network.id\n  })\n\n  const [tokenCheckDialogProps, openTokenCheckDialog] = useDialog()\n  const [tokenApprovalDialogProps, openTokenApprovalDialog] = useDialog()\n  const [customFeeTokenApprovalDialogProps, openCustomFeeTokenApprovalDialog] =\n    useDialog()\n  const [withdrawalConfirmationDialogProps, openWithdrawalConfirmationDialog] =\n    useDialog()\n  const [depositConfirmationDialogProps, openDepositConfirmationDialog] =\n    useDialog()\n  const [\n    usdcWithdrawalConfirmationDialogProps,\n    openUSDCWithdrawalConfirmationDialog\n  ] = useDialog()\n  const [\n    usdcDepositConfirmationDialogProps,\n    openUSDCDepositConfirmationDialog\n  ] = useDialog()\n\n  const {\n    eth: [ethL1Balance],\n    erc20: [erc20L1Balances]\n  } = useBalance({ provider: l1Provider, walletAddress })\n  const {\n    eth: [ethL2Balance],\n    erc20: [erc20L2Balances]\n  } = useBalance({ provider: l2Provider, walletAddress })\n\n  const nativeCurrency = useNativeCurrency({ provider: l2Provider })\n\n  const [allowance, setAllowance] = useState<BigNumber | null>(null)\n  const [isCctp, setIsCctp] = useState(false)\n\n  const { destinationAddress } = useDestinationAddressStore()\n\n  function clearAmountInput() {\n    // clear amount input on transfer panel\n    setAmount('')\n  }\n\n  useImportTokenModal({\n    importTokenModalStatus,\n    connectionState,\n    setImportTokenModalStatus\n  })\n\n  const ethL1BalanceFloat = useMemo(\n    () => (ethL1Balance ? parseFloat(utils.formatEther(ethL1Balance)) : null),\n    [ethL1Balance]\n  )\n\n  const ethL2BalanceFloat = useMemo(\n    () => (ethL2Balance ? parseFloat(utils.formatEther(ethL2Balance)) : null),\n    [ethL2Balance]\n  )\n\n  const selectedTokenL1BalanceFloat = useMemo(() => {\n    if (!selectedToken) {\n      return null\n    }\n\n    const balance = erc20L1Balances?.[selectedToken.address.toLowerCase()]\n\n    if (!balance) {\n      return null\n    }\n\n    return parseFloat(utils.formatUnits(balance, selectedToken.decimals))\n  }, [selectedToken, erc20L1Balances])\n\n  const selectedTokenL2BalanceFloat = useMemo(() => {\n    if (!selectedToken) {\n      return null\n    }\n\n    const isL2NativeUSDC =\n      isTokenArbitrumOneNativeUSDC(selectedToken.address) ||\n      isTokenArbitrumGoerliNativeUSDC(selectedToken.address)\n\n    const selectedTokenL2Address = isL2NativeUSDC\n      ? selectedToken.address.toLowerCase()\n      : (selectedToken.l2Address || '').toLowerCase()\n\n    const balance = erc20L2Balances?.[selectedTokenL2Address]\n\n    if (!balance) {\n      return null\n    }\n\n    return parseFloat(utils.formatUnits(balance, selectedToken.decimals))\n  }, [selectedToken, erc20L2Balances])\n\n  const customFeeTokenL1BalanceFloat = useMemo(() => {\n    if (!nativeCurrency.isCustom) {\n      return null\n    }\n\n    const balance = erc20L1Balances?.[nativeCurrency.address]\n\n    if (!balance) {\n      return null\n    }\n\n    return parseFloat(utils.formatUnits(balance, nativeCurrency.decimals))\n  }, [nativeCurrency, erc20L1Balances])\n\n  const isBridgingANewStandardToken = useMemo(() => {\n    const isConnected = typeof l1Network !== 'undefined'\n    const isUnbridgedToken =\n      selectedToken !== null && typeof selectedToken.l2Address === 'undefined'\n\n    return isConnected && isDepositMode && isUnbridgedToken\n  }, [l1Network, isDepositMode, selectedToken])\n\n  const isNonCanonicalToken = useMemo(() => {\n    if (selectedToken) {\n      return Object.keys(NonCanonicalTokensBridgeInfo)\n        .map(key => key.toLowerCase())\n        .includes(selectedToken.address.toLowerCase())\n    }\n    return false\n  }, [selectedToken])\n\n  async function depositToken() {\n    if (!selectedToken) {\n      throw new Error('Invalid app state: no selected token')\n    }\n\n    function getDialogType(): TokenDepositCheckDialogType | null {\n      let type: TokenDepositCheckDialogType | null = null\n\n      if (isBridgingANewStandardToken) {\n        type = 'new-token'\n      } else {\n        const isUserAddedToken =\n          selectedToken &&\n          selectedToken?.listIds.size === 0 &&\n          typeof selectedToken.l2Address === 'undefined'\n\n        if (isUserAddedToken) {\n          type = 'user-added-token'\n        }\n      }\n\n      return type\n    }\n\n    // Check if we need to show `TokenDepositCheckDialog` for first-time bridging\n    const dialogType = getDialogType()\n\n    if (dialogType) {\n      setTokenDepositCheckDialogType(dialogType)\n\n      const waitForInput = openTokenCheckDialog()\n      const [confirmed] = await waitForInput()\n\n      if (confirmed) {\n        transfer()\n      }\n    } else {\n      transfer()\n    }\n  }\n\n  async function approveCustomFeeTokenForInbox(): Promise<boolean> {\n    if (typeof walletAddress === 'undefined') {\n      throw new Error('walletAddress is undefined')\n    }\n\n    if (!l1Signer) {\n      throw new Error('failed to find signer')\n    }\n\n    const ethBridger = await EthBridger.fromProvider(l2Provider)\n    const { l2Network } = ethBridger\n\n    if (typeof l2Network.nativeToken === 'undefined') {\n      throw new Error('l2 network does not use custom fee token')\n    }\n\n    const customFeeTokenAllowanceForInbox = await fetchErc20Allowance({\n      address: l2Network.nativeToken,\n      provider: l1Provider,\n      owner: walletAddress,\n      spender: l2Network.ethBridge.inbox\n    })\n\n    const amountBigNumber = utils.parseUnits(amount, nativeCurrency.decimals)\n\n    // We want to bridge a certain amount of the custom fee token, so we have to check if the allowance is enough.\n    if (!customFeeTokenAllowanceForInbox.gte(amountBigNumber)) {\n      const waitForInput = openCustomFeeTokenApprovalDialog()\n      const [confirmed] = await waitForInput()\n\n      if (!confirmed) {\n        return false\n      }\n\n      const approveCustomFeeTokenTx = await ethBridger.approveFeeToken({\n        l1Signer\n      })\n      await approveCustomFeeTokenTx.wait()\n    }\n\n    return true\n  }\n\n  async function approveCustomFeeTokenForGateway(): Promise<boolean> {\n    if (typeof walletAddress === 'undefined') {\n      throw new Error('walletAddress is undefined')\n    }\n\n    if (!l1Signer) {\n      throw new Error('failed to find signer')\n    }\n\n    if (!selectedToken) {\n      throw new Error('no selected token')\n    }\n\n    const erc20Bridger = await Erc20Bridger.fromProvider(l2Provider)\n    const l2Network = erc20Bridger.l2Network\n\n    if (typeof l2Network.nativeToken === 'undefined') {\n      throw new Error('l2 network does not use custom fee token')\n    }\n\n    const l1Gateway = await fetchErc20L1GatewayAddress({\n      erc20L1Address: selectedToken.address,\n      l1Provider,\n      l2Provider\n    })\n\n    const customFeeTokenAllowanceForL1Gateway = await fetchErc20Allowance({\n      address: l2Network.nativeToken,\n      provider: l1Provider,\n      owner: walletAddress,\n      spender: l1Gateway\n    })\n\n    const estimatedL2GasFees = utils.parseUnits(\n      String(gasSummary.estimatedL2GasFees),\n      nativeCurrency.decimals\n    )\n\n    // We want to bridge a certain amount of an ERC-20 token, but the retryable fees on the chain will be paid in the custom fee token\n    // We have to check if the allowance is enough to cover the fees\n    if (!customFeeTokenAllowanceForL1Gateway.gte(estimatedL2GasFees)) {\n      const waitForInput = openCustomFeeTokenApprovalDialog()\n      const [confirmed] = await waitForInput()\n\n      if (!confirmed) {\n        return false\n      }\n\n      const approveCustomFeeTokenTx = await erc20Bridger.approveFeeToken({\n        erc20L1Address: selectedToken.address,\n        l1Signer\n      })\n      await approveCustomFeeTokenTx.wait()\n    }\n\n    return true\n  }\n\n  const amountBigNumber = useMemo(() => {\n    try {\n      const amountSafe = amount || '0'\n\n      if (selectedToken) {\n        return utils.parseUnits(amountSafe, selectedToken.decimals)\n      }\n\n      return utils.parseUnits(amountSafe, nativeCurrency.decimals)\n    } catch (error) {\n      return constants.Zero\n    }\n  }, [amount, selectedToken, nativeCurrency])\n\n  // SC wallet transfer requests are sent immediately, delay it to give user an impression of a tx sent\n  const showDelayedSCTxRequest = () =>\n    setTimeout(() => {\n      setTransferring(false)\n      setShowSCWalletTooltip(true)\n    }, 3000)\n\n  const transferCctp = async (type: 'deposits' | 'withdrawals') => {\n    if (!selectedToken) {\n      return\n    }\n    if (!walletAddress) {\n      return\n    }\n    const isDeposit = type === 'deposits'\n    const signer = isDeposit ? l1Signer : l2Signer\n    if (!signer) {\n      throw 'Signer is undefined'\n    }\n\n    setTransferring(true)\n    let currentNetwork = isDeposit\n      ? latestNetworksAndSigners.current.l1.network\n      : latestNetworksAndSigners.current.l2.network\n\n    const currentNetworkName = getNetworkName(currentNetwork.id)\n    const isConnectedToTheWrongChain =\n      (isDeposit && isConnectedToArbitrum.current) ||\n      (type === 'withdrawals' && !isConnectedToArbitrum.current)\n\n    if (isConnectedToTheWrongChain) {\n      if (shouldTrackAnalytics(currentNetworkName)) {\n        trackEvent('Switch Network and Transfer', {\n          type: isDeposit ? 'Deposit' : 'Withdrawal',\n          tokenSymbol: 'USDC',\n          assetType: 'ERC-20',\n          accountType: isSmartContractWallet ? 'Smart Contract' : 'EOA',\n          network: currentNetworkName,\n          amount: Number(amount)\n        })\n      }\n      const switchTargetChainId = isDeposit\n        ? latestNetworksAndSigners.current.l1.network.id\n        : latestNetworksAndSigners.current.l2.network.id\n      try {\n        await switchNetworkAsync?.(switchTargetChainId)\n        currentNetwork = isDeposit\n          ? latestNetworksAndSigners.current.l1.network\n          : latestNetworksAndSigners.current.l2.network\n      } catch (e) {\n        if (isUserRejectedError(e)) {\n          return\n        }\n      }\n    }\n\n    try {\n      const l1ChainID = latestNetworksAndSigners.current.l1.network.id\n      const l2ChainID = latestNetworksAndSigners.current.l2.network.id\n      const sourceChainId = isDeposit ? l1ChainID : l2ChainID\n\n      const waitForInput = isDeposit\n        ? openUSDCDepositConfirmationDialog()\n        : openUSDCWithdrawalConfirmationDialog()\n      const [confirmed, primaryButtonClicked] = await waitForInput()\n\n      if (!confirmed) {\n        return\n      }\n      if (isDeposit && primaryButtonClicked === 'bridged') {\n        // User has selected normal bridge (USDC.e)\n        depositToken()\n        return\n      }\n\n      // CCTP has an upper limit for transfer\n      const burnLimit = await fetchPerMessageBurnLimit({\n        sourceChainId\n      })\n\n      if (burnLimit.lte(amountBigNumber)) {\n        const formatedLimit = formatAmount(burnLimit, {\n          decimals: selectedToken.decimals,\n          symbol: 'USDC'\n        })\n        errorToast(\n          `The limit for transfers using CCTP is ${formatedLimit}. Please lower your amount and try again.`\n        )\n        return\n      }\n\n      const recipient = destinationAddress || walletAddress\n      const { usdcContractAddress, tokenMessengerContractAddress } =\n        getContracts(sourceChainId)\n\n      const allowance = await fetchErc20Allowance({\n        address: usdcContractAddress,\n        provider: type === 'deposits' ? l1Provider : l2Provider,\n        owner: walletAddress,\n        spender: tokenMessengerContractAddress\n      })\n\n      if (allowance.lt(amountBigNumber)) {\n        setAllowance(allowance)\n        setIsCctp(true)\n        const waitForInput = openTokenApprovalDialog()\n        const [confirmed] = await waitForInput()\n\n        if (!confirmed) {\n          return\n        }\n\n        try {\n          if (isSmartContractWallet) {\n            showDelayedSCTxRequest()\n          }\n          const tx = await approveForBurn(amountBigNumber, signer)\n          await tx.wait()\n        } catch (error) {\n          if (isUserRejectedError(error)) {\n            return\n          }\n          Sentry.captureException(error)\n          errorToast(\n            `USDC approval transaction failed: ${\n              (error as Error)?.message ?? error\n            }`\n          )\n          return\n        }\n      }\n\n      let depositForBurnTx\n      try {\n        if (isSmartContractWallet) {\n          showDelayedSCTxRequest()\n        }\n        depositForBurnTx = await depositForBurn({\n          amount: amountBigNumber,\n          signer,\n          recipient: destinationAddress || walletAddress\n        })\n      } catch (error) {\n        if (isUserRejectedError(error)) {\n          return\n        }\n        Sentry.captureException(error)\n        errorToast(\n          `USDC deposit transaction failed: ${\n            (error as Error)?.message ?? error\n          }`\n        )\n      }\n\n      if (isSmartContractWallet) {\n        // For SCW, we assume that the transaction went through\n        if (shouldTrackAnalytics(currentNetworkName)) {\n          trackEvent(isDeposit ? 'CCTP Deposit' : 'CCTP Withdrawal', {\n            accountType: 'Smart Contract',\n            network: currentNetworkName,\n            amount: Number(amount),\n            complete: false\n          })\n        }\n        return\n      }\n\n      if (!depositForBurnTx) {\n        return\n      }\n\n      if (shouldTrackAnalytics(currentNetworkName)) {\n        trackEvent(isDeposit ? 'CCTP Deposit' : 'CCTP Withdrawal', {\n          accountType: 'EOA',\n          network: currentNetworkName,\n          amount: Number(amount),\n          complete: false\n        })\n      }\n\n      const newTransfer: MergedTransaction = {\n        txId: depositForBurnTx.hash,\n        asset: 'USDC',\n        assetType: AssetType.ERC20,\n        blockNum: null,\n        createdAt: getStandardizedTimestamp(new Date().toString()),\n        direction: isDeposit ? 'deposit' : 'withdraw',\n        isWithdrawal: !isDeposit,\n        resolvedAt: null,\n        status: 'pending',\n        uniqueId: null,\n        value: amount,\n        depositStatus: DepositStatus.CCTP_DEFAULT_STATE,\n        destination: recipient,\n        sender: walletAddress,\n        isCctp: true,\n        tokenAddress: getUsdcTokenAddressFromSourceChainId(sourceChainId),\n        cctpData: {\n          sourceChainId\n        }\n      }\n      setPendingTransfer(newTransfer, isDeposit ? 'deposit' : 'withdrawal')\n\n      if (isDeposit) {\n        showCctpDepositsTransactions()\n      } else {\n        showCctpWithdrawalsTransactions()\n      }\n      setTransactionHistoryTab(TransactionHistoryTab.CCTP)\n      openTransactionHistoryPanel()\n      setTransferring(false)\n      clearAmountInput()\n\n      const depositTxReceipt = await depositForBurnTx.wait()\n      const { messageBytes, attestationHash } =\n        getAttestationHashAndMessageFromReceipt(depositTxReceipt)\n\n      if (depositTxReceipt.status === 0) {\n        errorToast('USDC deposit transaction failed')\n        return\n      }\n\n      if (messageBytes && attestationHash) {\n        setPendingTransfer(\n          {\n            txId: depositForBurnTx.hash,\n            blockNum: depositTxReceipt.blockNumber,\n            status: 'Unconfirmed',\n            cctpData: {\n              attestationHash,\n              messageBytes\n            }\n          },\n          isDeposit ? 'deposit' : 'withdrawal'\n        )\n      }\n    } catch (e) {\n    } finally {\n      setTransferring(false)\n      setIsCctp(false)\n    }\n  }\n\n  const transfer = async () => {\n    const signerUndefinedError = 'Signer is undefined'\n\n    if (!isConnected) {\n      return\n    }\n    if (!walletAddress) {\n      return\n    }\n\n    const hasBothSigners = l1Signer && l2Signer\n    if (isEOA && !hasBothSigners) {\n      throw signerUndefinedError\n    }\n\n    const destinationAddressError = await getDestinationAddressError({\n      destinationAddress,\n      isSmartContractWallet\n    })\n    if (destinationAddressError) {\n      console.error(destinationAddressError)\n      return\n    }\n\n    // SC ETH transfers aren't enabled yet. Safety check, shouldn't be able to get here.\n    if (isSmartContractWallet && !selectedToken) {\n      console.error(\"ETH transfers aren't enabled for smart contract wallets.\")\n      return\n    }\n\n    // Make sure Ethereum and/or Orbit chains are not selected as a pair.\n    const ethereumOrOrbitPairsSelected = [l1Network.id, l2Network.id].every(\n      id => {\n        const { isEthereumMainnetOrTestnet, isOrbitChain } = isNetwork(id)\n        return isEthereumMainnetOrTestnet || isOrbitChain\n      }\n    )\n    if (ethereumOrOrbitPairsSelected) {\n      console.error('Cannot transfer funds between L1 and/or Orbit chains.')\n      return\n    }\n\n    const l2NetworkName = getNetworkName(l2Network.id)\n\n    setTransferring(true)\n\n    try {\n      if (isDepositMode) {\n        if (!l1Signer) {\n          throw signerUndefinedError\n        }\n\n        const warningToken =\n          selectedToken && warningTokens[selectedToken.address.toLowerCase()]\n        if (warningToken) {\n          const description = getWarningTokenDescription(warningToken.type)\n          return window.alert(\n            `${selectedToken?.address} is ${description}; it will likely have unusual behavior when deployed as as standard token to Arbitrum. It is not recommended that you deploy it. (See ${DOCS_DOMAIN}/for-devs/concepts/token-bridge/token-bridge-erc20 for more info.)`\n          )\n        }\n\n        const isParentChainEthereum = isNetwork(\n          l1Network.id\n        ).isEthereumMainnetOrTestnet\n        // Only switch to L1 if the selected L1 network is Ethereum.\n        // Or if connected to an Orbit chain as it can't make deposits.\n        if (\n          (isConnectedToArbitrum.current && isParentChainEthereum) ||\n          isConnectedToOrbitChain.current\n        ) {\n          if (shouldTrackAnalytics(l2NetworkName)) {\n            trackEvent('Switch Network and Transfer', {\n              type: 'Deposit',\n              tokenSymbol: selectedToken?.symbol,\n              assetType: selectedToken ? 'ERC-20' : 'ETH',\n              accountType: isSmartContractWallet ? 'Smart Contract' : 'EOA',\n              network: l2NetworkName,\n              amount: Number(amount)\n            })\n          }\n          await switchNetworkAsync?.(\n            latestNetworksAndSigners.current.l1.network.id\n          )\n\n          while (\n            (isConnectedToArbitrum.current && isParentChainEthereum) ||\n            isConnectedToOrbitChain.current ||\n            !latestEth.current ||\n            !arbTokenBridgeLoaded\n          ) {\n            await new Promise(r => setTimeout(r, 100))\n          }\n\n          await new Promise(r => setTimeout(r, 3000))\n        }\n\n        const l1ChainID = latestNetworksAndSigners.current.l1.network.id\n        const connectedChainID =\n          latestConnectedProvider.current?.network?.chainId\n        const l1ChainEqualsConnectedChain =\n          l1ChainID && connectedChainID && l1ChainID === connectedChainID\n\n        if (!l1ChainEqualsConnectedChain || isConnectedToOrbitChain.current) {\n          // Deposit is invalid if the connected chain doesn't match L1...\n          // ...or if connected to an Orbit chain, as it can't make deposits.\n          return networkConnectionWarningToast()\n        }\n        if (selectedToken) {\n          const { decimals } = selectedToken\n          const amountRaw = utils.parseUnits(amount, decimals)\n\n          // check that a registration is not currently in progress\n          const l2RoutedAddress = await getL2ERC20Address({\n            erc20L1Address: selectedToken.address,\n            l1Provider,\n            l2Provider\n          })\n\n          if (\n            selectedToken.l2Address &&\n            selectedToken.l2Address.toLowerCase() !==\n              l2RoutedAddress.toLowerCase()\n          ) {\n            alert(\n              'Depositing is currently suspended for this token as a new gateway is being registered. Please try again later and contact support if this issue persists.'\n            )\n            return\n          }\n\n          if (isNonCanonicalToken) {\n            const waitForInput = openDepositConfirmationDialog()\n            const [confirmed] = await waitForInput()\n\n            if (!confirmed) {\n              return\n            }\n          }\n\n          if (nativeCurrency.isCustom) {\n            const approved = await approveCustomFeeTokenForGateway()\n\n            if (!approved) {\n              return\n            }\n          }\n\n          const l1GatewayAddress = await fetchErc20L1GatewayAddress({\n            erc20L1Address: selectedToken.address,\n            l1Provider,\n            l2Provider\n          })\n\n          const allowanceForL1Gateway = await fetchErc20Allowance({\n            address: selectedToken.address,\n            provider: l1Provider,\n            owner: walletAddress,\n            spender: l1GatewayAddress\n          })\n\n          if (!allowanceForL1Gateway.gte(amountRaw)) {\n            setAllowance(allowance)\n            const waitForInput = openTokenApprovalDialog()\n            const [confirmed] = await waitForInput()\n\n            if (!confirmed) {\n              return false\n            }\n            await latestToken.current.approve({\n              erc20L1Address: selectedToken.address,\n              l1Signer\n            })\n          }\n\n          if (isSmartContractWallet) {\n            showDelayedSCTxRequest()\n            // we can't call this inside the deposit method because tx is executed in an external app\n            if (shouldTrackAnalytics(l2NetworkName)) {\n              trackEvent('Deposit', {\n                tokenSymbol: selectedToken.symbol,\n                assetType: 'ERC-20',\n                accountType: 'Smart Contract',\n                network: l2NetworkName,\n                amount: Number(amount)\n              })\n            }\n          }\n\n          await latestToken.current.deposit({\n            erc20L1Address: selectedToken.address,\n            amount: amountRaw,\n            l1Signer,\n            destinationAddress,\n            txLifecycle: {\n              onTxSubmit: () => {\n                setTransactionHistoryTab(TransactionHistoryTab.DEPOSITS)\n                openTransactionHistoryPanel()\n                setTransferring(false)\n                clearAmountInput()\n                if (\n                  !isSmartContractWallet &&\n                  shouldTrackAnalytics(l2NetworkName)\n                ) {\n                  trackEvent('Deposit', {\n                    tokenSymbol: selectedToken.symbol,\n                    assetType: 'ERC-20',\n                    accountType: 'EOA',\n                    network: l2NetworkName,\n                    amount: Number(amount)\n                  })\n                }\n              },\n              onTxError\n            }\n          })\n        } else {\n          if (nativeCurrency.isCustom) {\n            const approved = await approveCustomFeeTokenForInbox()\n\n            if (!approved) {\n              return\n            }\n          }\n\n          await latestEth.current.deposit({\n            amount: utils.parseUnits(amount, nativeCurrency.decimals),\n            l1Signer,\n            txLifecycle: {\n              onTxSubmit: () => {\n                setTransactionHistoryTab(TransactionHistoryTab.DEPOSITS)\n                openTransactionHistoryPanel()\n                setTransferring(false)\n                clearAmountInput()\n                if (\n                  !isSmartContractWallet &&\n                  shouldTrackAnalytics(l2NetworkName)\n                ) {\n                  trackEvent('Deposit', {\n                    assetType: 'ETH',\n                    accountType: 'EOA',\n                    network: l2NetworkName,\n                    amount: Number(amount)\n                  })\n                }\n              },\n              onTxError\n            }\n          })\n        }\n      } else {\n        if (!l2Signer) {\n          throw signerUndefinedError\n        }\n\n        const isConnectedToEthereum =\n          !isConnectedToArbitrum.current && !isConnectedToOrbitChain.current\n        const { isOrbitChain } = isNetwork(l2Network.id)\n\n        if (\n          isConnectedToEthereum ||\n          (isConnectedToArbitrum.current && isOrbitChain)\n        ) {\n          if (shouldTrackAnalytics(l2NetworkName)) {\n            trackEvent('Switch Network and Transfer', {\n              type: 'Withdrawal',\n              tokenSymbol: selectedToken?.symbol,\n              assetType: selectedToken ? 'ERC-20' : 'ETH',\n              accountType: isSmartContractWallet ? 'Smart Contract' : 'EOA',\n              network: l2NetworkName,\n              amount: Number(amount)\n            })\n          }\n          await switchNetworkAsync?.(\n            latestNetworksAndSigners.current.l2.network.id\n          )\n\n          while (\n            (!isConnectedToArbitrum.current &&\n              !isConnectedToOrbitChain.current) ||\n            (isConnectedToArbitrum.current && isOrbitChain) ||\n            !latestEth.current ||\n            !arbTokenBridgeLoaded\n          ) {\n            await new Promise(r => setTimeout(r, 100))\n          }\n\n          await new Promise(r => setTimeout(r, 3000))\n        }\n\n        if (!isSmartContractWallet) {\n          const waitForInput = openWithdrawalConfirmationDialog()\n          const [confirmed] = await waitForInput()\n\n          if (!confirmed) {\n            return\n          }\n        }\n\n        const l2ChainID = latestNetworksAndSigners.current.l2.network.id\n        const connectedChainID =\n          latestConnectedProvider.current?.network?.chainId\n        if (\n          !(l2ChainID && connectedChainID && +l2ChainID === connectedChainID)\n        ) {\n          return networkConnectionWarningToast()\n        }\n\n        if (selectedToken) {\n          const { decimals } = selectedToken\n          const amountRaw = utils.parseUnits(amount, decimals)\n\n          if (\n            tokenRequiresApprovalOnL2(selectedToken.address, l2ChainID) &&\n            selectedToken.l2Address\n          ) {\n            const allowed = await isAllowedL2({\n              l1TokenAddress: selectedToken.address,\n              l2TokenAddress: selectedToken.l2Address,\n              walletAddress,\n              amountNeeded: amountRaw,\n              l2Provider: latestNetworksAndSigners.current.l2.provider\n            })\n            if (!allowed) {\n              if (isSmartContractWallet) {\n                showDelayedSCTxRequest()\n              }\n\n              await latestToken.current.approveL2({\n                erc20L1Address: selectedToken.address,\n                l2Signer\n              })\n            }\n          }\n\n          if (isSmartContractWallet) {\n            showDelayedSCTxRequest()\n            // we can't call this inside the withdraw method because tx is executed in an external app\n            if (shouldTrackAnalytics(l2NetworkName)) {\n              trackEvent('Withdraw', {\n                tokenSymbol: selectedToken.symbol,\n                assetType: 'ERC-20',\n                accountType: 'Smart Contract',\n                network: l2NetworkName,\n                amount: Number(amount)\n              })\n            }\n          }\n\n          await latestToken.current.withdraw({\n            erc20L1Address: selectedToken.address,\n            amount: amountRaw,\n            l2Signer,\n            destinationAddress,\n            txLifecycle: {\n              onTxSubmit: () => {\n                setTransactionHistoryTab(TransactionHistoryTab.WITHDRAWALS)\n                openTransactionHistoryPanel()\n                setTransferring(false)\n                clearAmountInput()\n                if (\n                  !isSmartContractWallet &&\n                  shouldTrackAnalytics(l2NetworkName)\n                ) {\n                  trackEvent('Withdraw', {\n                    tokenSymbol: selectedToken.symbol,\n                    assetType: 'ERC-20',\n                    accountType: 'EOA',\n                    network: l2NetworkName,\n                    amount: Number(amount)\n                  })\n                }\n              },\n              onTxError\n            }\n          })\n        } else {\n          await latestEth.current.withdraw({\n            amount: utils.parseUnits(amount, nativeCurrency.decimals),\n            l2Signer,\n            txLifecycle: {\n              onTxSubmit: () => {\n                setTransactionHistoryTab(TransactionHistoryTab.WITHDRAWALS)\n                openTransactionHistoryPanel()\n                setTransferring(false)\n                clearAmountInput()\n                if (\n                  !isSmartContractWallet &&\n                  shouldTrackAnalytics(l2NetworkName)\n                ) {\n                  trackEvent('Withdraw', {\n                    assetType: 'ETH',\n                    accountType: 'EOA',\n                    network: l2NetworkName,\n                    amount: Number(amount)\n                  })\n                }\n              },\n              onTxError\n            }\n          })\n        }\n      }\n    } catch (ex) {\n      console.log(ex)\n    } finally {\n      setTransferring(false)\n    }\n  }\n\n  // Only run gas estimation when it makes sense, i.e. when there is enough funds\n  const shouldRunGasEstimation = useMemo(() => {\n    let balanceFloat: number | null\n\n    // Compare ERC-20 balance\n    if (selectedToken) {\n      balanceFloat = isDepositMode\n        ? selectedTokenL1BalanceFloat\n        : selectedTokenL2BalanceFloat\n    }\n    // Compare custom fee token balance\n    else if (nativeCurrency.isCustom) {\n      balanceFloat = isDepositMode\n        ? customFeeTokenL1BalanceFloat\n        : ethL2BalanceFloat\n    }\n    // Compare ETH balance\n    else {\n      balanceFloat = isDepositMode ? ethL1BalanceFloat : ethL2BalanceFloat\n    }\n\n    if (!balanceFloat) {\n      return false\n    }\n\n    return Number(amount) <= balanceFloat\n  }, [\n    amount,\n    selectedToken,\n    isDepositMode,\n    nativeCurrency,\n    ethL1BalanceFloat,\n    ethL2BalanceFloat,\n    selectedTokenL1BalanceFloat,\n    selectedTokenL2BalanceFloat,\n    customFeeTokenL1BalanceFloat\n  ])\n\n  const gasSummary = useGasSummary(\n    amountBigNumber,\n    selectedToken,\n    shouldRunGasEstimation\n  )\n\n  const { transferReady, errorMessage } = useTransferReadiness({\n    amount,\n    gasSummary\n  })\n\n  const { isSummaryVisible } = useSummaryVisibility({\n    transferReady,\n    gasEstimationStatus: gasSummary.status\n  })\n\n  return (\n    <>\n      <TokenApprovalDialog\n        {...tokenApprovalDialogProps}\n        amount={amount}\n        allowance={allowance}\n        token={selectedToken}\n        isCctp={isCctp}\n      />\n\n      {nativeCurrency.isCustom && (\n        <CustomFeeTokenApprovalDialog\n          {...customFeeTokenApprovalDialogProps}\n          customFeeToken={nativeCurrency}\n        />\n      )}\n\n      <WithdrawalConfirmationDialog\n        {...withdrawalConfirmationDialogProps}\n        amount={amount}\n      />\n\n      <DepositConfirmationDialog\n        {...depositConfirmationDialogProps}\n        amount={amount}\n      />\n\n      <USDCWithdrawalConfirmationDialog\n        {...usdcWithdrawalConfirmationDialogProps}\n        amount={amount}\n      />\n\n      <USDCDepositConfirmationDialog\n        {...usdcDepositConfirmationDialogProps}\n        amount={amount}\n      />\n\n      <div className=\"flex max-w-screen-lg flex-col space-y-6 bg-white shadow-[0px_4px_20px_rgba(0,0,0,0.2)] lg:flex-row lg:space-x-6 lg:space-y-0 lg:rounded-xl\">\n        <TransferPanelMain\n          amount={amount}\n          setAmount={setAmount}\n          errorMessage={errorMessage}\n        />\n\n        <div className=\"border-r border-gray-2\" />\n\n        <div\n          style={\n            isSummaryVisible\n              ? {}\n              : {\n                  background: `url(/images/ArbitrumFaded.webp)`,\n                  backgroundSize: 'contain',\n                  backgroundRepeat: 'no-repeat',\n                  backgroundPosition: 'center'\n                }\n          }\n          className=\"transfer-panel-stats flex w-full flex-col justify-between bg-gray-2 px-6 py-6 lg:rounded-br-xl lg:rounded-tr-xl lg:bg-white lg:px-0 lg:pr-6\"\n        >\n          <div className=\"flex flex-col\">\n            <div className=\"hidden lg:block\">\n              <span className=\"text-2xl text-gray-dark\">Summary</span>\n              <div className=\"h-4\" />\n            </div>\n\n            {isSummaryVisible ? (\n              <TransferPanelSummary\n                amount={parseFloat(amount)}\n                token={selectedToken}\n                gasSummary={gasSummary}\n              />\n            ) : (\n              <div className=\"hidden text-lg text-gray-dark lg:block lg:min-h-[297px]\">\n                <span className=\"text-xl\">\n                  Bridging summary will appear here.\n                </span>\n              </div>\n            )}\n          </div>\n\n          {isDepositMode ? (\n            <Button\n              variant=\"primary\"\n              loading={isTransferring}\n              disabled={!transferReady.deposit}\n              onClick={() => {\n                if (\n                  selectedToken &&\n                  (isTokenMainnetUSDC(selectedToken.address) ||\n                    isTokenGoerliUSDC(selectedToken.address)) &&\n                  !isArbitrumNova\n                ) {\n                  transferCctp('deposits')\n                } else if (selectedToken) {\n                  depositToken()\n                } else {\n                  transfer()\n                }\n              }}\n              className={twMerge(\n                'w-full bg-eth-dark py-4 text-lg lg:text-2xl',\n                depositButtonColorClassName\n              )}\n            >\n              <span className=\"block w-[360px] truncate\">\n                {isSmartContractWallet && isTransferring\n                  ? 'Sending request...'\n                  : `Move funds to ${getNetworkName(l2Network.id)}`}\n              </span>\n            </Button>\n          ) : (\n            <Button\n              variant=\"primary\"\n              loading={isTransferring}\n              disabled={!transferReady.withdrawal}\n              onClick={() => {\n                if (\n                  selectedToken &&\n                  (isTokenArbitrumOneNativeUSDC(selectedToken.address) ||\n                    isTokenArbitrumGoerliNativeUSDC(selectedToken.address))\n                ) {\n                  transferCctp('withdrawals')\n                } else {\n                  transfer()\n                }\n              }}\n              className={twMerge(\n                'w-full py-4 text-lg lg:text-2xl',\n                withdrawalButtonColorClassName\n              )}\n            >\n              <span className=\"block w-[360px] truncate\">\n                {isSmartContractWallet && isTransferring\n                  ? 'Sending request...'\n                  : `Move funds to ${getNetworkName(l1Network.id)}`}\n              </span>\n            </Button>\n          )}\n        </div>\n\n        {typeof tokenFromSearchParams !== 'undefined' && (\n          <TokenImportDialog\n            isOpen={importTokenModalStatus === ImportTokenModalStatus.OPEN}\n            onClose={() =>\n              setImportTokenModalStatus(ImportTokenModalStatus.CLOSED)\n            }\n            tokenAddress={tokenFromSearchParams}\n          />\n        )}\n\n        <TokenDepositCheckDialog\n          {...tokenCheckDialogProps}\n          type={tokenDepositCheckDialogType}\n          symbol={selectedToken ? selectedToken.symbol : nativeCurrency.symbol}\n        />\n\n        {showSCWalletTooltip && (\n          <Tippy\n            placement=\"bottom-end\"\n            maxWidth=\"auto\"\n            onClickOutside={() => setShowSCWalletTooltip(false)}\n            theme=\"orange\"\n            visible={showSCWalletTooltip}\n            content={\n              <div className=\"flex flex-col\">\n                <span>\n                  <b>\n                    To continue, please approve tx on your smart contract\n                    wallet.\n                  </b>\n                </span>\n                <span>\n                  If you have k of n signers, then k of n will need to sign.\n                </span>\n              </div>\n            }\n          >\n            {/* Override margin coming from Tippy that causes layout disruptions */}\n            <div className=\"!m-0\" />\n          </Tippy>\n        )}\n      </div>\n    </>\n  )\n}\n","import {\n  L1TransactionReceipt,\n  L1ToL2MessageWriter as IL1ToL2MessageWriter\n} from '@arbitrum/sdk'\nimport { Signer } from '@ethersproject/abstract-signer'\nimport { Provider } from '@ethersproject/abstract-provider'\nimport dayjs from 'dayjs'\nimport { JsonRpcProvider } from '@ethersproject/providers'\n\ntype GetRetryableTicketParams = {\n  l1TxHash: string\n  retryableCreationId?: string\n  l1Provider: Provider\n  l2Signer: Signer\n}\n\ntype GetRetryableTicketExpirationParams = {\n  l1TxHash: string\n  l1Provider: JsonRpcProvider\n  l2Provider: JsonRpcProvider\n}\n\ntype RetryableTicketExpirationResponse = {\n  isLoading: boolean\n  isLoadingError: boolean\n  expirationDate: number\n  daysUntilExpired: number\n  isExpired: boolean\n}\n\nexport async function getRetryableTicket({\n  l1TxHash,\n  retryableCreationId,\n  l1Provider,\n  l2Signer\n}: GetRetryableTicketParams): Promise<IL1ToL2MessageWriter> {\n  if (!retryableCreationId) {\n    throw new Error(\"Error: Couldn't find retryable ticket creation id\")\n  }\n\n  const l1TxReceipt = new L1TransactionReceipt(\n    await l1Provider.getTransactionReceipt(l1TxHash)\n  )\n\n  const retryableTicket = (await l1TxReceipt.getL1ToL2Messages(l2Signer))\n    // Find message with the matching id\n    .find(m => m.retryableCreationId === retryableCreationId)\n\n  if (typeof retryableTicket === 'undefined') {\n    throw new Error(\"Error: Couldn't find retryable ticket\")\n  }\n\n  return retryableTicket\n}\n\nexport const getRetryableTicketExpiration = async ({\n  l1TxHash,\n  l1Provider,\n  l2Provider\n}: GetRetryableTicketExpirationParams): Promise<RetryableTicketExpirationResponse> => {\n  let isLoading = true,\n    isLoadingError = false,\n    isExpired = false\n\n  let daysUntilExpired = 0\n  let expirationDate = 0\n\n  try {\n    const depositTxReceipt = await l1Provider.getTransactionReceipt(l1TxHash)\n    const l1TxReceipt = new L1TransactionReceipt(depositTxReceipt)\n    const [l1ToL2Msg] = await l1TxReceipt.getL1ToL2Messages(l2Provider)\n\n    const now = dayjs()\n\n    const expiryDateResponse = await l1ToL2Msg!.getTimeout()\n    expirationDate = Number(expiryDateResponse.toString()) * 1000\n\n    daysUntilExpired = dayjs(expirationDate).diff(now, 'days')\n\n    if (daysUntilExpired >= 0) isExpired = false\n  } catch (_) {\n    isLoadingError = true\n  }\n\n  isLoading = false\n\n  return {\n    // promise loading state\n    isLoading,\n    isLoadingError,\n\n    // expiration state\n    expirationDate,\n    daysUntilExpired,\n    isExpired\n  }\n}\n","import { useState } from 'react'\nimport {\n  L1ToL2MessageWriter as IL1ToL2MessageWriter,\n  L1ToL2MessageStatus\n} from '@arbitrum/sdk'\nimport { useSigner } from 'wagmi'\n\nimport { useAppState } from '../state'\nimport { MergedTransaction } from '../state/app/state'\nimport { getRetryableTicket } from '../util/RetryableUtils'\nimport { useNetworksAndSigners } from './useNetworksAndSigners'\nimport { shouldTrackAnalytics, trackEvent } from '../util/AnalyticsUtils'\nimport { getNetworkName } from '../util/networks'\nimport { isUserRejectedError } from '../util/isUserRejectedError'\nimport { errorToast } from '../components/common/atoms/Toast'\nimport { AssetType } from './arbTokenBridge.types'\n\nexport type UseRedeemRetryableResult = {\n  redeem: (tx: MergedTransaction) => void\n  isRedeeming: boolean\n}\n\nexport function useRedeemRetryable(): UseRedeemRetryableResult {\n  const {\n    app: { arbTokenBridge }\n  } = useAppState()\n  const {\n    l1: { provider: l1Provider },\n    l2: { network: l2Network }\n  } = useNetworksAndSigners()\n  const { data: signer } = useSigner()\n  const l2NetworkName = getNetworkName(l2Network.id)\n\n  const [isRedeeming, setIsRedeeming] = useState(false)\n\n  async function redeem(tx: MergedTransaction) {\n    if (isRedeeming) {\n      return\n    }\n\n    let retryableTicket: IL1ToL2MessageWriter\n\n    try {\n      setIsRedeeming(true)\n\n      if (!signer) {\n        throw 'Signer is undefined'\n      }\n\n      retryableTicket = await getRetryableTicket({\n        l1TxHash: tx.txId,\n        retryableCreationId: tx.l1ToL2MsgData?.retryableCreationTxID,\n        l1Provider,\n        l2Signer: signer\n      })\n    } catch (error: any) {\n      setIsRedeeming(false)\n      return errorToast(\n        `There was an error, here is more information: ${error.message}`\n      )\n    }\n\n    try {\n      const tx = await retryableTicket.redeem()\n      await tx.wait()\n    } catch (error: any) {\n      if (isUserRejectedError(error)) {\n        return\n      }\n\n      return errorToast(\n        `There was an error, here is more information: ${error.message}`\n      )\n    } finally {\n      setIsRedeeming(false)\n\n      // track in analytics\n      if (shouldTrackAnalytics(l2NetworkName)) {\n        trackEvent('Redeem Retryable', { network: l2NetworkName })\n      }\n    }\n\n    // update in store\n    arbTokenBridge.transactions.fetchAndUpdateL1ToL2MsgStatus(\n      tx.txId,\n      retryableTicket,\n      tx.assetType === AssetType.ETH,\n      L1ToL2MessageStatus.REDEEMED\n    )\n  }\n\n  return { redeem, isRedeeming }\n}\n","import dayjs from 'dayjs'\n\nimport { DepositStatus, MergedTransaction } from '../../state/app/state'\nimport { isNetwork } from '../../util/networks'\n\nfunction getMinutesRemainingText(minutesRemaining: number): string {\n  if (minutesRemaining <= 1) {\n    if (minutesRemaining <= 0) {\n      return 'Almost there...'\n    }\n\n    return 'Less than a minute...'\n  }\n\n  return `~${minutesRemaining} mins remaining`\n}\n\nfunction getEstimatedDepositDurationInMinutes(\n  parentChainId: number | undefined\n) {\n  if (!parentChainId) {\n    return 15\n  }\n\n  const { isEthereumMainnetOrTestnet, isTestnet } = isNetwork(parentChainId)\n\n  // this covers orbit chains\n  if (!isEthereumMainnetOrTestnet) {\n    return 1\n  }\n\n  return isTestnet ? 10 : 15\n}\n\nexport function DepositCountdown({\n  tx\n}: {\n  tx: MergedTransaction\n}): JSX.Element | null {\n  const now = dayjs()\n  const createdAt = tx.createdAt\n  const depositStatus = tx.depositStatus\n  const whenCreated = dayjs(createdAt)\n\n  if (\n    depositStatus === DepositStatus.L1_PENDING ||\n    depositStatus === DepositStatus.L2_PENDING\n  ) {\n    // Subtract the diff from the initial deposit time\n    const minutesRemaining =\n      getEstimatedDepositDurationInMinutes(tx.parentChainId) -\n      now.diff(whenCreated, 'minutes')\n    return (\n      <span className=\"whitespace-nowrap\">\n        {getMinutesRemainingText(minutesRemaining)}\n      </span>\n    )\n  }\n\n  return null\n}\n","import { MergedTransaction } from '../../../state/app/state'\nimport { CustomAddressTxExplorer } from './TransactionsTable'\n\nexport const TransactionsTableCustomAddressLabel = ({\n  tx\n}: {\n  tx: MergedTransaction\n}) => {\n  return (\n    <div className=\"absolute bottom-2 left-6 translate-x-0 rounded-md bg-black px-4 py-1 text-center text-sm text-white sm:left-[50%] sm:-translate-x-[50%]\">\n      <CustomAddressTxExplorer tx={tx} />\n    </div>\n  )\n}\n","import { useState } from 'react'\nimport * as Sentry from '@sentry/react'\nimport { useSigner } from 'wagmi'\n\nimport { useAppState } from '../state'\nimport { MergedTransaction } from '../state/app/state'\nimport { isUserRejectedError } from '../util/isUserRejectedError'\nimport { errorToast } from '../components/common/atoms/Toast'\nimport { AssetType } from './arbTokenBridge.types'\n\nexport type UseClaimWithdrawalResult = {\n  claim: (tx: MergedTransaction) => Promise<void>\n  isClaiming: boolean\n}\n\nexport function useClaimWithdrawal(): UseClaimWithdrawalResult {\n  const {\n    app: { arbTokenBridge }\n  } = useAppState()\n  const { data: signer } = useSigner()\n  const [isClaiming, setIsClaiming] = useState(false)\n\n  async function claim(tx: MergedTransaction) {\n    if (isClaiming) {\n      return\n    }\n\n    if (tx.uniqueId === null) {\n      return errorToast(\"Can't find withdrawal transaction.\")\n    }\n\n    let res, err\n\n    setIsClaiming(true)\n\n    try {\n      if (!signer) {\n        throw 'Signer is undefined'\n      }\n      if (tx.assetType === AssetType.ETH) {\n        res = await arbTokenBridge.eth.triggerOutbox({\n          id: tx.uniqueId.toString(),\n          l1Signer: signer\n        })\n      } else {\n        res = await arbTokenBridge.token.triggerOutbox({\n          id: tx.uniqueId.toString(),\n          l1Signer: signer\n        })\n      }\n    } catch (error: any) {\n      err = error\n    } finally {\n      setIsClaiming(false)\n    }\n\n    // Don't show any alert / log any error in case user denies the signature\n    if (isUserRejectedError(err)) {\n      return\n    }\n\n    Sentry.captureException(err)\n    if (!res) {\n      errorToast(`Can't claim withdrawal: ${err?.message ?? err}`)\n    }\n  }\n\n  return { claim, isClaiming }\n}\n","import { Popover } from '@headlessui/react'\nimport { EllipsisVerticalIcon } from '@heroicons/react/24/outline'\nimport dayjs from 'dayjs'\nimport { twMerge } from 'tailwind-merge'\nimport { useMemo } from 'react'\nimport { useChainId } from 'wagmi'\nimport { GET_HELP_LINK } from '../../../constants'\nimport { useClaimWithdrawal } from '../../../hooks/useClaimWithdrawal'\nimport { useNetworksAndSigners } from '../../../hooks/useNetworksAndSigners'\nimport { MergedTransaction } from '../../../state/app/state'\nimport { useClaimCctp, useRemainingTime } from '../../../state/cctpState'\nimport { shouldTrackAnalytics, trackEvent } from '../../../util/AnalyticsUtils'\nimport { isUserRejectedError } from '../../../util/isUserRejectedError'\nimport { getNetworkName, isNetwork } from '../../../util/networks'\nimport { errorToast } from '../../common/atoms/Toast'\nimport { Button } from '../../common/Button'\nimport { Tooltip } from '../../common/Tooltip'\nimport { useSwitchNetworkWithConfig } from '../../../hooks/useSwitchNetworkWithConfig'\n\nconst GetHelpButton = ({\n  variant,\n  onClick\n}: {\n  variant: 'primary' | 'secondary'\n  onClick: () => void\n}) => {\n  return (\n    <Button\n      variant={variant}\n      onClick={onClick}\n      className={variant === 'secondary' ? 'bg-white px-4 py-3' : ''}\n    >\n      Get Help\n    </Button>\n  )\n}\n\nexport function TransactionsTableRowAction({\n  tx,\n  isError,\n  type\n}: {\n  tx: MergedTransaction\n  isError: boolean\n  type: 'deposits' | 'withdrawals'\n}) {\n  const {\n    l1: { network: l1Network },\n    l2: { network: l2Network }\n  } = useNetworksAndSigners()\n  const { switchNetwork } = useSwitchNetworkWithConfig()\n  const l1NetworkName = getNetworkName(l1Network.id)\n  const l2NetworkName = getNetworkName(l2Network.id)\n  const networkName = type === 'deposits' ? l1NetworkName : l2NetworkName\n\n  const chainId = useChainId()\n  const { claim, isClaiming } = useClaimWithdrawal()\n  const { claim: claimCctp, isClaiming: isClaimingCctp } = useClaimCctp(tx)\n  const { isConfirmed } = useRemainingTime(tx)\n\n  const { isEthereumMainnetOrTestnet, isArbitrum } = isNetwork(chainId)\n\n  const currentChainIsValid = useMemo(() => {\n    const isWithdrawalSourceOrbitChain = isNetwork(l2Network.id).isOrbitChain\n\n    if (isWithdrawalSourceOrbitChain) {\n      // Enable claim if withdrawn from an Orbit chain and is connected to L2\n      return isArbitrum\n    }\n\n    return (\n      (type === 'deposits' && isArbitrum) ||\n      (type === 'withdrawals' && isEthereumMainnetOrTestnet)\n    )\n  }, [isArbitrum, isEthereumMainnetOrTestnet, l2Network.id, type])\n\n  const isClaimButtonDisabled = useMemo(() => {\n    return isClaiming || isClaimingCctp || !isConfirmed\n  }, [isClaiming, isClaimingCctp, isConfirmed])\n\n  const getHelpOnError = () => {\n    window.open(GET_HELP_LINK, '_blank')\n\n    // track the button click\n    if (shouldTrackAnalytics(networkName)) {\n      trackEvent('Tx Error: Get Help Click', { network: networkName })\n    }\n  }\n\n  if (tx.status === 'Unconfirmed') {\n    return (\n      <Tooltip\n        wrapperClassName=\"\"\n        content={<span>Funds aren&apos;t ready to claim yet</span>}\n      >\n        <Button variant=\"primary\" disabled>\n          Claim\n        </Button>\n      </Tooltip>\n    )\n  }\n\n  if (tx.status === 'Confirmed') {\n    if (tx.isCctp && tx.resolvedAt) {\n      return null\n    }\n\n    return (\n      <Tooltip\n        show={!currentChainIsValid}\n        wrapperClassName=\"\"\n        content={\n          <span>\n            {`Please switch to ${\n              type === 'deposits' ? l2NetworkName : l1NetworkName\n            } to claim your ${type === 'deposits' ? 'deposit' : 'withdrawal'}.`}\n          </span>\n        }\n      >\n        <Button\n          variant=\"primary\"\n          loading={isClaiming || isClaimingCctp}\n          disabled={isClaimButtonDisabled}\n          className={twMerge(!currentChainIsValid && 'p-2 py-4 text-xs')}\n          onClick={async () => {\n            try {\n              if (!currentChainIsValid) {\n                return switchNetwork?.(\n                  type === 'deposits' ? l2Network.id : l1Network.id\n                )\n              }\n              if (tx.isCctp) {\n                return await claimCctp()\n              } else {\n                return await claim(tx)\n              }\n            } catch (error: any) {\n              if (isUserRejectedError(error)) {\n                return\n              }\n\n              errorToast(\n                `Can't claim ${\n                  type === 'deposits' ? 'withdrawal' : 'deposit'\n                }: ${error?.message ?? error}`\n              )\n            }\n          }}\n        >\n          {currentChainIsValid ? 'Claim' : 'Switch Network'}\n        </Button>\n      </Tooltip>\n    )\n  }\n\n  if (isError) {\n    const isTxOlderThan7Days = dayjs().diff(dayjs(tx.createdAt), 'days') > 7\n\n    return (\n      <>\n        {isTxOlderThan7Days ? (\n          // show a dropdown menu with the button\n          <Popover>\n            <Popover.Button>\n              <EllipsisVerticalIcon className=\"h-6 w-6 cursor-pointer p-1 text-dark\" />\n            </Popover.Button>\n            <Popover.Panel\n              className={'absolute top-4 z-50 rounded-md bg-white shadow-lg'}\n            >\n              <GetHelpButton variant=\"secondary\" onClick={getHelpOnError} />\n            </Popover.Panel>\n          </Popover>\n        ) : (\n          // show a normal button outside\n          <GetHelpButton variant=\"primary\" onClick={getHelpOnError} />\n        )}\n      </>\n    )\n  }\n\n  return null\n}\n","import { useMemo } from 'react'\nimport { useAccount } from 'wagmi'\nimport { twMerge } from 'tailwind-merge'\n\nimport { DepositStatus, MergedTransaction } from '../../../state/app/state'\nimport { StatusBadge } from '../../common/StatusBadge'\nimport { useRedeemRetryable } from '../../../hooks/useRedeemRetryable'\nimport { useNetworksAndSigners } from '../../../hooks/useNetworksAndSigners'\nimport { shortenTxHash } from '../../../util/CommonUtils'\nimport { DepositCountdown } from '../../common/DepositCountdown'\nimport { ExternalLink } from '../../common/ExternalLink'\nimport { Button } from '../../common/Button'\nimport { Tooltip } from '../../common/Tooltip'\nimport { getExplorerUrl, getNetworkName } from '../../../util/networks'\nimport { InformationCircleIcon } from '@heroicons/react/24/outline'\nimport {\n  isCustomDestinationAddressTx,\n  isDepositReadyToRedeem,\n  isPending\n} from '../../../state/app/utils'\nimport { TransactionDateTime } from './TransactionsTable'\nimport { formatAmount } from '../../../util/NumberUtils'\nimport { useIsConnectedToArbitrum } from '../../../hooks/useIsConnectedToArbitrum'\nimport { sanitizeTokenSymbol } from '../../../util/TokenUtils'\nimport { TransactionsTableCustomAddressLabel } from './TransactionsTableCustomAddressLabel'\nimport { TransactionsTableRowAction } from './TransactionsTableRowAction'\nimport { useChainLayers } from '../../../hooks/useChainLayers'\nimport { AssetType } from '../../../hooks/arbTokenBridge.types'\n\nfunction DepositRowStatus({ tx }: { tx: MergedTransaction }) {\n  const { parentLayer, layer } = useChainLayers()\n\n  switch (tx.depositStatus) {\n    case DepositStatus.L1_PENDING:\n      return (\n        <StatusBadge\n          variant=\"yellow\"\n          aria-label={`${parentLayer} Transaction Status`}\n        >\n          Pending\n        </StatusBadge>\n      )\n\n    case DepositStatus.L1_FAILURE:\n      return (\n        <StatusBadge\n          variant=\"red\"\n          aria-label={`${parentLayer} Transaction Status`}\n        >\n          Failed\n        </StatusBadge>\n      )\n\n    case DepositStatus.L2_PENDING:\n      return (\n        <div className=\"flex flex-col space-y-1\">\n          <StatusBadge\n            variant=\"green\"\n            aria-label={`${parentLayer} Transaction Status`}\n          >\n            Success\n          </StatusBadge>\n          <StatusBadge\n            variant=\"yellow\"\n            aria-label={`${layer} Transaction Status`}\n          >\n            Pending\n          </StatusBadge>\n        </div>\n      )\n\n    case DepositStatus.CREATION_FAILED:\n      return (\n        <div className=\"flex flex-col space-y-1\">\n          <StatusBadge\n            variant=\"green\"\n            aria-label={`${parentLayer} Transaction Status`}\n          >\n            Success\n          </StatusBadge>\n          <StatusBadge variant=\"red\" aria-label={`${layer} Transaction Status`}>\n            Failed\n          </StatusBadge>\n        </div>\n      )\n\n    case DepositStatus.L2_FAILURE:\n      return (\n        <div className=\"flex flex-col space-y-1\">\n          <StatusBadge\n            variant=\"green\"\n            aria-label={`${parentLayer} Transaction Status`}\n          >\n            Success\n          </StatusBadge>\n          <StatusBadge variant=\"red\" aria-label={`${layer} Transaction Status`}>\n            Failed\n          </StatusBadge>\n        </div>\n      )\n\n    case DepositStatus.L2_SUCCESS:\n      return (\n        <div className=\"flex flex-col space-y-1\">\n          <StatusBadge\n            variant=\"green\"\n            aria-label={`${parentLayer} Transaction Status`}\n          >\n            Success\n          </StatusBadge>\n          <StatusBadge\n            variant=\"green\"\n            aria-label={`${layer} Transaction Status`}\n          >\n            Success\n          </StatusBadge>\n        </div>\n      )\n\n    case DepositStatus.EXPIRED:\n      return (\n        <div className=\"flex flex-col space-y-1\">\n          <StatusBadge\n            variant=\"red\"\n            aria-label={`${parentLayer} Transaction Status`}\n          >\n            Failed\n          </StatusBadge>\n        </div>\n      )\n\n    default:\n      return null\n  }\n}\n\nfunction DepositRowTime({ tx }: { tx: MergedTransaction }) {\n  const { parentLayer, layer } = useChainLayers()\n\n  if (\n    tx.depositStatus === DepositStatus.L1_PENDING ||\n    tx.depositStatus === DepositStatus.L2_PENDING\n  ) {\n    return <DepositCountdown tx={tx} />\n  }\n\n  return (\n    <div className=\"flex flex-col space-y-3\">\n      <Tooltip content={<span>{parentLayer} Transaction Time</span>}>\n        <TransactionDateTime standardizedDate={tx.createdAt} />\n      </Tooltip>\n      {tx.resolvedAt && (\n        <Tooltip content={<span>{layer} Transaction Time</span>}>\n          <TransactionDateTime standardizedDate={tx.resolvedAt} />\n        </Tooltip>\n      )}\n    </div>\n  )\n}\n\nfunction DepositRowTxID({ tx }: { tx: MergedTransaction }) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const { parentLayer, layer } = useChainLayers()\n  const l2TxHash = (() => {\n    if (tx.l1ToL2MsgData?.l2TxID) {\n      return tx.l1ToL2MsgData?.l2TxID\n    }\n\n    return tx.isCctp && tx.cctpData?.receiveMessageTransactionHash\n  })()\n\n  return (\n    <div className=\"flex flex-col space-y-3\">\n      <span\n        className=\"flex flex-nowrap items-center gap-1 whitespace-nowrap text-dark\"\n        aria-label={`${parentLayer} Transaction Link`}\n      >\n        <span className=\"rounded-md px-2 text-xs text-dark\">Step 1</span>\n        {getNetworkName(l1.network.id)}:{' '}\n        <ExternalLink\n          href={`${getExplorerUrl(l1.network.id)}/tx/${tx.txId}`}\n          className=\"arb-hover text-blue-link\"\n        >\n          {shortenTxHash(tx.txId)}\n        </ExternalLink>\n      </span>\n\n      {l2TxHash && (\n        <span\n          className=\"flex flex-nowrap items-center gap-1 whitespace-nowrap text-dark\"\n          aria-label={`${layer} Transaction Link`}\n        >\n          <span className=\"rounded-md px-2 text-xs text-dark\">Step 2</span>\n          {getNetworkName(l2.network.id)}:{' '}\n          <ExternalLink\n            href={`${getExplorerUrl(l2.network.id)}/tx/${l2TxHash}`}\n            className=\"arb-hover text-blue-link\"\n          >\n            {shortenTxHash(l2TxHash)}\n          </ExternalLink>\n        </span>\n      )}\n    </div>\n  )\n}\n\nexport function TransactionsTableDepositRow({\n  tx,\n  className = ''\n}: {\n  tx: MergedTransaction\n  className?: string\n}) {\n  const { l1 } = useNetworksAndSigners()\n  const { address } = useAccount()\n  const { redeem, isRedeeming } = useRedeemRetryable()\n  const isConnectedToArbitrum = useIsConnectedToArbitrum()\n\n  const isRedeemButtonDisabled = useMemo(\n    () =>\n      typeof isConnectedToArbitrum !== 'undefined'\n        ? !isConnectedToArbitrum\n        : true,\n    [isConnectedToArbitrum]\n  )\n\n  const isError = useMemo(() => {\n    if (\n      tx.depositStatus === DepositStatus.L1_FAILURE ||\n      tx.depositStatus === DepositStatus.EXPIRED\n    ) {\n      return true\n    }\n\n    if (tx.depositStatus === DepositStatus.CREATION_FAILED) {\n      // In case of a retryable ticket creation failure, mark only the token deposits as errors\n      return tx.assetType === AssetType.ETH\n    }\n\n    return false\n  }, [tx])\n\n  const showRedeemRetryableButton = useMemo(\n    () => isDepositReadyToRedeem(tx),\n    [tx]\n  )\n\n  const showRetryableExpiredText = useMemo(\n    () => tx.depositStatus === DepositStatus.EXPIRED,\n    [tx]\n  )\n\n  const bgClassName = useMemo(() => {\n    if (isError || showRedeemRetryableButton || showRetryableExpiredText)\n      return 'bg-brick'\n    if (isPending(tx)) return 'bg-orange'\n    return ''\n  }, [tx, isError, showRedeemRetryableButton, showRetryableExpiredText])\n\n  const tokenSymbol = useMemo(\n    () =>\n      sanitizeTokenSymbol(tx.asset, {\n        erc20L1Address: tx.tokenAddress,\n        chain: l1.network\n      }),\n    [l1.network, tx.asset, tx.tokenAddress]\n  )\n\n  const customAddressTxPadding = useMemo(\n    () => (isCustomDestinationAddressTx(tx) ? 'pb-11' : ''),\n    [tx]\n  )\n\n  if (!tx.sender || !address) {\n    return null\n  }\n\n  return (\n    <tr\n      className={twMerge(\n        'relative text-sm text-dark',\n        bgClassName || 'bg-cyan even:bg-white',\n        className\n      )}\n      data-testid={`deposit-row-${tx.txId}`}\n    >\n      <td className={twMerge('w-1/5 py-3 pl-6 pr-3', customAddressTxPadding)}>\n        <DepositRowStatus tx={tx} />\n      </td>\n\n      <td className={twMerge('w-1/5 px-3 py-3', customAddressTxPadding)}>\n        <DepositRowTime tx={tx} />\n      </td>\n\n      <td\n        className={twMerge(\n          'w-1/5 whitespace-nowrap px-3 py-3',\n          customAddressTxPadding\n        )}\n      >\n        {formatAmount(Number(tx.value), {\n          symbol: tokenSymbol\n        })}\n      </td>\n\n      <td className={twMerge('w-1/5 px-3 py-3', customAddressTxPadding)}>\n        <DepositRowTxID tx={tx} />\n      </td>\n\n      <td\n        className={twMerge(\n          'relative w-1/5 py-3 pl-3 pr-6 text-right',\n          customAddressTxPadding\n        )}\n      >\n        {showRedeemRetryableButton && (\n          <Tooltip\n            show={isRedeemButtonDisabled}\n            wrapperClassName=\"\"\n            content={\n              <span>\n                Please connect to the L2 network to re-execute your deposit. You\n                have 7 days to re-execute a failed tx. After that, the tx is no\n                longer recoverable.\n              </span>\n            }\n          >\n            <Button\n              variant=\"primary\"\n              loading={isRedeeming}\n              disabled={isRedeemButtonDisabled}\n              onClick={() => redeem(tx)}\n            >\n              Retry\n            </Button>\n          </Tooltip>\n        )}\n\n        {showRetryableExpiredText && (\n          <Tooltip\n            wrapperClassName=\"\"\n            content={\n              <span>\n                You have 7 days to re-execute a failed tx. After that, the tx is\n                no longer recoverable.\n              </span>\n            }\n          >\n            <span className=\"text-md flex flex-nowrap items-center gap-1 font-normal uppercase text-brick-dark\">\n              <InformationCircleIcon className=\"h-4 w-4\" /> EXPIRED\n            </span>\n          </Tooltip>\n        )}\n\n        {tx.isCctp && (\n          <TransactionsTableRowAction\n            tx={tx}\n            isError={isError}\n            type=\"deposits\"\n          />\n        )}\n      </td>\n      {isCustomDestinationAddressTx(tx) && (\n        <td>\n          <TransactionsTableCustomAddressLabel tx={tx} />\n        </td>\n      )}\n    </tr>\n  )\n}\n","import { useMedia } from 'react-use'\nimport dayjs, { Dayjs } from 'dayjs'\n\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { ChainId } from '../../util/networks'\n\n/**\n * Buffer for after a node is confirmable but isn't yet confirmed; we give 30 minutes, should usually/always be less in practice.\n */\nconst CONFIRMATION_BUFFER_MINUTES = 30\n\nfunction getTxConfirmationDate({\n  createdAt,\n  parentChainId\n}: {\n  createdAt: Dayjs\n  parentChainId: number\n}) {\n  const confirmNodeMinutes = getNodeConfirmationTimeInMinutes(parentChainId)\n\n  return createdAt\n    .add(confirmNodeMinutes, 'minute')\n    .add(CONFIRMATION_BUFFER_MINUTES, 'minute')\n}\n\nfunction getTxConfirmationRemainingMinutes({\n  createdAt,\n  parentChainId\n}: {\n  createdAt: Dayjs\n  parentChainId: number\n}) {\n  const txConfirmationDate = getTxConfirmationDate({ createdAt, parentChainId })\n  return Math.max(txConfirmationDate.diff(dayjs(), 'minute'), 0)\n}\n\nfunction getNodeConfirmationTimeInMinutes(parentChainId: ChainId) {\n  const SEVEN_DAYS_IN_MINUTES = 7 * 24 * 60\n\n  if (parentChainId === ChainId.Ethereum) {\n    return SEVEN_DAYS_IN_MINUTES\n  }\n\n  // Node is created every ~1h for all other chains\n  return 60\n}\n\nexport function WithdrawalCountdown({\n  createdAt\n}: {\n  createdAt: string | null\n}): JSX.Element {\n  const {\n    l1: { network: l1Network }\n  } = useNetworksAndSigners()\n  const isLargeScreen = useMedia('(min-width: 1024px)')\n\n  // For new txs createdAt won't be defined yet, we default to the current time in that case\n  const createdAtDate = createdAt ? dayjs(createdAt) : dayjs()\n  const txConfirmationDate = getTxConfirmationDate({\n    createdAt: createdAtDate,\n    parentChainId: l1Network.id\n  })\n\n  const minutesLeft = getTxConfirmationRemainingMinutes({\n    createdAt: createdAtDate,\n    parentChainId: l1Network.id\n  })\n\n  const remainingTextOrEmpty =\n    isLargeScreen && minutesLeft > 0 ? ' remaining' : ''\n\n  const timeLeftText =\n    minutesLeft === 0 ? 'Almost there...' : dayjs().to(txConfirmationDate, true)\n\n  return <span>{timeLeftText + remainingTextOrEmpty}</span>\n}\n","import { useMemo } from 'react'\nimport { useAccount } from 'wagmi'\nimport { twMerge } from 'tailwind-merge'\n\nimport { NodeBlockDeadlineStatusTypes } from '../../../hooks/arbTokenBridge.types'\nimport { MergedTransaction } from '../../../state/app/state'\nimport { StatusBadge } from '../../common/StatusBadge'\nimport { TransactionsTableCustomAddressLabel } from './TransactionsTableCustomAddressLabel'\nimport { useNetworksAndSigners } from '../../../hooks/useNetworksAndSigners'\nimport { WithdrawalCountdown } from '../../common/WithdrawalCountdown'\nimport { ExternalLink } from '../../common/ExternalLink'\nimport { shortenTxHash } from '../../../util/CommonUtils'\nimport { Tooltip } from '../../common/Tooltip'\nimport {\n  ChainId,\n  getExplorerUrl,\n  getNetworkName,\n  isNetwork\n} from '../../../util/networks'\nimport { InformationCircleIcon } from '@heroicons/react/24/outline'\nimport {\n  isCustomDestinationAddressTx,\n  findMatchingL1TxForWithdrawal,\n  isPending\n} from '../../../state/app/utils'\nimport { TransactionDateTime } from './TransactionsTable'\nimport { formatAmount } from '../../../util/NumberUtils'\nimport { sanitizeTokenSymbol } from '../../../util/TokenUtils'\nimport { TransactionsTableRowAction } from './TransactionsTableRowAction'\nimport { useRemainingTime } from '../../../state/cctpState'\nimport { useChainLayers } from '../../../hooks/useChainLayers'\n\ntype CommonProps = {\n  tx: MergedTransaction\n  isSourceChainArbitrum?: boolean\n}\n\nfunction ClaimableRowStatus({ tx }: CommonProps) {\n  const { parentLayer, layer } = useChainLayers()\n  const matchingL1Tx = tx.isCctp\n    ? tx.cctpData?.receiveMessageTransactionHash\n    : findMatchingL1TxForWithdrawal(tx)\n\n  switch (tx.status) {\n    case 'pending':\n      return (\n        <div className=\"flex flex-col space-y-1\">\n          <StatusBadge\n            variant=\"yellow\"\n            aria-label={`${layer} Transaction Status`}\n          >\n            Pending\n          </StatusBadge>\n        </div>\n      )\n    case 'Unconfirmed':\n      return (\n        <div className=\"flex flex-col space-y-1\">\n          <StatusBadge\n            variant=\"green\"\n            aria-label={`${layer} Transaction Status`}\n          >\n            Success\n          </StatusBadge>\n          <StatusBadge\n            variant=\"yellow\"\n            aria-label={`${parentLayer} Transaction Status`}\n          >\n            Pending\n          </StatusBadge>\n        </div>\n      )\n\n    case 'Confirmed':\n      return (\n        <div className=\"flex flex-col space-y-1\">\n          <StatusBadge\n            variant=\"green\"\n            aria-label={`${layer} Transaction Status`}\n          >\n            Success\n          </StatusBadge>\n          <Tooltip\n            content={\n              <span>Funds are ready to be claimed on {parentLayer}</span>\n            }\n          >\n            <StatusBadge\n              variant=\"yellow\"\n              aria-label={`${parentLayer} Transaction Status`}\n            >\n              <InformationCircleIcon className=\"h-4 w-4\" /> Confirmed\n            </StatusBadge>\n          </Tooltip>\n        </div>\n      )\n\n    case 'Executed': {\n      if (typeof matchingL1Tx === 'undefined') {\n        return (\n          <div className=\"flex flex-col space-y-1\">\n            <StatusBadge\n              variant=\"green\"\n              aria-label={`${layer} Transaction Status`}\n            >\n              Success\n            </StatusBadge>\n            <Tooltip\n              content={\n                <span>\n                  Executed: Funds have been claimed on {parentLayer}, but the\n                  corresponding Tx ID was not found\n                </span>\n              }\n            >\n              <StatusBadge\n                variant=\"gray\"\n                aria-label={`${parentLayer} Transaction Status`}\n              >\n                <InformationCircleIcon className=\"h-4 w-4\" /> n/a\n              </StatusBadge>\n            </Tooltip>\n          </div>\n        )\n      }\n\n      return (\n        <div className=\"flex flex-col space-y-1\">\n          <StatusBadge\n            variant=\"green\"\n            aria-label={`${layer} Transaction Status`}\n          >\n            Success\n          </StatusBadge>\n          <StatusBadge\n            variant=\"green\"\n            aria-label={`${parentLayer} Transaction Status`}\n          >\n            Success\n          </StatusBadge>\n        </div>\n      )\n    }\n\n    case 'Failure':\n      return (\n        <div className=\"flex flex-col space-y-1\">\n          <StatusBadge variant=\"red\" aria-label={`${layer} Transaction Status`}>\n            Failed\n          </StatusBadge>\n        </div>\n      )\n\n    default:\n      return null\n  }\n}\n\nfunction ClaimableRowTime({ tx }: CommonProps) {\n  const { parentLayer, layer } = useChainLayers()\n  const { remainingTime } = useRemainingTime(tx)\n\n  if (tx.status === 'Unconfirmed') {\n    return (\n      <div className=\"flex flex-col space-y-3\">\n        <Tooltip content={<span>{layer} Transaction Time</span>}>\n          <TransactionDateTime standardizedDate={tx.createdAt} />\n        </Tooltip>\n\n        {tx.isCctp ? (\n          <>{remainingTime}</>\n        ) : (\n          <WithdrawalCountdown createdAt={tx.createdAt} />\n        )}\n      </div>\n    )\n  }\n\n  if (tx.status === 'Confirmed') {\n    return (\n      <div className=\"flex flex-col space-y-3\">\n        <Tooltip content={<span>{layer} Transaction Time</span>}>\n          <TransactionDateTime standardizedDate={tx.createdAt} />\n        </Tooltip>\n        {tx.resolvedAt && (\n          <Tooltip content={<span>{parentLayer} Transaction Time</span>}>\n            <span className=\"whitespace-nowrap\">Ready</span>\n          </Tooltip>\n        )}\n      </div>\n    )\n  }\n\n  const claimedTx = tx.isCctp\n    ? {\n        createdAt: tx.cctpData?.receiveMessageTimestamp\n      }\n    : findMatchingL1TxForWithdrawal(tx)\n\n  if (typeof claimedTx === 'undefined') {\n    return (\n      <div className=\"flex flex-col space-y-3\">\n        <Tooltip content={<span>{layer} Transaction time</span>}>\n          <TransactionDateTime standardizedDate={tx.createdAt} />\n        </Tooltip>\n        {tx.resolvedAt && (\n          <Tooltip content={<span>Ready to claim funds on {parentLayer}</span>}>\n            <span className=\"whitespace-nowrap\">n/a</span>\n          </Tooltip>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex flex-col space-y-3\">\n      <Tooltip content={<span>{layer} Transaction Time</span>}>\n        <TransactionDateTime standardizedDate={tx.createdAt} />\n      </Tooltip>\n      {claimedTx?.createdAt && (\n        <Tooltip content={<span>{parentLayer} Transaction Time</span>}>\n          <span className=\"whitespace-nowrap\">\n            <TransactionDateTime standardizedDate={claimedTx?.createdAt} />\n          </span>\n        </Tooltip>\n      )}\n    </div>\n  )\n}\n\nfunction ClaimedTxInfo({ tx, isSourceChainArbitrum }: CommonProps) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const { parentLayer } = useChainLayers()\n  const toNetworkId = isSourceChainArbitrum ? l1.network.id : l2.network.id\n\n  const isExecuted = tx.status === 'Executed'\n  const isBeingClaimed = tx.status === 'Confirmed' && tx.resolvedAt\n  if (!isExecuted && !isBeingClaimed) {\n    return null\n  }\n\n  const claimedTx = tx.isCctp\n    ? {\n        txId: tx.cctpData?.receiveMessageTransactionHash\n      }\n    : findMatchingL1TxForWithdrawal(tx)\n\n  if (!claimedTx?.txId) {\n    return (\n      <span className=\"flex flex-nowrap items-center gap-1 whitespace-nowrap text-dark\">\n        <span className=\"rounded-md px-2 text-xs text-dark\">Step 2</span>\n        {getNetworkName(toNetworkId)}: Not available\n      </span>\n    )\n  }\n\n  return (\n    <span\n      className=\"flex flex-nowrap items-center gap-1 whitespace-nowrap text-dark\"\n      aria-label={`${parentLayer} Transaction Link`}\n    >\n      <span className=\"rounded-md px-2 text-xs text-dark\">Step 2</span>\n      {getNetworkName(toNetworkId)}:{' '}\n      <ExternalLink\n        href={`${getExplorerUrl(toNetworkId)}/tx/${claimedTx.txId}`}\n        className=\"arb-hover text-blue-link\"\n      >\n        {shortenTxHash(claimedTx.txId)}\n      </ExternalLink>\n    </span>\n  )\n}\n\nfunction ClaimableRowTxID({ tx, isSourceChainArbitrum }: CommonProps) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const { layer } = useChainLayers()\n  const fromNetworkId = isSourceChainArbitrum ? l2.network.id : l1.network.id\n\n  return (\n    <div className=\"flex flex-col space-y-3\">\n      <span\n        className=\"flex flex-nowrap items-center gap-1 whitespace-nowrap text-dark\"\n        aria-label={`${layer} Transaction Link`}\n      >\n        <span className=\"rounded-md px-2 text-xs text-dark\">Step 1</span>\n        {getNetworkName(fromNetworkId)}:{' '}\n        <ExternalLink\n          href={`${getExplorerUrl(fromNetworkId)}/tx/${tx.txId}`}\n          className=\"arb-hover text-blue-link\"\n        >\n          {shortenTxHash(tx.txId)}\n        </ExternalLink>\n      </span>\n\n      <ClaimedTxInfo tx={tx} isSourceChainArbitrum={isSourceChainArbitrum} />\n    </div>\n  )\n}\n\n// This component either render Cctp row (deposit/withdrawal) or standard withdrawal\nexport function TransactionsTableClaimableRow({\n  tx,\n  className = ''\n}: {\n  tx: MergedTransaction\n  className?: string\n}) {\n  const isError = tx.status === 'Failure'\n  const { l1, l2 } = useNetworksAndSigners()\n  const sourceChainId = tx.cctpData?.sourceChainId ?? ChainId.ArbitrumOne\n  const {\n    isEthereumMainnetOrTestnet: isSourceChainIdEthereum,\n    isArbitrum: isSourceChainIdArbitrum\n  } = isNetwork(sourceChainId)\n  const { address } = useAccount()\n\n  const bgClassName = useMemo(() => {\n    if (isError) return 'bg-brick'\n    if (isPending(tx)) return 'bg-orange'\n    return ''\n  }, [tx, isError])\n\n  const tokenSymbol = useMemo(\n    () =>\n      sanitizeTokenSymbol(tx.asset, {\n        erc20L1Address: tx.tokenAddress,\n        chain: isSourceChainIdEthereum ? l1.network : l2.network\n      }),\n    [tx.asset, tx.tokenAddress, isSourceChainIdEthereum, l1.network, l2.network]\n  )\n\n  const customAddressTxPadding = useMemo(\n    () => (isCustomDestinationAddressTx(tx) ? 'pb-11' : ''),\n    [tx]\n  )\n\n  if (!tx.sender || !address) {\n    return null\n  }\n\n  return (\n    <tr\n      className={twMerge(\n        'relative text-sm text-dark',\n        bgClassName || 'bg-cyan even:bg-white',\n        className\n      )}\n      data-testid={`withdrawal-row-${tx.txId}`}\n    >\n      <td className={twMerge('w-1/5 py-3 pl-6 pr-3', customAddressTxPadding)}>\n        <ClaimableRowStatus\n          tx={tx}\n          isSourceChainArbitrum={isSourceChainIdArbitrum}\n        />\n      </td>\n\n      <td className={twMerge('w-1/5 px-3 py-3', customAddressTxPadding)}>\n        <ClaimableRowTime\n          tx={tx}\n          isSourceChainArbitrum={isSourceChainIdArbitrum}\n        />\n      </td>\n\n      <td\n        className={twMerge(\n          'w-1/5 whitespace-nowrap px-3 py-3',\n          customAddressTxPadding\n        )}\n      >\n        {formatAmount(Number(tx.value), {\n          symbol: tokenSymbol\n        })}\n      </td>\n\n      <td className={twMerge('w-1/5 px-3 py-3', customAddressTxPadding)}>\n        <ClaimableRowTxID\n          tx={tx}\n          isSourceChainArbitrum={isSourceChainIdArbitrum}\n        />\n      </td>\n\n      <td\n        className={twMerge(\n          'relative w-1/5 py-3 pl-3 pr-6 text-right',\n          customAddressTxPadding\n        )}\n      >\n        <TransactionsTableRowAction\n          tx={tx}\n          isError={isError}\n          type={tx.isWithdrawal ? 'withdrawals' : 'deposits'}\n        />\n      </td>\n      {isCustomDestinationAddressTx(tx) && (\n        <td>\n          <TransactionsTableCustomAddressLabel tx={tx} />\n        </td>\n      )}\n    </tr>\n  )\n}\n","import { EmptyTableRow } from './TransactionsTable'\n\nexport const NoDataOverlay = () => (\n  <EmptyTableRow>\n    <span className=\"text-sm font-medium text-dark\">\n      Oops! Looks like nothing matched your search query.\n    </span>\n  </EmptyTableRow>\n)\n","import { Loader } from '../../common/atoms/Loader'\nimport { EmptyTableRow } from './TransactionsTable'\n\nexport const TableBodyLoading = () => (\n  <EmptyTableRow>\n    <div className=\"flex flex-row items-center space-x-3\">\n      <Loader color=\"black\" size=\"small\" />\n      <span className=\"text-sm font-medium\">Loading transactions</span>\n    </div>\n  </EmptyTableRow>\n)\n","import { EmptyTableRow } from './TransactionsTable'\n\nexport const TableBodyError = () => (\n  <EmptyTableRow>\n    <span className=\"text-sm font-medium text-brick-dark\">\n      Failed to load transactions, please try refreshing the page\n    </span>\n  </EmptyTableRow>\n)\n","import { useEffect, useState } from 'react'\nimport { twMerge } from 'tailwind-merge'\nimport {\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  MagnifyingGlassIcon\n} from '@heroicons/react/24/outline'\nimport { TransactionsTableProps } from './TransactionsTable'\nimport { useDebouncedValue } from '../../../hooks/useDebouncedValue'\nimport { Loader } from '../../common/atoms/Loader'\nimport { useChainLayers } from '../../../hooks/useChainLayers'\n\ntype TableActionHeaderProps = Omit<\n  TransactionsTableProps,\n  'error' | 'pendingTransactions' | 'type' | 'isSmartContractWallet'\n> & {\n  type: 'deposits' | 'withdrawals' | 'cctp'\n  showSearch: boolean\n}\n\nexport const TableActionHeader = ({\n  type,\n  pageParams,\n  setPageParams,\n  transactions,\n  loading,\n  showSearch\n}: TableActionHeaderProps) => {\n  const { parentLayer, layer } = useChainLayers()\n  const layerType = type === 'deposits' ? parentLayer : layer\n\n  const [searchString, setSearchString] = useState(pageParams.searchString)\n\n  const noMoreRecordsInNextPage = transactions.length < pageParams.pageSize\n  const disableNextBtn = loading || noMoreRecordsInNextPage // if transactions are less than pagesize\n  const disablePrevBtn = loading || !pageParams.pageNumber // if page number is 0, then don't prev.\n  const hidePaginationBtns =\n    noMoreRecordsInNextPage && pageParams.pageNumber === 0 // hide the pagination buttons if there is no point of showing next/prev btns\n\n  const searchStringDebounced = useDebouncedValue(searchString, 1500)\n  const trimmedSearchString = searchString.trim()\n\n  const onClickNext = () => {\n    if (!disableNextBtn) {\n      setPageParams(prevParams => ({\n        ...prevParams,\n        pageNumber: prevParams.pageNumber + 1\n      }))\n    }\n  }\n\n  const onClickPrev = () => {\n    if (!disablePrevBtn) {\n      setPageParams(prevParams => ({\n        ...prevParams,\n        pageNumber: prevParams.pageNumber - 1\n      }))\n    }\n  }\n\n  const search = () => {\n    // search logic - using `searchString`\n    setPageParams(prevParams => ({\n      ...prevParams,\n      pageNumber: 0,\n      pageSize: pageParams.pageSize,\n      searchString: trimmedSearchString\n    }))\n  }\n\n  useEffect(() => {\n    // when the debounced value of searchString changes, only then fire the actual search call\n    if (pageParams.searchString !== searchStringDebounced) {\n      search()\n    }\n  }, [searchStringDebounced])\n\n  const showDebounceLoader =\n    (searchString && loading) || pageParams.searchString !== trimmedSearchString // for immediate UX feedback of search results fetching while typing\n\n  return (\n    <div className=\"sticky left-0 top-0 flex w-auto flex-nowrap items-center justify-between gap-4 bg-white p-3 text-sm\">\n      {/* Search bar */}\n      {showSearch && (\n        <div className=\"relative flex h-full w-full grow items-center rounded-lg border-[1px] border-gray-dark bg-white px-2 text-gray-dark shadow-input\">\n          <MagnifyingGlassIcon className=\"h-4 w-4 shrink-0 text-dark\" />\n          <input\n            className=\"text-normal h-full w-full p-2 font-light text-dark placeholder:text-gray-dark\"\n            type=\"text\"\n            placeholder={\n              layerType\n                ? `Search for a full or partial ${layerType} tx ID`\n                : 'Search for a full or partial tx ID'\n            }\n            value={searchString}\n            onChange={e => {\n              setSearchString(e.target.value)\n            }}\n          />\n          {showDebounceLoader && <Loader color=\"black\" size=\"small\" />}\n        </div>\n      )}\n\n      {/* Pagination buttons */}\n      {!hidePaginationBtns && (\n        <div\n          className={twMerge(\n            'flex w-auto shrink grow-0 flex-row flex-nowrap items-center justify-end text-gray-dark',\n            !showSearch && 'ml-auto' // Align the arrows on the right if no search input is displayed\n          )}\n        >\n          <button\n            disabled={disablePrevBtn}\n            className={`rounded border border-gray-dark p-1 ${\n              disablePrevBtn\n                ? 'cursor-not-allowed opacity-30'\n                : 'cursor-pointer'\n            }`}\n            aria-label={`load previous ${type}`}\n            onClick={onClickPrev}\n          >\n            <ChevronLeftIcon className=\"h-3 w-3\" />\n          </button>\n\n          <div className=\"whitespace-nowrap p-2\">\n            Page {pageParams.pageNumber + 1}{' '}\n          </div>\n\n          <button\n            disabled={disableNextBtn}\n            className={`rounded border border-gray-dark p-1 ${\n              disableNextBtn\n                ? 'cursor-not-allowed opacity-30'\n                : 'cursor-pointer'\n            }`}\n            aria-label={`load next ${type}`}\n            onClick={onClickNext}\n          >\n            <ChevronRightIcon className=\"h-3 w-3\" />\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n","import React, { Dispatch, SetStateAction, useMemo } from 'react'\nimport { useAccount } from 'wagmi'\nimport dayjs from 'dayjs'\n\nimport { TransactionsTableDepositRow } from './TransactionsTableDepositRow'\nimport { TransactionsTableClaimableRow } from './TransactionsTableClaimableRow'\nimport {\n  getStandardizedDate,\n  getStandardizedTime,\n  isCustomDestinationAddressTx,\n  isDeposit,\n  isWithdrawal\n} from '../../../state/app/utils'\nimport { MergedTransaction } from '../../../state/app/state'\nimport { NoDataOverlay } from './NoDataOverlay'\nimport { TableBodyLoading } from './TableBodyLoading'\nimport { TableBodyError } from './TableBodyError'\nimport { TableActionHeader } from './TableActionHeader'\nimport { useAppState } from '../../../state'\nimport { useNetworksAndSigners } from '../../../hooks/useNetworksAndSigners'\nimport { ExternalLink } from '../../common/ExternalLink'\nimport { getExplorerUrl } from '../../../util/networks'\nimport { shortenAddress } from '../../../util/CommonUtils'\n\nexport type PageParams = {\n  searchString: string\n  pageNumber: number\n  pageSize: number\n}\n\nexport const EmptyTableRow = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <>\n      {/* Single empty row to set column width */}\n      <tr>\n        <td className=\"w-1/5\" />\n        <td className=\"w-1/5\" />\n        <td className=\"w-1/5\" />\n        <td className=\"w-1/5\" />\n        <td className=\"w-1/5\" />\n      </tr>\n      <tr>\n        <td colSpan={5}>\n          <div className=\"flex h-16 items-center px-6 py-3\">{children}</div>\n        </td>\n      </tr>\n    </>\n  )\n}\n\nexport const TransactionDateTime = ({\n  standardizedDate\n}: {\n  standardizedDate: string | null\n}) => {\n  // Standardized formatted date-time component used across transaction rows\n\n  if (!standardizedDate) return <span className=\"whitespace-nowrap\">n/a</span>\n  return (\n    <div className=\"flex flex-nowrap gap-1\">\n      <span className=\"whitespace-nowrap\">\n        {getStandardizedDate(standardizedDate)}\n      </span>\n      <span className=\"whitespace-nowrap opacity-60\">\n        {getStandardizedTime(standardizedDate)}\n      </span>\n    </div>\n  )\n}\n\nexport const TransactionsTableHeader = () => {\n  return (\n    <thead className=\"text-gray-10 text-left text-sm\">\n      <tr>\n        <th className=\"py-3 pl-6 pr-3 font-normal\">Status</th>\n        <th className=\"px-3 py-3 font-normal\">Time</th>\n        <th className=\"px-3 py-3 font-normal\">Amount</th>\n        <th className=\"px-3 py-3 font-normal\">TxID</th>\n        <th className=\"py-3 pl-3 pr-6 font-normal\">\n          {/* Empty header text */}\n        </th>\n      </tr>\n    </thead>\n  )\n}\n\nexport const CustomAddressTxExplorer = ({\n  tx,\n  explorerClassName = 'arb-hover underline'\n}: {\n  tx: Pick<MergedTransaction, 'sender' | 'destination' | 'isWithdrawal'>\n  explorerClassName?: string\n}) => {\n  const { address } = useAccount()\n  const { l1, l2 } = useNetworksAndSigners()\n\n  const isDifferentSenderTx = useMemo(() => {\n    if (!tx.sender || !address) {\n      return false\n    }\n    return tx.sender.toLowerCase() !== address.toLowerCase()\n  }, [tx.sender, address])\n\n  const isCustomDestinationTx = useMemo(() => {\n    if (!address || !tx.destination) {\n      return false\n    }\n    return tx.destination.toLowerCase() !== address.toLowerCase()\n  }, [tx.destination, address])\n\n  const explorerChainId = useMemo(() => {\n    if (!isDifferentSenderTx && !isCustomDestinationTx) {\n      return null\n    }\n\n    if (tx.isWithdrawal) {\n      // this is a withdrawal, so\n      // if it's a different sender, show their L2 address (where the withdrawal originated)\n      // otherwise it's a custom destination, show their L1 address (where the funds will land)\n      return isDifferentSenderTx ? l2.network.id : l1.network.id\n    }\n\n    // this is a deposit, so\n    // if it's a different sender, show their L1 address (where the deposit originated)\n    // otherwise it's a custom destination, show their L2 address (where the funds will land)\n    return isDifferentSenderTx ? l1.network.id : l2.network.id\n  }, [isDifferentSenderTx, isCustomDestinationTx, l1, l2])\n\n  if (!explorerChainId || !isCustomDestinationAddressTx(tx)) {\n    return null\n  }\n\n  if (!tx.sender || !tx.destination) {\n    return null\n  }\n\n  return (\n    <>\n      {isDifferentSenderTx ? (\n        <span>Funds received from: </span>\n      ) : (\n        <span>Funds sent to: </span>\n      )}\n      <ExternalLink\n        className={explorerClassName}\n        href={`${getExplorerUrl(explorerChainId)}/address/${\n          isDifferentSenderTx ? tx.sender : tx.destination\n        }`}\n      >\n        {shortenAddress(isDifferentSenderTx ? tx.sender : tx.destination)}\n      </ExternalLink>\n    </>\n  )\n}\n\nexport enum TableStatus {\n  LOADING,\n  ERROR,\n  SUCCESS\n}\n\nexport type TransactionsTableProps = {\n  type: 'deposits' | 'withdrawals'\n  pageParams: PageParams\n  setPageParams: Dispatch<SetStateAction<PageParams>>\n  transactions: MergedTransaction[]\n  loading: boolean\n  error: boolean\n}\n\nexport function TransactionsTable({\n  type,\n  pageParams,\n  setPageParams,\n  transactions,\n  loading,\n  error\n}: TransactionsTableProps) {\n  const {\n    app: { mergedTransactions: locallyStoredTransactions }\n  } = useAppState()\n\n  // don't want to update hooks on useAppState reference change. Just the exact value of localTransactions\n  const localTransactionsKey = JSON.stringify(locallyStoredTransactions || [])\n\n  // Generating the list of final transactions which will be displayed in the table\n  const _transactions: MergedTransaction[] = useMemo(() => {\n    // for easier understanding - let's call `transactions` prop as they are - the one's fetched from subgraph.\n    const subgraphTransactions = transactions\n\n    // if it is not first page, ignore everything and just show the transactions from subgraph, we assume there are no fresh txns here.\n    // or if user has searched for something, ignore appending extra txns ahead of search-results\n    if (pageParams.searchString || pageParams.pageNumber > 0)\n      return subgraphTransactions\n\n    // else,\n    // if it is page 1, and a freshly added transaction has been identified (ie. a txn which is newer than the first subgraph txn in our list),\n    // prepend the fresh txn to the start of the list for instant UX, till it starts coming from the subgraph as well (generally after a minute or 2)\n\n    // if there are no transactions from subgraph - our freshly added txns should be the only one's added to the list.\n    const noTransactionInSubgraph = subgraphTransactions.length === 0\n    const firstSubgraphTransactionTimestamp = noTransactionInSubgraph\n      ? dayjs(0) // very old arbitrary date\n      : dayjs(subgraphTransactions[0]?.['createdAt'])\n\n    // start identifying newer transactions\n    const newerTransactions: MergedTransaction[] = []\n    locallyStoredTransactions?.forEach(tx => {\n      // only check deposit txns if you're on deposits' tab, and vice-versa\n      const isMatchingTab =\n        (isDeposit(tx) && type === 'deposits') ||\n        (isWithdrawal(tx) && type === 'withdrawals')\n      if (!isMatchingTab) return\n\n      // check if the local-state tx is newer than the latest subgraph date\n      const pendingTxCreationDate = dayjs(tx.createdAt)\n      const isTxAfterSubgraphTxs =\n        pendingTxCreationDate.isAfter(firstSubgraphTransactionTimestamp) &&\n        tx.createdAt !== subgraphTransactions[0]?.['createdAt']\n\n      if (isTxAfterSubgraphTxs) {\n        newerTransactions.push(tx)\n      }\n    })\n\n    // if newer txns found, append it to the existing subgraph transactions\n    return [...newerTransactions.reverse(), ...subgraphTransactions]\n  }, [transactions, localTransactionsKey])\n\n  const locallyStoredTransactionsMap = useMemo(() => {\n    // map of all the locally-stored transactions (pending + recently executed)\n    // so that tx rows can easily subscribe to live-local status without refetching table data\n    const localTxMap = new Map<string, MergedTransaction>()\n    locallyStoredTransactions.forEach(tx => {\n      localTxMap.set(tx.txId, tx)\n    })\n    return localTxMap\n  }, [locallyStoredTransactions])\n\n  const status = (() => {\n    if (loading) return TableStatus.LOADING\n    if (error) return TableStatus.ERROR\n    return TableStatus.SUCCESS\n  })()\n\n  const noSearchResults = !!(\n    pageParams?.searchString?.length &&\n    status === TableStatus.SUCCESS &&\n    !transactions?.length\n  )\n\n  return (\n    <>\n      {/* search and pagination buttons */}\n      <TableActionHeader\n        type={type}\n        pageParams={pageParams}\n        setPageParams={setPageParams}\n        transactions={_transactions}\n        loading={loading}\n        showSearch\n      />\n\n      <table className=\"w-full overflow-hidden rounded-b-lg bg-white\">\n        <TransactionsTableHeader />\n\n        <tbody>\n          {status === TableStatus.LOADING && <TableBodyLoading />}\n\n          {status === TableStatus.ERROR && <TableBodyError />}\n\n          {/* when there are no search results found */}\n          {status === TableStatus.SUCCESS && noSearchResults && (\n            <NoDataOverlay />\n          )}\n\n          {/* when there are no transactions present */}\n          {status === TableStatus.SUCCESS &&\n            !noSearchResults &&\n            _transactions.length === 0 && (\n              <EmptyTableRow>\n                <span className=\"text-sm font-medium\">No transactions</span>\n              </EmptyTableRow>\n            )}\n\n          {/* finally, when transactions are present, show rows */}\n          {status === TableStatus.SUCCESS &&\n            !noSearchResults &&\n            _transactions.map((tx, index) => {\n              const isLastRow = index === _transactions.length - 1\n\n              // if transaction is present in local (pending + recently executed) transactions, subscribe to that in this row,\n              // this will make sure the row updates with any updates in the local app state\n              // else show static subgraph table data\n              const locallyStoredTransaction = locallyStoredTransactionsMap.get(\n                tx.txId\n              )\n              const finalTx = locallyStoredTransaction ?? tx\n\n              if (isDeposit(finalTx)) {\n                return (\n                  <TransactionsTableDepositRow\n                    key={`${finalTx.txId}-${finalTx.direction}`}\n                    tx={finalTx}\n                    className={!isLastRow ? 'border-b border-black' : ''}\n                  />\n                )\n              } else if (isWithdrawal(finalTx)) {\n                return (\n                  <TransactionsTableClaimableRow\n                    key={`${finalTx.txId}-${finalTx.direction}`}\n                    tx={finalTx}\n                    className={!isLastRow ? 'border-b border-black' : ''}\n                  />\n                )\n              } else {\n                return null\n              }\n            })}\n        </tbody>\n      </table>\n    </>\n  )\n}\n","import { useMemo } from 'react'\nimport { getNetworkName } from '../../util/networks'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { MergedTransaction } from '../../state/app/state'\nimport { DepositCountdown } from '../common/DepositCountdown'\nimport {\n  DepositCardContainer,\n  DepositL1TxStatus,\n  DepositL2TxStatus\n} from './DepositCard'\nimport { formatAmount } from '../../util/NumberUtils'\nimport { isCustomDestinationAddressTx } from '../../state/app/utils'\nimport { sanitizeTokenSymbol } from '../../util/TokenUtils'\nimport { CustomAddressTxExplorer } from '../TransactionHistory/TransactionsTable/TransactionsTable'\nimport { useChainLayers } from '../../hooks/useChainLayers'\n\nexport function DepositCardPending({ tx }: { tx: MergedTransaction }) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const { parentLayer, layer } = useChainLayers()\n  const networkName = getNetworkName(l2.network.id)\n\n  const tokenSymbol = useMemo(\n    () =>\n      sanitizeTokenSymbol(tx.asset, {\n        erc20L1Address: tx.tokenAddress,\n        chain: l1.network\n      }),\n    [l1.network, tx.tokenAddress, tx.asset]\n  )\n\n  return (\n    <DepositCardContainer tx={tx}>\n      <div className=\"flex flex-row flex-wrap items-center justify-between\">\n        <div className=\"lg:-ml-8\">\n          {/* Heading */}\n          <span className=\"ml-8 animate-pulse text-lg text-ocl-blue lg:ml-0 lg:text-2xl\">\n            Moving{' '}\n            {formatAmount(Number(tx.value), {\n              symbol: tokenSymbol\n            })}{' '}\n            to {networkName}\n          </span>\n\n          {/* Addresses */}\n          <div className=\"h-2\" />\n          <div className=\"flex flex-col font-light\">\n            <span className=\"flex flex-nowrap gap-1 text-sm text-ocl-blue lg:text-base\">\n              {parentLayer} transaction: <DepositL1TxStatus tx={tx} />\n            </span>\n            <span className=\"flex flex-nowrap gap-1 text-sm text-ocl-blue lg:text-base\">\n              {layer} transaction: <DepositL2TxStatus tx={tx} />\n            </span>\n            {isCustomDestinationAddressTx(tx) && (\n              <span className=\"mt-2 flex flex-nowrap gap-1 text-sm text-gray-dark lg:text-base\">\n                <CustomAddressTxExplorer\n                  tx={tx}\n                  explorerClassName=\"arb-hover text-blue-link\"\n                />\n              </span>\n            )}\n          </div>\n        </div>\n\n        <span className=\"absolute bottom-0 right-0 max-w-[100px] animate-pulse overflow-hidden text-ellipsis rounded-full bg-orange p-2 px-4 text-sm font-semibold text-ocl-blue lg:max-w-full lg:text-lg\">\n          <DepositCountdown tx={tx} />\n        </span>\n      </div>\n    </DepositCardContainer>\n  )\n}\n","import { useCopyToClipboard } from 'react-use'\nimport { DocumentDuplicateIcon } from '@heroicons/react/24/outline'\n\nimport { ExternalLink } from '../common/ExternalLink'\nimport { MergedTransaction } from '../../state/app/state'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { shortenTxHash } from '../../util/CommonUtils'\nimport { DepositCardContainer } from './DepositCard'\nimport { GET_HELP_LINK } from '../../constants'\nimport { getExplorerUrl } from '../../util/networks'\nimport { useChainLayers } from '../../hooks/useChainLayers'\n\nexport function DepositCardL1Failure({ tx }: { tx: MergedTransaction }) {\n  const { l1 } = useNetworksAndSigners()\n  const { parentLayer } = useChainLayers()\n  const [, copyToClipboard] = useCopyToClipboard()\n\n  return (\n    <DepositCardContainer tx={tx}>\n      <span className=\"text-4xl font-semibold text-brick-dark\">\n        Something went wrong\n      </span>\n\n      <p className=\"text-2xl font-light text-brick-dark\">\n        No worries, we got you.\n        <br />\n        Just paste the following information into a help request:\n      </p>\n\n      <button\n        className=\"arb-hover flex max-w-md flex-row items-center justify-between rounded-xl border border-brick-dark px-6 py-4\"\n        style={{ background: 'rgba(118, 39, 22, 0.2)' }}\n        onClick={() => {\n          copyToClipboard(\n            `${parentLayer} transaction: ${getExplorerUrl(l1.network.id)}/tx/${\n              tx.txId\n            }`\n          )\n        }}\n      >\n        <span className=\"text-base text-brick-dark\">\n          {parentLayer} transaction:{' '}\n          <span className=\"text-blue-link\">{shortenTxHash(tx.txId)}</span>\n        </span>\n        <DocumentDuplicateIcon className=\"h-6 w-6 text-brick-dark\" />\n      </button>\n\n      <div className=\"h-2\" />\n      <ExternalLink\n        href={GET_HELP_LINK}\n        className=\"arb-hover w-max rounded-lg bg-dark px-4 py-3 text-2xl text-white\"\n      >\n        Get Help\n      </ExternalLink>\n    </DepositCardContainer>\n  )\n}\n","import { useCopyToClipboard } from 'react-use'\nimport { DocumentDuplicateIcon } from '@heroicons/react/24/outline'\n\nimport { ExternalLink } from '../common/ExternalLink'\nimport { MergedTransaction } from '../../state/app/state'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { DepositCardContainer } from './DepositCard'\nimport { shortenTxHash } from '../../util/CommonUtils'\nimport { GET_HELP_LINK } from '../../constants'\nimport { getExplorerUrl } from '../../util/networks'\nimport { useChainLayers } from '../../hooks/useChainLayers'\n\n// TODO: Remove after Nitro.\nexport function DepositCardCreationFailure({ tx }: { tx: MergedTransaction }) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const { parentLayer, layer } = useChainLayers()\n  const [, copyToClipboard] = useCopyToClipboard()\n\n  return (\n    <DepositCardContainer tx={tx}>\n      <span className=\"text-4xl font-semibold text-brick-dark\">\n        Something went wrong\n      </span>\n\n      <p className=\"text-2xl font-light text-brick-dark\">\n        No worries, we got you.\n        <br />\n        Just paste the following information into a help request:\n      </p>\n\n      <button\n        className=\"arb-hover flex max-w-md flex-row items-center justify-between rounded-xl border border-brick-dark px-6 py-4\"\n        style={{ background: 'rgba(118, 39, 22, 0.2)' }}\n        onClick={() => {\n          copyToClipboard(\n            `${parentLayer} transaction: ${getExplorerUrl(l1.network.id)}/tx/${\n              tx.txId\n            }\\n${layer} transaction: ${getExplorerUrl(l2.network.id)}/tx/${\n              tx.l1ToL2MsgData?.retryableCreationTxID\n            }`\n          )\n        }}\n      >\n        <div className=\"flex flex-col\">\n          <span className=\"text-base text-brick-dark\">\n            {parentLayer} transaction:{' '}\n            <span className=\"text-blue-link\">{shortenTxHash(tx.txId)}</span>\n          </span>\n          <span className=\"text-base text-brick-dark\">\n            {layer} transaction:{' '}\n            <span className=\"text-blue-link\">\n              {shortenTxHash(tx.l1ToL2MsgData?.retryableCreationTxID || '')}\n            </span>\n          </span>\n        </div>\n        <DocumentDuplicateIcon className=\"h-6 w-6 text-brick-dark\" />\n      </button>\n\n      <div className=\"h-2\" />\n      <ExternalLink\n        href={GET_HELP_LINK}\n        className=\"arb-hover w-max rounded-lg bg-dark px-4 py-3 text-2xl text-white\"\n      >\n        Get Help\n      </ExternalLink>\n    </DepositCardContainer>\n  )\n}\n","/*\n  + We show this card when the L1 txn is completed, but L2 txn fails for some reason.\n  + In that case, we give user an option to raise a Retryable ticket request (basically, retry that transaction)\n  + This action is only limited to ~7 day window from the time of failure of the transaction.\n    + The text for how many days remain is updated dynamically in the card using `retryableExpiryDays` state.\n  + When the ~7 day window expires, we don't show this card, and move the transaction to `EXPIRED` state.\n*/\n\nimport { useEffect, useMemo, useState, useCallback } from 'react'\n\nimport { MergedTransaction } from '../../state/app/state'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { useRedeemRetryable } from '../../hooks/useRedeemRetryable'\nimport { DepositCardContainer, DepositL1TxStatus } from './DepositCard'\nimport { Tooltip } from '../common/Tooltip'\nimport { Button } from '../common/Button'\nimport { getRetryableTicketExpiration } from '../../util/RetryableUtils'\nimport { useIsConnectedToArbitrum } from '../../hooks/useIsConnectedToArbitrum'\nimport { useChainLayers } from '../../hooks/useChainLayers'\n\nexport function DepositCardL2Failure({ tx }: { tx: MergedTransaction }) {\n  const [retryableExpiryDays, setRetryableExpiryDays] = useState<{\n    isValid: boolean // false, if the days are still loading, or ticket is expired or there was error in loading\n    days: number\n  }>({ isValid: false, days: 0 })\n\n  const {\n    l1: { provider: l1Provider },\n    l2: { provider: l2Provider }\n  } = useNetworksAndSigners()\n  const { parentLayer, layer } = useChainLayers()\n\n  const { redeem, isRedeeming } = useRedeemRetryable()\n  const isConnectedToArbitrum = useIsConnectedToArbitrum()\n\n  const isRedeemButtonDisabled = useMemo(\n    () =>\n      typeof isConnectedToArbitrum !== 'undefined'\n        ? !isConnectedToArbitrum\n        : true,\n    [isConnectedToArbitrum]\n  )\n\n  const updateRetryableTicketExpirationDate =\n    useCallback(async (): Promise<void> => {\n      const { daysUntilExpired, isLoading, isLoadingError, isExpired } =\n        await getRetryableTicketExpiration({\n          l1TxHash: tx.txId,\n          l1Provider,\n          l2Provider\n        })\n\n      // update the state to show/hide text and the card\n      setRetryableExpiryDays({\n        days: daysUntilExpired,\n        isValid: !(isLoading || isLoadingError || isExpired)\n      })\n    }, [tx.txId, l1Provider, l2Provider])\n\n  useEffect(() => {\n    updateRetryableTicketExpirationDate()\n  }, [updateRetryableTicketExpirationDate])\n\n  const retryableExpiryDaysText = useMemo((): string => {\n    const remainingDays = retryableExpiryDays.days\n    if (remainingDays < 1) {\n      return 'less than a day'\n    } else if (remainingDays > 1) {\n      return `${remainingDays} days`\n    } else {\n      // case : remainingDays === 1\n      return `${remainingDays} day`\n    }\n  }, [retryableExpiryDays.days])\n\n  return (\n    <>\n      {/* Only show the CTA and `days remaining to retry..` modal if the remaining days are valid */}\n      {retryableExpiryDays?.isValid && (\n        <DepositCardContainer tx={tx}>\n          <span className=\"text-4xl font-semibold text-orange-dark\">\n            {isRedeeming ? 'Re-executing...' : 'L2 transaction failed'}\n          </span>\n\n          <div className=\"h-1\" />\n\n          <span className=\"text-2xl font-normal text-orange-dark\">\n            {`No worries, we can try again. You have ${retryableExpiryDaysText} to re-execute.`}\n          </span>\n\n          <div className=\"h-1\" />\n\n          <Tooltip\n            show={isRedeemButtonDisabled}\n            content={\n              <span>\n                Please connect to the L2 network to re-execute your deposit.\n              </span>\n            }\n          >\n            <Button\n              variant=\"primary\"\n              loading={isRedeeming}\n              disabled={isRedeemButtonDisabled}\n              onClick={() => redeem(tx)}\n              className=\"text-2xl\"\n            >\n              Re-execute\n            </Button>\n          </Tooltip>\n\n          <div className=\"h-2\" />\n          <div className=\"flex flex-col font-light\">\n            <span className=\"text-base text-orange-dark\">\n              {parentLayer} transaction: <DepositL1TxStatus tx={tx} />\n            </span>\n            <span className=\"text-base text-orange-dark\">\n              {layer} transaction:{' '}\n              {isRedeeming ? 'Pending...' : 'Failed. Try re-executing.'}\n            </span>\n          </div>\n        </DepositCardContainer>\n      )}\n    </>\n  )\n}\n","import React, { useMemo } from 'react'\nimport Image from 'next/image'\n\nimport { ExternalLink } from '../common/ExternalLink'\nimport { MergedTransaction, DepositStatus } from '../../state/app/state'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { shortenTxHash } from '../../util/CommonUtils'\nimport { trackEvent } from '../../util/AnalyticsUtils'\n\nimport { DepositCardPending } from './DepositCardPending'\nimport { DepositCardL1Failure } from './DepositCardL1Failure'\nimport { DepositCardCreationFailure } from './DepositCardCreationFailure'\nimport { DepositCardL2Failure } from './DepositCardL2Failure'\nimport { useAppContextActions, useAppContextState } from '../App/AppContext'\nimport { ChainId, getExplorerUrl, getNetworkLogo } from '../../util/networks'\nimport { CheckCircleIcon } from '@heroicons/react/24/outline'\n\nexport function DepositL1TxStatus({\n  tx\n}: {\n  tx: MergedTransaction\n}): JSX.Element | null {\n  const { l1 } = useNetworksAndSigners()\n\n  switch (tx.depositStatus) {\n    case DepositStatus.L1_PENDING:\n      return <span>Pending...</span>\n\n    case DepositStatus.L2_PENDING:\n    case DepositStatus.L2_SUCCESS:\n    case DepositStatus.L2_FAILURE:\n    case DepositStatus.CREATION_FAILED:\n    case DepositStatus.EXPIRED:\n      return (\n        <ExternalLink\n          href={`${getExplorerUrl(l1.network.id)}/tx/${tx.txId}`}\n          className=\"arb-hover flex flex-nowrap items-center gap-1 text-blue-link\"\n        >\n          {shortenTxHash(tx.txId)}\n          <CheckCircleIcon className=\"h-4 w-4 text-lime-dark\" />\n        </ExternalLink>\n      )\n\n    default:\n      return null\n  }\n}\n\nexport function DepositL2TxStatus({\n  tx\n}: {\n  tx: MergedTransaction\n}): JSX.Element | null {\n  const { l2 } = useNetworksAndSigners()\n\n  switch (tx.depositStatus) {\n    case DepositStatus.L1_PENDING:\n    case DepositStatus.L2_PENDING:\n      return <span>Pending...</span>\n\n    case DepositStatus.L2_SUCCESS:\n      return (\n        <ExternalLink\n          href={`${getExplorerUrl(l2.network.id)}/tx/${\n            tx.l1ToL2MsgData?.l2TxID\n          }`}\n          className=\"arb-hover flex flex-nowrap items-center gap-1 text-blue-link\"\n        >\n          {shortenTxHash(tx.l1ToL2MsgData?.l2TxID || '')}\n          {tx.l1ToL2MsgData?.l2TxID && (\n            <CheckCircleIcon className=\"h-4 w-4 text-lime-dark\" />\n          )}\n        </ExternalLink>\n      )\n\n    default:\n      return null\n  }\n}\n\nexport type DepositCardContainerProps = {\n  tx: MergedTransaction\n  children: React.ReactNode\n}\n\nexport function DepositCardContainer({\n  tx,\n  children\n}: DepositCardContainerProps) {\n  const { closeTransactionHistoryPanel } = useAppContextActions()\n  const {\n    layout: { isTransferPanelVisible }\n  } = useAppContextState()\n  const {\n    l2: { network: l2Network }\n  } = useNetworksAndSigners()\n\n  const bgClassName = useMemo(() => {\n    switch (tx.depositStatus) {\n      case DepositStatus.L1_FAILURE:\n      case DepositStatus.CREATION_FAILED:\n        return 'bg-brick'\n\n      case DepositStatus.L2_SUCCESS:\n        return 'bg-lime'\n\n      case DepositStatus.L2_FAILURE:\n        return 'bg-orange'\n\n      default:\n        return 'bg-white'\n    }\n  }, [tx])\n\n  const borderColor =\n    l2Network.id === ChainId.ArbitrumNova\n      ? 'border-arb-nova-primary'\n      : 'border-arb-one-primary'\n\n  return (\n    <div\n      className={`box-border w-full overflow-hidden rounded-xl border-4 ${borderColor} p-4 ${bgClassName}`}\n    >\n      <div className=\"relative flex flex-col items-center gap-6 lg:flex-row\">\n        {/* Logo watermark */}\n        <Image\n          src={getNetworkLogo(l2Network.id)}\n          className=\"absolute left-0 top-[1px] z-10 mr-4 h-8 max-h-[90px] w-auto p-[2px] lg:relative lg:left-[-30px] lg:top-0 lg:h-[4.5rem] lg:w-[initial] lg:max-w-[90px] lg:translate-x-[0.5rem] lg:scale-[1.5] lg:opacity-[60%]\"\n          alt=\"Deposit\"\n          height={90}\n          width={90}\n        />\n        {/* Actual content */}\n        <div className=\"z-20 w-full\">{children}</div>\n      </div>\n\n      {!isTransferPanelVisible && (\n        <button\n          className=\"arb-hover absolute bottom-4 right-4 text-blue-link underline\"\n          onClick={() => {\n            trackEvent('Move More Funds Click')\n            closeTransactionHistoryPanel()\n          }}\n        >\n          Move more funds\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport function DepositCard({ tx }: { tx: MergedTransaction }) {\n  switch (tx.depositStatus) {\n    case DepositStatus.L1_PENDING:\n      return <DepositCardPending tx={tx} />\n\n    case DepositStatus.L1_FAILURE:\n      return <DepositCardL1Failure tx={tx} />\n\n    case DepositStatus.CREATION_FAILED:\n      return <DepositCardCreationFailure tx={tx} />\n\n    case DepositStatus.L2_PENDING:\n      return <DepositCardPending tx={tx} />\n\n    case DepositStatus.L2_FAILURE:\n      return <DepositCardL2Failure tx={tx} />\n\n    // Deposits with an expired retryable don't have a card and will show up in the tx history table.\n    default:\n      return null\n  }\n}\n","import { useMemo } from 'react'\n\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { MergedTransaction } from '../../state/app/state'\nimport {\n  WithdrawalCardContainer,\n  WithdrawalL1TxStatus,\n  WithdrawalL2TxStatus\n} from './WithdrawalCard'\nimport { useClaimWithdrawal } from '../../hooks/useClaimWithdrawal'\nimport { Button } from '../common/Button'\nimport { Tooltip } from '../common/Tooltip'\nimport { formatAmount } from '../../util/NumberUtils'\nimport { isCustomDestinationAddressTx } from '../../state/app/utils'\nimport { sanitizeTokenSymbol } from '../../util/TokenUtils'\nimport { CustomAddressTxExplorer } from '../TransactionHistory/TransactionsTable/TransactionsTable'\nimport { useChainId } from 'wagmi'\n\nimport { ChainId, getNetworkName, isNetwork } from '../../util/networks'\nimport {\n  getTargetChainIdFromSourceChain,\n  useClaimCctp,\n  useRemainingTime\n} from '../../state/cctpState'\nimport { isUserRejectedError } from '../../util/isUserRejectedError'\nimport { errorToast } from '../common/atoms/Toast'\nimport { GET_HELP_LINK } from '../../constants'\nimport { shouldTrackAnalytics, trackEvent } from '../../util/AnalyticsUtils'\nimport { useChainLayers } from '../../hooks/useChainLayers'\nimport { useSwitchNetworkWithConfig } from '../../hooks/useSwitchNetworkWithConfig'\n\nexport function ClaimableCardConfirmed({ tx }: { tx: MergedTransaction }) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const { parentLayer, layer } = useChainLayers()\n  const { switchNetwork } = useSwitchNetworkWithConfig()\n  const l1NetworkName = getNetworkName(l1.network.id)\n  const l2NetworkName = getNetworkName(l2.network.id)\n\n  const { claim, isClaiming } = useClaimWithdrawal()\n  const { claim: claimCctp, isClaiming: isClaimingCctp } = useClaimCctp(tx)\n  const { isConfirmed } = useRemainingTime(tx)\n\n  const chainId = useChainId()\n  const { isArbitrum, isEthereumMainnetOrTestnet } = isNetwork(chainId)\n  const sourceChainId = tx.cctpData?.sourceChainId ?? ChainId.ArbitrumOne\n  const {\n    isEthereumMainnetOrTestnet: isSourceChainIdEthereum,\n    isArbitrum: isSourceChainIdArbitrum\n  } = isNetwork(sourceChainId)\n\n  let toNetworkId\n  if (tx.isCctp) {\n    toNetworkId = getTargetChainIdFromSourceChain(tx)\n  } else {\n    toNetworkId = tx.isWithdrawal ? l1.network.id : l2.network.id\n  }\n\n  const networkName = getNetworkName(toNetworkId)\n  const isOrbitChainSelected = isNetwork(l2.network.id).isOrbitChain\n\n  const currentChainIsValid = useMemo(() => {\n    const isWithdrawalSourceOrbitChain = isNetwork(l2.network.id).isOrbitChain\n\n    if (isWithdrawalSourceOrbitChain) {\n      // Enable claim if withdrawn from an Orbit chain and is connected to L2\n      return isArbitrum\n    }\n\n    return (\n      (isSourceChainIdEthereum && isArbitrum) ||\n      (isSourceChainIdArbitrum && isEthereumMainnetOrTestnet)\n    )\n  }, [\n    l2.network.id,\n    isSourceChainIdEthereum,\n    isArbitrum,\n    isSourceChainIdArbitrum,\n    isEthereumMainnetOrTestnet\n  ])\n\n  const isClaimButtonDisabled = useMemo(() => {\n    return !!(\n      isClaiming ||\n      isClaimingCctp ||\n      !isConfirmed ||\n      (tx.status === 'Confirmed' && tx.cctpData?.receiveMessageTimestamp)\n    )\n  }, [\n    isClaiming,\n    isClaimingCctp,\n    isConfirmed,\n    tx.status,\n    tx.cctpData?.receiveMessageTimestamp\n  ])\n\n  const getHelpOnError = () => {\n    window.open(GET_HELP_LINK, '_blank')\n\n    // track the button click\n    if (shouldTrackAnalytics(networkName)) {\n      trackEvent('Tx Error: Get Help Click', { network: networkName })\n    }\n  }\n\n  const tokenSymbol = useMemo(\n    () =>\n      sanitizeTokenSymbol(tx.asset, {\n        erc20L1Address: tx.tokenAddress,\n        chain: isSourceChainIdEthereum ? l1.network : l2.network\n      }),\n    [tx, isSourceChainIdEthereum, l1, l2]\n  )\n\n  if (isOrbitChainSelected && tx.isCctp) {\n    return null\n  }\n\n  return (\n    <WithdrawalCardContainer tx={tx}>\n      <div className=\"flex flex-row flex-wrap items-center justify-between\">\n        <div className=\"lg:-ml-8\">\n          {/* Heading */}\n          <span className=\"ml-8 text-lg text-ocl-blue lg:ml-0 lg:text-2xl\">\n            Funds are ready to claim!\n          </span>\n\n          {/* Addresses */}\n          <div className=\"h-2\" />\n          <div className=\"flex flex-col font-light\">\n            {isSourceChainIdEthereum ? (\n              <>\n                <span className=\"flex flex-nowrap gap-1 text-sm text-ocl-blue lg:text-base\">\n                  {parentLayer} transaction: <WithdrawalL1TxStatus tx={tx} />\n                </span>\n                <span className=\"flex flex-nowrap gap-1 text-sm text-ocl-blue lg:text-base\">\n                  <>{layer} transaction: Will show after claiming</>\n                </span>\n              </>\n            ) : (\n              <>\n                <span className=\"flex flex-nowrap gap-1 text-sm text-ocl-blue lg:text-base\">\n                  {layer} transaction: <WithdrawalL2TxStatus tx={tx} />\n                </span>\n                <span className=\"flex flex-nowrap gap-1 text-sm text-ocl-blue lg:text-base\">\n                  <>{parentLayer} transaction: Will show after claiming</>\n                </span>\n              </>\n            )}\n\n            {isCustomDestinationAddressTx(tx) && (\n              <span className=\"mt-2 flex flex-nowrap gap-1 text-sm text-gray-dark lg:text-base\">\n                <CustomAddressTxExplorer\n                  tx={tx}\n                  explorerClassName=\"arb-hover text-blue-link\"\n                />\n              </span>\n            )}\n          </div>\n        </div>\n\n        {tx.status !== 'Failure' ? (\n          <Tooltip\n            wrapperClassName=\"w-full md:w-auto\"\n            show={!currentChainIsValid}\n            content={\n              <span>\n                {`Please switch to ${\n                  isSourceChainIdEthereum ? l2NetworkName : l1NetworkName\n                } to claim your ${\n                  isSourceChainIdEthereum ? 'deposit' : 'withdrawal'\n                }.`}\n              </span>\n            }\n          >\n            <Button\n              variant=\"primary\"\n              loading={isClaiming || isClaimingCctp}\n              disabled={isClaimButtonDisabled}\n              onClick={async () => {\n                try {\n                  if (!currentChainIsValid) {\n                    return switchNetwork?.(\n                      isSourceChainIdEthereum ? l2.network.id : l1.network.id\n                    )\n                  }\n                  if (tx.isCctp) {\n                    await claimCctp()\n                  } else {\n                    await claim(tx)\n                  }\n                } catch (error: any) {\n                  if (isUserRejectedError(error)) {\n                    return\n                  }\n\n                  errorToast(\n                    `Can't claim ${\n                      isSourceChainIdEthereum ? 'withdrawal' : 'deposit'\n                    }: ${error?.message ?? error}`\n                  )\n                }\n              }}\n              className=\"bottom-0 right-0 mt-2 flex w-full flex-nowrap justify-center text-center text-sm md:absolute md:mt-0 md:w-auto  lg:my-4 lg:text-lg\"\n            >\n              {currentChainIsValid ? (\n                <div className=\"flex flex-nowrap whitespace-pre\">\n                  Claim{' '}\n                  <span className=\"hidden lg:flex\">\n                    {formatAmount(Number(tx.value), {\n                      symbol: tokenSymbol\n                    })}\n                  </span>\n                </div>\n              ) : (\n                'Switch Network'\n              )}\n            </Button>\n          </Tooltip>\n        ) : (\n          <Button variant=\"primary\" onClick={getHelpOnError}>\n            Get Help\n          </Button>\n        )}\n      </div>\n    </WithdrawalCardContainer>\n  )\n}\n","import { useMemo } from 'react'\nimport { twMerge } from 'tailwind-merge'\n\nimport { getNetworkName, isNetwork } from '../../util/networks'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { MergedTransaction } from '../../state/app/state'\nimport { WithdrawalCountdown } from '../common/WithdrawalCountdown'\nimport {\n  WithdrawalCardContainer,\n  WithdrawalL1TxStatus,\n  WithdrawalL2TxStatus\n} from './WithdrawalCard'\nimport { isCustomDestinationAddressTx } from '../../state/app/utils'\nimport { formatAmount } from '../../util/NumberUtils'\nimport { sanitizeTokenSymbol } from '../../util/TokenUtils'\nimport { CustomAddressTxExplorer } from '../TransactionHistory/TransactionsTable/TransactionsTable'\nimport {\n  getTargetChainIdFromSourceChain,\n  useRemainingTime\n} from '../../state/cctpState'\nimport { useChainLayers } from '../../hooks/useChainLayers'\n\nexport function ClaimableCardUnconfirmed({ tx }: { tx: MergedTransaction }) {\n  const { l1, l2 } = useNetworksAndSigners()\n  const { parentLayer, layer } = useChainLayers()\n\n  let toNetworkId\n  if (tx.isCctp) {\n    toNetworkId = getTargetChainIdFromSourceChain(tx)\n  } else {\n    toNetworkId = tx.isWithdrawal ? l1.network.id : l2.network.id\n  }\n\n  const networkName = getNetworkName(toNetworkId)\n\n  const isOrbitChainSelected = isNetwork(l2.network.id).isOrbitChain\n\n  const tokenSymbol = useMemo(\n    () =>\n      sanitizeTokenSymbol(tx.asset, {\n        erc20L1Address: tx.tokenAddress,\n        chain: tx.isWithdrawal ? l2.network : l1.network\n      }),\n    [tx.asset, tx.tokenAddress, tx.isWithdrawal, l1.network, l2.network]\n  )\n\n  const { remainingTime } = useRemainingTime(tx)\n\n  if (isOrbitChainSelected && tx.isCctp) {\n    return null\n  }\n\n  return (\n    <WithdrawalCardContainer tx={tx}>\n      <div className=\"flex flex-row flex-wrap items-center justify-between\">\n        <div className=\"flex flex-col lg:ml-[-2rem]\">\n          <span className=\"ml-8 text-lg text-ocl-blue lg:ml-0 lg:text-2xl\">\n            Moving {formatAmount(Number(tx.value), { symbol: tokenSymbol })} to{' '}\n            {networkName}\n          </span>\n\n          <div className=\"h-2\" />\n          <div className=\"flex flex-col font-light\">\n            {tx.isWithdrawal ? (\n              <>\n                <span className=\"flex flex-nowrap gap-1 text-sm text-ocl-blue lg:text-base\">\n                  {layer} transaction: <WithdrawalL2TxStatus tx={tx} />\n                </span>\n                <span className=\"flex flex-nowrap gap-1 text-sm text-ocl-blue lg:text-base\">\n                  {parentLayer} transaction:{' '}\n                  {tx.status === 'Failure'\n                    ? 'Failed'\n                    : 'Will show after claiming'}\n                </span>\n              </>\n            ) : (\n              <>\n                <span className=\"flex flex-nowrap gap-1 text-sm text-ocl-blue lg:text-base\">\n                  {parentLayer} transaction: <WithdrawalL1TxStatus tx={tx} />\n                </span>\n                <span className=\"flex flex-nowrap gap-1 text-sm text-ocl-blue lg:text-base\">\n                  {layer} transaction:{' '}\n                  {tx.status === 'Failure'\n                    ? 'Failed'\n                    : 'Will show after claiming'}\n                </span>\n              </>\n            )}\n            {isCustomDestinationAddressTx(tx) && (\n              <span className=\"mt-2 flex flex-nowrap gap-1 text-sm text-gray-dark lg:text-base\">\n                <CustomAddressTxExplorer\n                  tx={tx}\n                  explorerClassName=\"arb-hover text-blue-link\"\n                />\n              </span>\n            )}\n          </div>\n        </div>\n\n        <span\n          className={twMerge(\n            'bottom-0 right-0 mt-2 w-full animate-pulse overflow-hidden text-ellipsis rounded-full bg-orange p-2 px-4 text-center text-sm font-semibold text-ocl-blue',\n            'md:absolute md:mt-2 md:w-auto md:text-lg'\n          )}\n        >\n          <span className=\"whitespace-nowrap\">\n            {tx.isCctp ? (\n              <>{remainingTime}</>\n            ) : (\n              <WithdrawalCountdown createdAt={tx.createdAt} />\n            )}\n          </span>\n        </span>\n      </div>\n    </WithdrawalCardContainer>\n  )\n}\n","import React, { useMemo } from 'react'\n\nimport { ExternalLink } from '../common/ExternalLink'\nimport { MergedTransaction } from '../../state/app/state'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { shortenTxHash } from '../../util/CommonUtils'\nimport { trackEvent } from '../../util/AnalyticsUtils'\n\nimport { useAppContextActions, useAppContextState } from '../App/AppContext'\nimport {\n  ChainId,\n  getExplorerUrl,\n  getNetworkLogo,\n  isNetwork\n} from '../../util/networks'\nimport { CheckCircleIcon } from '@heroicons/react/24/outline'\nimport { findMatchingL1TxForWithdrawal } from '../../state/app/utils'\nimport Image from 'next/image'\nimport { ClaimableCardConfirmed } from './ClaimableCardConfirmed'\nimport { ClaimableCardUnconfirmed } from './ClaimableCardUnconfirmed'\nimport { twMerge } from 'tailwind-merge'\n\nexport function WithdrawalL2TxStatus({\n  tx\n}: {\n  tx: MergedTransaction\n}): JSX.Element {\n  const { l2 } = useNetworksAndSigners()\n  const { network: l2Network } = l2\n\n  if (typeof l2Network === 'undefined') {\n    return <span>Not available</span>\n  }\n\n  if (tx.direction === 'withdraw' && tx.status === 'pending') {\n    return <span>Pending...</span>\n  }\n\n  if (tx.txId === 'l2-tx-hash-not-found') {\n    return <span>Not available</span>\n  }\n\n  return (\n    <ExternalLink\n      href={`${getExplorerUrl(l2Network.id)}/tx/${tx.txId}`}\n      className=\"arb-hover flex flex-nowrap items-center gap-1 text-blue-link\"\n    >\n      {shortenTxHash(tx.txId)}\n      <CheckCircleIcon className=\"h-4 w-4 text-lime-dark\" />\n    </ExternalLink>\n  )\n}\n\nexport function WithdrawalL1TxStatus({\n  tx\n}: {\n  tx: MergedTransaction\n}): JSX.Element {\n  const { l1 } = useNetworksAndSigners()\n  const { network: l1Network } = l1\n\n  // Try to find the L1 transaction that matches the L2ToL1 message\n  const l1Tx = tx.isCctp ? tx : findMatchingL1TxForWithdrawal(tx)\n\n  if (typeof l1Network === 'undefined') {\n    return <span>Not available</span>\n  }\n\n  if (typeof l1Tx === 'undefined') {\n    return <span>Not available</span>\n  }\n\n  return (\n    <ExternalLink\n      href={`${getExplorerUrl(l1Network.id)}/tx/${l1Tx.txId}`}\n      className=\"arb-hover flex flex-nowrap items-center gap-1 text-blue-link\"\n    >\n      {shortenTxHash(l1Tx.txId)}\n      <CheckCircleIcon className=\"h-4 w-4 text-lime-dark\" />\n    </ExternalLink>\n  )\n}\n\nexport type WithdrawalCardContainerProps = {\n  tx: MergedTransaction\n  children: React.ReactNode\n}\n\nexport function WithdrawalCardContainer({\n  tx,\n  children\n}: WithdrawalCardContainerProps) {\n  const { closeTransactionHistoryPanel } = useAppContextActions()\n  const {\n    layout: { isTransferPanelVisible }\n  } = useAppContextState()\n  const sourceChainId = tx.cctpData?.sourceChainId ?? ChainId.ArbitrumOne\n  const { isEthereumMainnetOrTestnet } = isNetwork(sourceChainId)\n\n  const bgClassName = useMemo(() => {\n    switch (tx.status) {\n      case 'Executed':\n        return 'bg-lime'\n\n      case 'Failure':\n        return 'bg-brick'\n\n      default:\n        return 'bg-white'\n    }\n  }, [tx])\n\n  return (\n    <div\n      className={twMerge(\n        `box-border w-full overflow-hidden rounded-xl border-4 border-eth-dark ${bgClassName}`,\n        !tx.isCctp && 'p-4'\n      )}\n    >\n      {/* Cctp Header */}\n      {tx.isCctp && (\n        <div className=\"flex items-center justify-center bg-gradientCctp p-[.65rem]\">\n          <Image\n            src=\"/icons/cctp.svg\"\n            className=\"mr-1 h-5 w-auto\"\n            alt=\"Cross-Chain Transfer Protocol (Native USDC)\"\n            width={20}\n            height={20}\n          />\n          Cross-Chain Transfer Protocol Transaction\n        </div>\n      )}\n      <div className={`${tx.isCctp && 'p-4'}`}>\n        <div className=\"relative flex flex-col items-center gap-6 lg:flex-row\">\n          {/* Logo watermark */}\n          <Image\n            src={\n              // Network destination logo\n              isEthereumMainnetOrTestnet\n                ? getNetworkLogo(ChainId.ArbitrumOne)\n                : getNetworkLogo(ChainId.Ethereum)\n            }\n            className=\"absolute left-0 top-[1px] z-10 mr-4 h-8 max-h-[90px] w-auto p-[2px] lg:relative lg:left-[-30px] lg:top-0 lg:h-[4.5rem] lg:w-[initial] lg:max-w-[90px] lg:translate-x-[0.5rem] lg:scale-[1.5] lg:opacity-[60%]\"\n            alt={tx.direction}\n            width={90}\n            height={90}\n          />\n          {/* Actual content */}\n          <div className=\"z-20 w-full\">{children}</div>\n        </div>\n\n        {!isTransferPanelVisible && (\n          <button\n            className=\"arb-hover absolute bottom-4 right-4 text-ocl-blue underline\"\n            onClick={() => {\n              trackEvent('Move More Funds Click')\n              closeTransactionHistoryPanel()\n            }}\n          >\n            Move more funds\n          </button>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport function WithdrawalCard({ tx }: { tx: MergedTransaction }) {\n  if (tx.direction === 'withdraw') {\n    return <ClaimableCardUnconfirmed tx={tx} />\n  }\n\n  switch (tx.status) {\n    case 'Unconfirmed':\n      return <ClaimableCardUnconfirmed tx={tx} />\n\n    case 'Confirmed':\n      return <ClaimableCardConfirmed tx={tx} />\n\n    default:\n      return null\n  }\n}\n","import { Disclosure, Transition } from '@headlessui/react'\nimport {\n  InformationCircleIcon,\n  ChevronRightIcon\n} from '@heroicons/react/24/outline'\n\nimport { ExternalLink } from '../common/ExternalLink'\nimport { useChainLayers } from '../../hooks/useChainLayers'\nimport { DOCS_DOMAIN } from '../../constants'\n\nexport function PendingDepositWarning() {\n  const { parentLayer, layer } = useChainLayers()\n\n  return (\n    <Disclosure\n      as=\"div\"\n      className=\"flex w-full flex-col justify-start gap-1 rounded-lg bg-orange p-3 text-sm text-orange-dark\"\n    >\n      <Disclosure.Button className=\"flex items-center text-left\">\n        <div className=\"flex items-start gap-1\">\n          <InformationCircleIcon className=\"mt-[2px] h-4 w-4 shrink-0 stroke-orange-dark\" />\n          <p>\n            Deposit might fail if the gas fee provided was too low. Stay on this\n            page until the {layer} transaction succeeds.\n          </p>\n        </div>\n        <ChevronRightIcon className=\"ml-auto h-4 w-4 shrink-0 ui-open:rotate-90 ui-open:transform\" />\n      </Disclosure.Button>\n      <Transition\n        enter=\"transition duration-100 ease-out\"\n        enterFrom=\"transform scale-95 opacity-0\"\n        enterTo=\"transform scale-100 opacity-100\"\n        leave=\"transition duration-75 ease-out\"\n        leaveFrom=\"transform scale-100 opacity-100\"\n        leaveTo=\"transform scale-95 opacity-0\"\n      >\n        <Disclosure.Panel className=\"flex flex-col gap-2 pl-5\">\n          <p>\n            If you must leave, check back <strong>within a week</strong>. In\n            most cases, your deposits should go through successfully.\n            <br />\n            However, if it failed, re-execute on {layer}{' '}\n            <strong>within a week</strong> from the time of the {parentLayer}{' '}\n            transaction, or else{' '}\n            <strong>your funds could be lost forever!</strong>\n          </p>\n          <p>\n            Learn more about{' '}\n            <ExternalLink\n              href={`${DOCS_DOMAIN}/arbos/l1-to-l2-messaging`}\n              className=\"arb-hover text-blue-link underline\"\n            >\n              retryable tickets\n            </ExternalLink>\n            , the mechanism behind deposits.\n          </p>\n        </Disclosure.Panel>\n      </Transition>\n    </Disclosure>\n  )\n}\n","import { motion } from 'framer-motion'\nimport { InformationCircleIcon } from '@heroicons/react/24/outline'\n\nimport { MergedTransaction } from '../../state/app/state'\nimport { isDeposit, isTokenDeposit } from '../../state/app/utils'\nimport { motionDivProps } from '../MainContent/MainContent'\nimport { DepositCard } from '../TransferPanel/DepositCard'\nimport { WithdrawalCard } from '../TransferPanel/WithdrawalCard'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { ChainId, getNetworkName, isNetwork } from '../../util/networks'\nimport { ExternalLink } from '../common/ExternalLink'\nimport { Loader } from '../common/atoms/Loader'\nimport { useSwitchNetworkWithConfig } from '../../hooks/useSwitchNetworkWithConfig'\nimport { PendingDepositWarning } from './PendingDepositWarning'\nimport { ClaimableCardConfirmed } from '../TransferPanel/ClaimableCardConfirmed'\nimport { ClaimableCardUnconfirmed } from '../TransferPanel/ClaimableCardUnconfirmed'\n\nconst getOtherL2NetworkChainId = (chainId: number) => {\n  if (isNetwork(chainId).isEthereumMainnetOrTestnet) {\n    console.warn(`[getOtherL2NetworkChainId] Unexpected chain id: ${chainId}`)\n  }\n  return isNetwork(chainId).isArbitrumOne\n    ? ChainId.ArbitrumNova\n    : ChainId.ArbitrumOne\n}\n\nconst MergedTransactionCard = ({\n  transaction\n}: {\n  transaction: MergedTransaction\n}) => {\n  if (transaction.isCctp) {\n    return (\n      <motion.div key={transaction.txId} {...motionDivProps}>\n        {transaction.status === 'Confirmed' ? (\n          <ClaimableCardConfirmed tx={transaction} />\n        ) : (\n          <ClaimableCardUnconfirmed tx={transaction} />\n        )}\n      </motion.div>\n    )\n  }\n\n  return isDeposit(transaction) ? (\n    <motion.div key={transaction.txId} {...motionDivProps}>\n      <DepositCard key={transaction.txId} tx={transaction} />\n    </motion.div>\n  ) : (\n    <motion.div key={transaction.txId} {...motionDivProps}>\n      <WithdrawalCard key={transaction.txId} tx={transaction} />\n    </motion.div>\n  )\n}\n\nexport const PendingTransactions = ({\n  transactions,\n  loading,\n  error\n}: {\n  transactions: MergedTransaction[]\n  loading: boolean\n  error: boolean\n}) => {\n  const {\n    l1: { network: l1Network },\n    l2: { network: l2Network }\n  } = useNetworksAndSigners()\n  const { switchNetwork } = useSwitchNetworkWithConfig()\n\n  const bgClassName = isNetwork(l2Network.id).isArbitrumNova\n    ? 'bg-gray-dark'\n    : 'bg-ocl-blue'\n\n  return (\n    <div\n      className={`pending-transactions relative flex max-h-[500px] flex-col gap-4 overflow-auto rounded-lg p-4 ${bgClassName}`}\n    >\n      {/* Heading */}\n      <div className=\"heading flex items-center justify-between text-base text-white lg:text-lg\">\n        <div className=\"flex flex-nowrap items-center gap-x-3 whitespace-nowrap\">\n          {loading && <Loader color=\"white\" size=\"small\" />}\n          Pending Transactions:{' '}\n          {`${getNetworkName(l2Network.id)}/${getNetworkName(l1Network.id)}`}\n        </div>\n\n        {/* For mainnets, show the corresponding network to switch - One < > Nova */}\n        {!isNetwork(l2Network.id).isTestnet && (\n          <ExternalLink\n            className=\"arb-hover cursor-pointer text-sm text-white underline\"\n            onClick={() => {\n              switchNetwork?.(getOtherL2NetworkChainId(l2Network.id))\n            }}\n          >{`See ${getNetworkName(\n            getOtherL2NetworkChainId(l2Network.id)\n          )}`}</ExternalLink>\n        )}\n      </div>\n\n      {/* Error loading transactions */}\n      {error && (\n        <span className=\"flex gap-x-2 text-sm text-red-400\">\n          <InformationCircleIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n          Failed to load pending transactions, please try refreshing the page\n        </span>\n      )}\n\n      {/* No pending transactions */}\n      {!error && !loading && transactions.length === 0 && (\n        <span className=\"flex gap-x-2 text-sm text-white opacity-40\">\n          No pending transactions\n        </span>\n      )}\n\n      {transactions.length > 0 &&\n        transactions.some(tx => isTokenDeposit(tx)) && (\n          <PendingDepositWarning />\n        )}\n\n      {/* Transaction cards */}\n      {transactions.map(tx => (\n        <MergedTransactionCard transaction={tx} key={tx.txId} />\n      ))}\n    </div>\n  )\n}\n","/*\n  A small warning banner that we show when the user has had too many failed transactions in the past few days.\n  Format: \"In the past [X] days, you had [Y] failed txns. Get Help.\"\n  This way users can seek help without going to the individual ticket id\n*/\n\nimport { InformationCircleIcon } from '@heroicons/react/24/outline'\nimport dayjs from 'dayjs'\nimport { GET_HELP_LINK } from '../../constants'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { MergedTransaction } from '../../state/app/state'\nimport { shouldTrackAnalytics, trackEvent } from '../../util/AnalyticsUtils'\nimport { getNetworkName } from '../../util/networks'\nimport { ExternalLink } from '../common/ExternalLink'\n\nexport const FailedTransactionsWarning = ({\n  transactions\n}: {\n  transactions: MergedTransaction[]\n}) => {\n  const {\n    l2: { network: l2Network }\n  } = useNetworksAndSigners()\n  const l2NetworkName = getNetworkName(l2Network.id)\n\n  const numFailedTransactions = transactions?.length\n\n  const daysPassedSinceFailure =\n    dayjs().diff(\n      dayjs(transactions[transactions.length - 1]?.createdAt),\n      'days'\n    ) || 1 // to avoid '0 days passed since' issue\n\n  // according to the specs, we have kept 3 errors as the minimum threshold to show this bar\n  // don't show this if user doesn't have less than 3 failed transactions\n  if (numFailedTransactions < 3) return null\n\n  return (\n    <div className=\"flex items-center gap-1 rounded-md bg-orange p-2 text-base text-dark lg:flex-nowrap\">\n      <InformationCircleIcon className=\"h-4 w-4\" />\n      In the past {daysPassedSinceFailure}{' '}\n      {daysPassedSinceFailure < 2 ? 'day' : 'days'} you had\n      <span className=\"text-brick-dark\">\n        {numFailedTransactions} failed transactions.\n      </span>\n      <ExternalLink\n        href={GET_HELP_LINK}\n        className=\"arb-hover cursor-pointer text-sm text-blue-link underline\"\n        onClick={() => {\n          if (shouldTrackAnalytics(l2NetworkName)) {\n            trackEvent('Multiple Tx Error: Get Help Click', {\n              network: l2NetworkName\n            })\n          }\n        }}\n      >\n        Get Help.\n      </ExternalLink>\n    </div>\n  )\n}\n","import React, { ReactEventHandler } from 'react'\n\nexport function TransactionsTableSwitch({\n  tabs\n}: {\n  tabs: {\n    handleClick: ReactEventHandler<HTMLButtonElement>\n    isActive: boolean\n    text: React.ReactNode\n  }[]\n}) {\n  return (\n    <div className=\"sticky left-0 top-0 bg-white p-4 pt-4 text-lg\">\n      {tabs.map(({ handleClick, isActive, text }, index) => (\n        <button\n          key={index}\n          onClick={handleClick}\n          className={\n            isActive\n              ? 'pointer-events-none border-b-4 border-black'\n              : 'arb-hover border-gray border-b-2 pb-[1px]'\n          }\n        >\n          <span className=\"px-4\">{text}</span>\n        </button>\n      ))}\n    </div>\n  )\n}\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { useAccount } from 'wagmi'\n\nimport { TransactionsTableClaimableRow } from './TransactionsTableClaimableRow'\nimport { TableBodyLoading } from './TableBodyLoading'\nimport { TableBodyError } from './TableBodyError'\nimport { TableActionHeader } from './TableActionHeader'\nimport {\n  EmptyTableRow,\n  PageParams,\n  TableStatus,\n  TransactionsTableHeader\n} from './TransactionsTable'\nimport { TransactionsTableSwitch } from './TransactionsTableSwitch'\nimport { useCctpFetching, useCctpState } from '../../../state/cctpState'\nimport { useNetworksAndSigners } from '../../../hooks/useNetworksAndSigners'\nimport { MergedTransaction } from '../../../state/app/state'\nimport { useAccountType } from '../../../hooks/useAccountType'\nimport { getNetworkName } from '../../../util/networks'\nimport { useAppContextActions, useAppContextState } from '../../App/AppContext'\n\nexport function TransactionsTableCctp() {\n  const { address } = useAccount()\n  const {\n    layout: { isTransactionHistoryShowingCctpDeposits }\n  } = useAppContextState()\n  const { showCctpDepositsTransactions, showCctpWithdrawalsTransactions } =\n    useAppContextActions()\n\n  const { isSmartContractWallet } = useAccountType()\n  const [pageParams, setPageParams] = useState<PageParams>({\n    searchString: '',\n    pageNumber: 0,\n    pageSize: 10\n  })\n  const { l1, l2 } = useNetworksAndSigners()\n  const { transfers, depositIds, withdrawalIds } = useCctpState()\n  const {\n    depositsError,\n    withdrawalsError,\n    isLoadingDeposits,\n    isLoadingWithdrawals\n  } = useCctpFetching({\n    l1ChainId: l1.network.id,\n    l2ChainId: l2.network.id,\n    walletAddress: address,\n    pageSize: pageParams.pageSize,\n    pageNumber: pageParams.pageNumber,\n    type: isTransactionHistoryShowingCctpDeposits ? 'deposits' : 'withdrawals'\n  })\n  const isLoading = isTransactionHistoryShowingCctpDeposits\n    ? isLoadingDeposits\n    : isLoadingWithdrawals\n  const hasError = isTransactionHistoryShowingCctpDeposits\n    ? depositsError\n    : withdrawalsError\n\n  const status = useMemo(() => {\n    if (isLoading) return TableStatus.LOADING\n    if (hasError) return TableStatus.ERROR\n    return TableStatus.SUCCESS\n  }, [hasError, isLoading])\n\n  const transactions = useMemo(() => {\n    const startIndex = pageParams.pageNumber * pageParams.pageSize\n    const ids = isTransactionHistoryShowingCctpDeposits\n      ? depositIds\n      : withdrawalIds\n    return ids\n      .map(id => transfers[id])\n      .slice(\n        startIndex,\n        startIndex + pageParams.pageSize\n      ) as unknown as MergedTransaction[]\n  }, [\n    depositIds,\n    pageParams.pageNumber,\n    pageParams.pageSize,\n    transfers,\n    isTransactionHistoryShowingCctpDeposits,\n    withdrawalIds\n  ])\n\n  useEffect(() => {\n    setPageParams(prevPageParams => ({\n      ...prevPageParams,\n      pageNumber: 0\n    }))\n  }, [setPageParams, isTransactionHistoryShowingCctpDeposits])\n\n  const tabs = useMemo(() => {\n    return [\n      {\n        handleClick: () => showCctpDepositsTransactions(),\n        isActive: isTransactionHistoryShowingCctpDeposits,\n        text: `To ${getNetworkName(l2.network.id)}`\n      },\n      {\n        handleClick: () => showCctpWithdrawalsTransactions(),\n        isActive: !isTransactionHistoryShowingCctpDeposits,\n        text: `To ${getNetworkName(l1.network.id)}`\n      }\n    ]\n  }, [\n    isTransactionHistoryShowingCctpDeposits,\n    l1.network.id,\n    l2.network.id,\n    showCctpDepositsTransactions,\n    showCctpWithdrawalsTransactions\n  ])\n\n  return (\n    <>\n      {!isSmartContractWallet && <TransactionsTableSwitch tabs={tabs} />}\n\n      {/* search and pagination buttons */}\n      <TableActionHeader\n        type={'cctp'}\n        pageParams={pageParams}\n        setPageParams={setPageParams}\n        transactions={transactions}\n        loading={isLoading}\n        showSearch={false}\n      />\n\n      <table className=\"w-full overflow-hidden rounded-b-lg bg-white\">\n        <TransactionsTableHeader />\n\n        <tbody>\n          {status === TableStatus.LOADING && <TableBodyLoading />}\n\n          {status === TableStatus.ERROR && <TableBodyError />}\n\n          {/* when there are no transactions present */}\n          {status === TableStatus.SUCCESS && !transactions.length && (\n            <EmptyTableRow>\n              <span className=\"text-sm font-medium\">No transactions</span>\n            </EmptyTableRow>\n          )}\n\n          {/* finally, when transactions are present, show rows */}\n          {status === TableStatus.SUCCESS &&\n            transactions.map((tx, index) => {\n              const isLastRow = index === transactions.length - 1\n\n              return (\n                <TransactionsTableClaimableRow\n                  key={`${tx.txId}-${tx.direction}`}\n                  tx={tx}\n                  className={!isLastRow ? 'border-b border-black' : ''}\n                />\n              )\n            })}\n        </tbody>\n      </table>\n    </>\n  )\n}\n","export const CustomMessageWarning = ({\n  children\n}: {\n  children: React.ReactNode\n}) => {\n  return (\n    <div className=\"flex items-center gap-1 rounded-md bg-orange p-2 text-base text-dark lg:flex-nowrap\">\n      {children}\n    </div>\n  )\n}\n","import { Tab } from '@headlessui/react'\nimport {\n  Dispatch,\n  SetStateAction,\n  useCallback,\n  useEffect,\n  useMemo\n} from 'react'\nimport { useAccount, useNetwork } from 'wagmi'\nimport { twMerge } from 'tailwind-merge'\n\nimport { CompleteDepositData } from '../../hooks/useDeposits'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { CompleteWithdrawalData } from '../../hooks/useWithdrawals'\nimport { useAppState } from '../../state'\nimport { getNetworkLogo, getNetworkName, isNetwork } from '../../util/networks'\nimport {\n  PageParams,\n  TransactionsTable\n} from './TransactionsTable/TransactionsTable'\nimport { PendingTransactions } from './PendingTransactions'\nimport { FailedTransactionsWarning } from './FailedTransactionsWarning'\nimport { isFailed, isPending } from '../../state/app/utils'\nimport Image from 'next/image'\nimport { TabButton } from '../common/Tab'\nimport { useAccountType } from '../../hooks/useAccountType'\nimport {\n  TransactionHistoryTab,\n  useAppContextActions,\n  useAppContextState\n} from '../App/AppContext'\nimport { useCctpFetching, useCctpState } from '../../state/cctpState'\nimport { MergedTransaction } from '../../state/app/state'\nimport dayjs from 'dayjs'\nimport { TransactionsTableCctp } from './TransactionsTable/TransactionsTableCctp'\nimport { CustomMessageWarning } from './CustomMessageWarning'\n\nexport const TransactionHistory = ({\n  depositsPageParams,\n  withdrawalsPageParams,\n  depositsData,\n  depositsLoading,\n  depositsError,\n  withdrawalsData,\n  withdrawalsLoading,\n  withdrawalsError,\n  setDepositsPageParams,\n  setWithdrawalsPageParams\n}: {\n  depositsPageParams: PageParams\n  withdrawalsPageParams: PageParams\n  depositsData: CompleteDepositData\n  withdrawalsData: CompleteWithdrawalData\n  depositsLoading: boolean\n  depositsError: boolean\n  withdrawalsLoading: boolean\n  withdrawalsError: boolean\n  setDepositsPageParams: Dispatch<SetStateAction<PageParams>>\n  setWithdrawalsPageParams: Dispatch<SetStateAction<PageParams>>\n}) => {\n  const { chain } = useNetwork()\n  const { l1, l2 } = useNetworksAndSigners()\n  const { isSmartContractWallet } = useAccountType()\n  const {\n    showCctpDepositsTransactions,\n    showCctpWithdrawalsTransactions,\n    setTransactionHistoryTab\n  } = useAppContextActions()\n  const {\n    layout: { transactionHistorySelectedTab }\n  } = useAppContextState()\n  const {\n    pendingIds: pendingIdsCctp,\n    transfers: transfersCctp,\n    transfersIds\n  } = useCctpState()\n  const { address } = useAccount()\n  const { isLoadingDeposits, depositsError: cctpDepositsError } =\n    useCctpFetching({\n      l1ChainId: l1.network.id,\n      l2ChainId: l2.network.id,\n      walletAddress: address,\n      pageSize: 10,\n      pageNumber: 0,\n      type: 'deposits'\n    })\n  const { isLoadingWithdrawals, withdrawalsError: cctpWithdrawalsError } =\n    useCctpFetching({\n      l1ChainId: l1.network.id,\n      l2ChainId: l2.network.id,\n      walletAddress: address,\n      pageSize: 10,\n      pageNumber: 0,\n      type: 'withdrawals'\n    })\n\n  const {\n    app: { mergedTransactions }\n  } = useAppState()\n\n  const isLoading =\n    depositsLoading ||\n    withdrawalsLoading ||\n    isLoadingDeposits ||\n    isLoadingWithdrawals\n  const error =\n    depositsError ||\n    withdrawalsError ||\n    cctpDepositsError ||\n    cctpWithdrawalsError\n\n  const isOrbitChainSelected = isNetwork(l2.network.id).isOrbitChain\n\n  const pendingTransactions = useMemo(() => {\n    const pendingCctpTransactions = pendingIdsCctp\n      .map(pendingId => {\n        return transfersCctp[pendingId]\n      })\n      .filter(Boolean) as unknown as MergedTransaction[]\n    const transactions = mergedTransactions\n      .concat(pendingCctpTransactions)\n      .sort((t1, t2) => {\n        if (t1.createdAt && t2.createdAt) {\n          return dayjs(t2.createdAt).isAfter(t1.createdAt) ? 1 : -1\n        }\n\n        if (t2.blockNum && t1.blockNum) {\n          return t2.blockNum - t1.blockNum\n        }\n\n        return 0\n      })\n    return transactions.filter(tx => isPending(tx))\n  }, [mergedTransactions, pendingIdsCctp, transfersCctp])\n\n  const failedTransactions = useMemo(() => {\n    return mergedTransactions.filter(tx => isFailed(tx))\n  }, [mergedTransactions])\n\n  const roundedTabClasses =\n    'roundedTab ui-not-selected:arb-hover relative flex flex-row flex-nowrap items-center gap-0.5 md:gap-2 rounded-tl-lg rounded-tr-lg px-2 md:px-4 py-2 text-base ui-selected:bg-white ui-not-selected:text-white justify-center md:justify-start grow md:grow-0'\n\n  const handleSmartContractWalletTxHistoryTab = useCallback(\n    (index: number) => {\n      if (!isSmartContractWallet || !chain) {\n        return\n      }\n      const isCctpTab = index === TransactionHistoryTab.CCTP\n      const isConnectedToArbitrum = isNetwork(chain.id).isArbitrum\n\n      if (isCctpTab) {\n        if (isConnectedToArbitrum) {\n          showCctpDepositsTransactions()\n        } else {\n          showCctpWithdrawalsTransactions()\n        }\n      }\n    },\n    [\n      chain,\n      isSmartContractWallet,\n      showCctpDepositsTransactions,\n      showCctpWithdrawalsTransactions\n    ]\n  )\n\n  useEffect(() => {\n    // this function runs every time the network tab is changed, and here it is also triggered when the page loads\n    // it sets the tab to 0 (deposits), which is the default tab\n    handleSmartContractWalletTxHistoryTab(0)\n  }, [handleSmartContractWalletTxHistoryTab])\n\n  useEffect(() => {\n    // This check avoid the situation when we open the transaction history on CCTP tab after a transfer, but it would go back to \"To Arbitrum\" tab\n    if (transfersIds.length === 0) {\n      setTransactionHistoryTab(0)\n    }\n  }, [address, chain, setTransactionHistoryTab, transfersIds])\n\n  const displayCctp = transfersIds.length > 0 && !isOrbitChainSelected\n\n  return (\n    <div className=\"flex flex-col justify-around gap-6\">\n      {isNetwork(l2.network.id).isOrbitChain && (\n        <CustomMessageWarning>\n          Fetching transaction history details might be slower for Orbit chains.\n        </CustomMessageWarning>\n      )}\n      {/* Pending transactions cards */}\n      <PendingTransactions\n        loading={isLoading}\n        transactions={pendingTransactions}\n        error={error}\n      />\n\n      {/* Warning to show when there are 3 or more failed transactions for the user */}\n      <FailedTransactionsWarning transactions={failedTransactions} />\n\n      {/* Transaction history table */}\n      <div>\n        <Tab.Group\n          onChange={index => {\n            handleSmartContractWalletTxHistoryTab(index)\n            setTransactionHistoryTab(index)\n          }}\n          selectedIndex={transactionHistorySelectedTab}\n        >\n          <Tab.List className={'flex flex-row whitespace-nowrap'}>\n            <TabButton\n              aria-label=\"show deposit transactions\"\n              className={twMerge(roundedTabClasses, 'roundedTabRight')}\n            >\n              {/* Deposits */}\n              <Image\n                src={getNetworkLogo(l2.network.id)}\n                className=\"hidden h-6 w-auto md:block\"\n                alt=\"Deposit\"\n                height={24}\n                width={24}\n              />\n              <span className=\"text-xs md:text-base\">{`To ${getNetworkName(\n                l2.network.id\n              )}`}</span>\n            </TabButton>\n            <TabButton\n              aria-label=\"show withdrawal transactions\"\n              className={twMerge(\n                roundedTabClasses,\n                'roundedTabLeft',\n                // Withdrawal tab only has rounded right border on large screens or on small screen if there is CCTP\n                displayCctp ? 'roundedTabRight' : 'md:roundedTabRight'\n              )}\n            >\n              {/* Withdrawals */}\n              <Image\n                src={getNetworkLogo(l1.network.id)}\n                className=\"hidden h-6 w-auto md:block\"\n                alt=\"Withdraw\"\n                width={24}\n                height={24}\n              />\n              <span className=\"text-xs md:text-base\">{`To ${getNetworkName(\n                l1.network.id\n              )}`}</span>\n            </TabButton>\n            {displayCctp && (\n              <TabButton\n                aria-label=\"show CCTP (Native USDC) transactions\"\n                className={twMerge(\n                  roundedTabClasses,\n                  'roundedTabLeft',\n                  'md:roundedTabRight'\n                )}\n              >\n                {/* CCTP */}\n                <Image\n                  src=\"/icons/cctp.svg\"\n                  className=\"hidden h-6 w-auto md:block\"\n                  alt=\"Cross-Chain Transfer Protocol (Native USDC)\"\n                  width={24}\n                  height={24}\n                />\n                <span className=\"hidden text-base md:block\">\n                  Cross-Chain Transfer Protocol (Native USDC)\n                </span>\n                <span className=\"text-xs md:hidden\">CCTP (Native USDC)</span>\n              </TabButton>\n            )}\n          </Tab.List>\n\n          <Tab.Panel className=\"overflow-auto\">\n            <div className=\"sticky h-2 rounded-tr-lg bg-white\" />\n            <TransactionsTable\n              type=\"deposits\"\n              pageParams={depositsPageParams}\n              setPageParams={setDepositsPageParams}\n              transactions={depositsData.transformedDeposits}\n              loading={depositsLoading}\n              error={depositsError}\n            />\n          </Tab.Panel>\n          <Tab.Panel className=\"overflow-auto\">\n            <div\n              className={twMerge(\n                'sticky h-2 rounded-tl-lg bg-white',\n                displayCctp ? 'rounded-tr-lg' : 'md:rounded-tr-lg'\n              )}\n            />\n            <TransactionsTable\n              type=\"withdrawals\"\n              pageParams={withdrawalsPageParams}\n              setPageParams={setWithdrawalsPageParams}\n              transactions={withdrawalsData.transformedWithdrawals}\n              loading={withdrawalsLoading}\n              error={withdrawalsError}\n            />\n          </Tab.Panel>\n          {displayCctp && (\n            <Tab.Panel className=\"overflow-auto\">\n              <div className=\"sticky h-2 rounded-tl-lg bg-white md:rounded-tr-lg\" />\n              <TransactionsTableCctp />\n            </Tab.Panel>\n          )}\n        </Tab.Group>\n      </div>\n    </div>\n  )\n}\n","import { Dialog } from '@headlessui/react'\nimport { twMerge } from 'tailwind-merge'\nimport { XMarkIcon } from '@heroicons/react/24/outline'\nimport { Transition } from './Transition'\n\ntype SidePanelProps = {\n  heading: string\n  isOpen: boolean\n  onClose?: () => void\n  children: React.ReactNode\n  panelClassNameOverrides?: string\n}\n\nexport const SidePanel = ({\n  isOpen,\n  heading,\n  onClose,\n  children,\n  panelClassNameOverrides = ''\n}: SidePanelProps) => {\n  return (\n    <Transition show={isOpen} duration=\"normal\">\n      <Dialog open={isOpen} onClose={() => onClose?.()} className=\"fixed z-50\">\n        {/* The backdrop, rendered as a fixed sibling to the panel container */}\n        <div className=\"fixed inset-0 bg-dark opacity-70\" aria-hidden=\"true\" />\n\n        {/* Full-screen container to center the panel */}\n        <div className=\"fixed inset-0 right-0 top-0 flex h-full w-full items-start justify-end overflow-y-auto\">\n          {/* The heading of dialog  */}\n          <Dialog.Panel\n            className={twMerge(\n              'side-panel flex h-full w-full flex-col bg-dark lg:w-1/2 lg:min-w-[900px]',\n              panelClassNameOverrides\n            )}\n          >\n            <Dialog.Title className=\"sticky top-0 z-50 mx-4 flex flex-row justify-between border-b-[1px] border-gray-6 bg-dark py-4 text-white\">\n              <span className=\"text-xl\">{heading}</span>\n              <button className=\"arb-hover\" onClick={onClose}>\n                <XMarkIcon className=\"h-6 w-6 text-white\" />\n              </button>\n            </Dialog.Title>\n\n            {/* Contents of the panel */}\n            <div className=\"side-panel-content z-40 h-full overflow-auto p-4\">\n              {children}\n            </div>\n          </Dialog.Panel>\n        </div>\n      </Dialog>\n    </Transition>\n  )\n}\n","import { getAPIBaseUrl, sanitizeQueryParams } from './../index'\n\nexport type FetchDepositsFromSubgraphResult = {\n  receiver: string\n  sender: string\n  sequenceNumber: string\n  timestamp: string\n  transactionHash: string\n  type: 'EthDeposit' | 'TokenDeposit'\n  isClassic: boolean\n  id: string\n  ethValue: string\n  tokenAmount?: string\n  blockCreatedAt: string\n  l1Token?: {\n    symbol: string\n    decimals: number\n    id: string\n    name: string\n    registeredAtBlock: string\n  }\n}\n\n/**\n * Fetches initiated deposits (ETH + Tokens) from subgraph in range of [fromBlock, toBlock] and pageParams.\n *\n * @param query Query params\n * @param query.sender Address that initiated the withdrawal\n * @param query.receiver Address that received the funds\n * @param query.fromBlock Start at this block number (including)\n * @param query.toBlock Stop at this block number (including)\n * @param query.l2ChainId Chain id for the L2 network\n * @param query.pageSize Fetch these many records from subgraph\n * @param query.pageNumber Fetch records starting [pageNumber * pageSize] records\n * @param query.searchString Searches records through the l1TxHash\n */\n\nexport const fetchDepositsFromSubgraph = async ({\n  sender,\n  receiver,\n  fromBlock,\n  toBlock,\n  l2ChainId,\n  pageSize = 10,\n  pageNumber = 0,\n  searchString = ''\n}: {\n  sender?: string\n  receiver?: string\n  fromBlock: number\n  toBlock: number\n  l2ChainId: number\n  pageSize?: number\n  pageNumber?: number\n  searchString?: string\n}): Promise<FetchDepositsFromSubgraphResult[]> => {\n  if (fromBlock >= toBlock) {\n    // if fromBlock > toBlock or both are equal / 0\n    return []\n  }\n\n  const urlParams = new URLSearchParams(\n    sanitizeQueryParams({\n      sender,\n      receiver,\n      fromBlock,\n      toBlock,\n      l2ChainId,\n      pageSize,\n      page: pageNumber,\n      search: searchString\n    })\n  )\n\n  const response = await fetch(`${getAPIBaseUrl()}/api/deposits?${urlParams}`, {\n    method: 'GET',\n    headers: { 'Content-Type': 'application/json' }\n  })\n\n  const transactions: FetchDepositsFromSubgraphResult[] = (\n    await response.json()\n  ).data\n\n  return transactions\n}\n","import fetch from 'cross-fetch'\nimport { ApolloClient, HttpLink, InMemoryCache, gql } from '@apollo/client'\n\nconst L1SubgraphClient = {\n  ArbitrumOne: new ApolloClient({\n    link: new HttpLink({\n      uri: 'https://api.thegraph.com/subgraphs/name/gvladika/arb-bridge-eth-nitro',\n      fetch\n    }),\n    cache: new InMemoryCache()\n  }),\n  ArbitrumNova: new ApolloClient({\n    link: new HttpLink({\n      uri: 'https://api.thegraph.com/subgraphs/name/gvladika/arb-bridge-eth-nova',\n      fetch\n    }),\n    cache: new InMemoryCache()\n  }),\n  ArbitrumGoerli: new ApolloClient({\n    link: new HttpLink({\n      uri: 'https://api.thegraph.com/subgraphs/name/gvladika/arb-bridge-eth-goerli',\n      fetch\n    }),\n    cache: new InMemoryCache()\n  })\n}\n\nconst L2SubgraphClient = {\n  ArbitrumOne: new ApolloClient({\n    link: new HttpLink({\n      uri: 'https://api.thegraph.com/subgraphs/name/gvladika/layer2-token-gateway-arb1',\n      fetch\n    }),\n    cache: new InMemoryCache()\n  }),\n  ArbitrumGoerli: new ApolloClient({\n    link: new HttpLink({\n      uri: 'https://api.thegraph.com/subgraphs/name/gvladika/layer2-token-gateway-goerli',\n      fetch\n    }),\n    cache: new InMemoryCache()\n  })\n}\n\nexport function getL1SubgraphClient(l2ChainId: number) {\n  switch (l2ChainId) {\n    case 42161:\n      return L1SubgraphClient.ArbitrumOne\n\n    case 42170:\n      return L1SubgraphClient.ArbitrumNova\n\n    case 421613:\n      return L1SubgraphClient.ArbitrumGoerli\n\n    default:\n      throw new Error(`[getL1SubgraphClient] Unsupported network: ${l2ChainId}`)\n  }\n}\n\nexport function getL2SubgraphClient(l2ChainId: number) {\n  switch (l2ChainId) {\n    case 42161:\n      return L2SubgraphClient.ArbitrumOne\n\n    case 421613:\n      return L2SubgraphClient.ArbitrumGoerli\n\n    default:\n      throw new Error(`[getL2SubgraphClient] Unsupported network: ${l2ChainId}`)\n  }\n}\n\n// TODO: Codegen types\ntype FetchBlockNumberFromSubgraphQueryResult = {\n  data: {\n    _meta: {\n      block: {\n        number: number\n      }\n    }\n  }\n}\n\nexport const fetchBlockNumberFromSubgraph = async (\n  chainType: 'L1' | 'L2',\n  l2ChainId: number\n): Promise<number> => {\n  const subgraphClient =\n    chainType === 'L2'\n      ? getL2SubgraphClient(l2ChainId)\n      : getL1SubgraphClient(l2ChainId)\n\n  const queryResult: FetchBlockNumberFromSubgraphQueryResult =\n    await subgraphClient.query({\n      query: gql`\n        {\n          _meta {\n            block {\n              number\n            }\n          }\n        }\n      `\n    })\n\n  return queryResult.data._meta.block.number\n}\n\nexport const tryFetchLatestSubgraphBlockNumber = async (\n  chainType: 'L1' | 'L2',\n  l2ChainID: number\n): Promise<number> => {\n  try {\n    return await fetchBlockNumberFromSubgraph(chainType, l2ChainID)\n  } catch (error) {\n    // In case the subgraph is not supported or down, fall back to fetching everything through event logs\n    return 0\n  }\n}\n\nexport const shouldIncludeSentTxs = ({\n  type,\n  isSmartContractWallet,\n  isConnectedToParentChain\n}: {\n  type: 'deposit' | 'withdrawal'\n  isSmartContractWallet: boolean\n  isConnectedToParentChain: boolean\n}) => {\n  if (isSmartContractWallet) {\n    // show txs sent from this account for:\n    // 1. deposits if we are connected to the parent chain, or\n    // 2. withdrawals if we are connected to the child chain\n    return isConnectedToParentChain ? type === 'deposit' : type === 'withdrawal'\n  }\n  // always show for EOA\n  return true\n}\n\nexport const shouldIncludeReceivedTxs = ({\n  type,\n  isSmartContractWallet,\n  isConnectedToParentChain\n}: {\n  type: 'deposit' | 'withdrawal'\n  isSmartContractWallet: boolean\n  isConnectedToParentChain: boolean\n}) => {\n  if (isSmartContractWallet) {\n    // show txs sent to this account for:\n    // 1. withdrawals if we are connected to the parent chain, or\n    // 2. deposits if we are connected to the child chain\n    return isConnectedToParentChain ? type === 'withdrawal' : type === 'deposit'\n  }\n  // always show for EOA\n  return true\n}\n","import { Provider } from '@ethersproject/providers'\nimport { utils } from 'ethers'\nimport {\n  fetchDepositsFromSubgraph,\n  FetchDepositsFromSubgraphResult\n} from './fetchDepositsFromSubgraph'\nimport { tryFetchLatestSubgraphBlockNumber } from '../SubgraphUtils'\nimport { AssetType } from '../../hooks/arbTokenBridge.types'\nimport { Transaction } from '../../hooks/useTransactions'\nimport { defaultErc20Decimals } from '../../defaults'\nimport { fetchNativeCurrency } from '../../hooks/useNativeCurrency'\n\nexport type FetchDepositParams = {\n  sender?: string\n  receiver?: string\n  fromBlock?: number\n  toBlock?: number\n  l1Provider: Provider\n  l2Provider: Provider\n  pageSize?: number\n  pageNumber?: number\n  searchString?: string\n}\n\n/* Fetch complete deposits - both ETH and Token deposits from subgraph into one list */\n/* Also fills in any additional data required per transaction for our UI logic to work well */\n/* TODO : Add event logs as well */\nexport const fetchDeposits = async ({\n  sender,\n  receiver,\n  fromBlock,\n  toBlock,\n  l1Provider,\n  l2Provider,\n  pageSize = 10,\n  pageNumber = 0,\n  searchString = ''\n}: FetchDepositParams): Promise<Transaction[]> => {\n  if (typeof sender === 'undefined' && typeof receiver === 'undefined')\n    return []\n  if (!l1Provider || !l2Provider) return []\n\n  const l1ChainId = (await l1Provider.getNetwork()).chainId\n  const l2ChainId = (await l2Provider.getNetwork()).chainId\n\n  const nativeCurrency = await fetchNativeCurrency({ provider: l2Provider })\n\n  if (!fromBlock) {\n    fromBlock = 0\n  }\n\n  if (!toBlock) {\n    // if toBlock hasn't been provided by the user\n\n    // fetch the latest L1 block number thorough subgraph first\n    let latestL1BlockNumber = await tryFetchLatestSubgraphBlockNumber(\n      'L1',\n      l2ChainId\n    )\n\n    // if the previous call returns 0, then fetch the latest block on-chain\n    if (!latestL1BlockNumber) {\n      latestL1BlockNumber = await l1Provider.getBlockNumber()\n    }\n\n    toBlock = latestL1BlockNumber\n  }\n\n  const depositsFromSubgraph = await fetchDepositsFromSubgraph({\n    sender,\n    receiver,\n    fromBlock,\n    toBlock,\n    l2ChainId,\n    pageSize,\n    pageNumber,\n    searchString\n  })\n\n  const mappedDepositsFromSubgraph: Transaction[] = depositsFromSubgraph.map(\n    (tx: FetchDepositsFromSubgraphResult) => {\n      const isEthDeposit = tx.type === 'EthDeposit'\n\n      const assetDetails = {\n        assetName: nativeCurrency.symbol,\n        assetType: AssetType.ETH,\n        tokenAddress: ''\n      }\n\n      if (!isEthDeposit) {\n        // update some values for token deposit\n        const symbol = tx.l1Token?.symbol || ''\n\n        assetDetails.assetName = symbol\n        assetDetails.assetType = AssetType.ERC20\n        assetDetails.tokenAddress = tx?.l1Token?.id || ''\n      }\n\n      const amount = isEthDeposit ? tx.ethValue : tx.tokenAmount\n\n      const tokenDecimals = tx?.l1Token?.decimals ?? defaultErc20Decimals\n      const decimals = isEthDeposit ? nativeCurrency.decimals : tokenDecimals\n\n      return {\n        type: 'deposit-l1',\n        status: 'pending',\n        value: utils.formatUnits(amount || 0, decimals),\n        txID: tx.transactionHash,\n        tokenAddress: assetDetails.tokenAddress,\n        sender: tx.sender,\n        destination: tx.receiver,\n\n        assetName: assetDetails.assetName,\n        assetType: assetDetails.assetType,\n\n        l1NetworkID: String(l1ChainId),\n        l2NetworkID: String(l2ChainId),\n        blockNumber: Number(tx.blockCreatedAt),\n        timestampCreated: tx.timestamp,\n        isClassic: tx.isClassic,\n\n        chainId: l2ChainId,\n        parentChainId: l1ChainId\n      }\n    }\n  )\n\n  return mappedDepositsFromSubgraph\n}\n","import {\n  L1TransactionReceipt,\n  L1ToL2MessageStatus,\n  EthDepositStatus\n} from '@arbitrum/sdk'\nimport {\n  EthDepositMessage,\n  L1ToL2MessageReader,\n  L1ToL2MessageReaderClassic\n} from '@arbitrum/sdk/dist/lib/message/L1ToL2Message'\nimport { Provider } from '@ethersproject/providers'\nimport { AssetType } from '../../hooks/arbTokenBridge.types'\nimport { Transaction } from '../../hooks/useTransactions'\nimport { fetchErc20Data } from '../TokenUtils'\n\nexport const updateAdditionalDepositData = async (\n  depositTx: Transaction,\n  l1Provider: Provider,\n  l2Provider: Provider\n): Promise<Transaction> => {\n  // 1. for all the fetched txns, fetch the transaction receipts and update their exact status\n  // 2. on the basis of those, finally calculate the status of the transaction\n\n  // fetch timestamp creation date\n  let timestampCreated = new Date().toISOString()\n  if (depositTx.timestampCreated) {\n    // if timestamp is already there in Subgraphs, take it from there\n    timestampCreated = String(Number(depositTx.timestampCreated) * 1000)\n  } else if (depositTx.blockNumber) {\n    // if timestamp not in subgraph, fallback to onchain data\n    timestampCreated = String(\n      (await l1Provider.getBlock(depositTx.blockNumber)).timestamp * 1000\n    )\n  }\n\n  const { isClassic } = depositTx // isClassic is known before-hand from subgraphs\n\n  const isEthDeposit = depositTx.assetType === AssetType.ETH\n\n  const { l1ToL2Msg } = await getL1ToL2MessageDataFromL1TxHash({\n    depositTxId: depositTx.txID,\n    l1Provider,\n    l2Provider,\n    isEthDeposit,\n    isClassic\n  })\n\n  if (isClassic) {\n    return updateClassicDepositStatusData({\n      depositTx,\n      l1ToL2Msg: l1ToL2Msg as L1ToL2MessageReaderClassic,\n      isEthDeposit,\n      timestampCreated,\n      l2Provider\n    })\n  }\n\n  // Check if deposit is ETH\n  if (isEthDeposit) {\n    return updateETHDepositStatusData({\n      depositTx,\n      ethDepositMessage: l1ToL2Msg as EthDepositMessage,\n      l2Provider,\n      timestampCreated\n    })\n  }\n\n  // finally, else if the transaction is not ETH ie. it's a ERC20 token deposit\n  return updateTokenDepositStatusData({\n    depositTx,\n    l1ToL2Msg: l1ToL2Msg as L1ToL2MessageReader,\n    timestampCreated,\n    l1Provider,\n    l2Provider\n  })\n}\n\nconst updateETHDepositStatusData = async ({\n  depositTx,\n  ethDepositMessage,\n  l2Provider,\n  timestampCreated\n}: {\n  depositTx: Transaction\n  ethDepositMessage: EthDepositMessage\n  timestampCreated: string\n  l2Provider: Provider\n}): Promise<Transaction> => {\n  // from the eth-deposit-message, extract more things like retryableCreationTxID, status, etc\n\n  if (!ethDepositMessage) return depositTx\n\n  const status = await ethDepositMessage.status()\n  const isDeposited = status === EthDepositStatus.DEPOSITED\n\n  const retryableCreationTxID = ethDepositMessage.l2DepositTxHash\n\n  const l2BlockNum = isDeposited\n    ? (await l2Provider.getTransaction(retryableCreationTxID)).blockNumber\n    : null\n\n  const timestampResolved = l2BlockNum\n    ? (await l2Provider.getBlock(l2BlockNum)).timestamp * 1000\n    : null\n\n  // return the data to populate on UI\n  const updatedDepositTx: Transaction = {\n    ...depositTx,\n    status: retryableCreationTxID ? 'success' : 'pending',\n    timestampCreated,\n    timestampResolved: timestampResolved\n      ? String(timestampResolved)\n      : undefined,\n    l1ToL2MsgData: {\n      status: isDeposited\n        ? L1ToL2MessageStatus.FUNDS_DEPOSITED_ON_L2\n        : L1ToL2MessageStatus.NOT_YET_CREATED,\n      retryableCreationTxID,\n      // Only show `l2TxID` after the deposit is confirmed\n      l2TxID: isDeposited ? ethDepositMessage.l2DepositTxHash : undefined,\n      fetchingUpdate: false\n    }\n  }\n\n  return updatedDepositTx\n}\n\nconst updateTokenDepositStatusData = async ({\n  depositTx,\n  l1ToL2Msg,\n  timestampCreated,\n  l1Provider,\n  l2Provider\n}: {\n  depositTx: Transaction\n  timestampCreated: string\n  l1Provider: Provider\n  l2Provider: Provider\n  l1ToL2Msg: L1ToL2MessageReader\n}): Promise<Transaction> => {\n  const updatedDepositTx = {\n    ...depositTx,\n    timestampCreated\n  }\n\n  // fallback to on-chain token information if subgraph doesn't have it\n  const { tokenAddress, assetName } = updatedDepositTx\n  if (!assetName && tokenAddress) {\n    const { symbol } = await fetchErc20Data({\n      address: tokenAddress,\n      provider: l1Provider\n    })\n    updatedDepositTx.assetName = symbol\n  }\n\n  if (!l1ToL2Msg) return updatedDepositTx\n\n  // get the status data of `l1ToL2Msg`, if it is redeemed - `getSuccessfulRedeem` also returns its l2TxReceipt\n  const res = await l1ToL2Msg.getSuccessfulRedeem()\n\n  const l2TxID =\n    res.status === L1ToL2MessageStatus.REDEEMED\n      ? res.l2TxReceipt.transactionHash\n      : undefined\n\n  const l1ToL2MsgData = {\n    status: res.status,\n    l2TxID,\n    fetchingUpdate: false,\n    retryableCreationTxID: l1ToL2Msg.retryableCreationId\n  }\n\n  const isDeposited = l1ToL2MsgData.status === L1ToL2MessageStatus.REDEEMED\n\n  const l2BlockNum = isDeposited\n    ? (await l2Provider.getTransaction(l1ToL2Msg.retryableCreationId))\n        .blockNumber\n    : null\n\n  const timestampResolved = l2BlockNum\n    ? (await l2Provider.getBlock(l2BlockNum)).timestamp * 1000\n    : null\n\n  const completeDepositTx: Transaction = {\n    ...updatedDepositTx,\n    status: l1ToL2Msg.retryableCreationId ? 'success' : 'pending', // TODO :handle other cases here\n    timestampCreated,\n    timestampResolved: timestampResolved\n      ? String(timestampResolved)\n      : undefined,\n    l1ToL2MsgData\n  }\n\n  return completeDepositTx\n}\n\nconst updateClassicDepositStatusData = async ({\n  depositTx,\n  l1ToL2Msg,\n  isEthDeposit,\n  timestampCreated,\n  l2Provider\n}: {\n  depositTx: Transaction\n  timestampCreated: string\n  l2Provider: Provider\n  isEthDeposit: boolean\n  l1ToL2Msg: L1ToL2MessageReaderClassic\n}): Promise<Transaction> => {\n  const updatedDepositTx = {\n    ...depositTx,\n    timestampCreated\n  }\n\n  const status = await l1ToL2Msg.status()\n\n  const isCompletedEthDeposit =\n    isEthDeposit && status >= L1ToL2MessageStatus.FUNDS_DEPOSITED_ON_L2\n\n  const l2TxID = (() => {\n    if (isCompletedEthDeposit) {\n      return l1ToL2Msg.retryableCreationId\n    }\n\n    if (status === L1ToL2MessageStatus.REDEEMED) {\n      return l1ToL2Msg.l2TxHash\n    }\n\n    return undefined\n  })()\n\n  const l1ToL2MsgData = {\n    status,\n    l2TxID,\n    fetchingUpdate: false,\n    retryableCreationTxID: l1ToL2Msg.retryableCreationId\n  }\n\n  const l2BlockNum = l2TxID\n    ? (await l2Provider.getTransaction(l2TxID)).blockNumber\n    : null\n\n  const timestampResolved = l2BlockNum\n    ? (await l2Provider.getBlock(l2BlockNum)).timestamp * 1000\n    : null\n\n  const completeDepositTx: Transaction = {\n    ...updatedDepositTx,\n    status: l2TxID ? 'success' : 'pending', // TODO :handle other cases here\n    timestampCreated,\n    timestampResolved: timestampResolved\n      ? String(timestampResolved)\n      : undefined,\n    l1ToL2MsgData\n  }\n\n  return completeDepositTx\n}\n\nexport const getL1ToL2MessageDataFromL1TxHash = async ({\n  depositTxId,\n  isEthDeposit,\n  l1Provider,\n  l2Provider,\n  isClassic // optional: if we already know if tx is classic (eg. through subgraph) then no need to re-check in this fn\n}: {\n  depositTxId: string\n  l1Provider: Provider\n  isEthDeposit: boolean\n  l2Provider: Provider\n  isClassic?: boolean\n}): Promise<{\n  isClassic?: boolean\n  l1ToL2Msg?:\n    | L1ToL2MessageReaderClassic\n    | EthDepositMessage\n    | L1ToL2MessageReader\n}> => {\n  // fetch L1 transaction receipt\n  const depositTxReceipt = await l1Provider.getTransactionReceipt(depositTxId)\n\n  // TODO: Handle tx not found\n  if (!depositTxReceipt) {\n    return {}\n  }\n\n  const l1TxReceipt = new L1TransactionReceipt(depositTxReceipt)\n\n  const getClassicDepositMessage = async () => {\n    const [l1ToL2Msg] = await l1TxReceipt.getL1ToL2MessagesClassic(l2Provider)\n    return {\n      isClassic: true,\n      l1ToL2Msg: l1ToL2Msg\n    }\n  }\n\n  const getNitroDepositMessage = async () => {\n    // post-nitro handling\n    if (isEthDeposit) {\n      // nitro eth deposit\n      const [ethDepositMessage] = await l1TxReceipt.getEthDeposits(l2Provider)\n      return {\n        isClassic: false,\n        l1ToL2Msg: ethDepositMessage\n      }\n    }\n\n    // Else, nitro token deposit\n    const [l1ToL2Msg] = await l1TxReceipt.getL1ToL2Messages(l2Provider)\n    return {\n      isClassic: false,\n      l1ToL2Msg\n    }\n  }\n\n  const safeIsClassic = isClassic ?? (await l1TxReceipt.isClassic(l2Provider)) // if it is unknown whether the transaction isClassic or not, fetch the result\n\n  if (safeIsClassic) {\n    // classic (pre-nitro) deposit - both eth + token\n    return getClassicDepositMessage()\n  }\n\n  // post-nitro deposit - both eth + token\n  return getNitroDepositMessage()\n}\n","import { useMemo } from 'react'\nimport useSWRImmutable from 'swr/immutable'\nimport { useAccount, useChainId } from 'wagmi'\n\nimport { PageParams } from '../components/TransactionHistory/TransactionsTable/TransactionsTable'\nimport { MergedTransaction } from '../state/app/state'\nimport { isPending, transformDeposit } from '../state/app/utils'\nimport {\n  FetchDepositParams,\n  fetchDeposits\n} from '../util/deposits/fetchDeposits'\nimport { useNetworksAndSigners } from './useNetworksAndSigners'\nimport { Transaction } from './useTransactions'\nimport { useAccountType } from './useAccountType'\nimport {\n  shouldIncludeSentTxs,\n  shouldIncludeReceivedTxs\n} from '../util/SubgraphUtils'\nimport { updateAdditionalDepositData } from '../util/deposits/helpers'\n\nexport type CompleteDepositData = {\n  deposits: Transaction[]\n  pendingDeposits: Transaction[]\n  transformedDeposits: MergedTransaction[]\n}\n\nexport const fetchCompleteDepositData = async (\n  depositParams: FetchDepositParams\n): Promise<CompleteDepositData> => {\n  // get the original deposits\n\n  const depositsWithoutStatuses = await fetchDeposits(depositParams)\n\n  const deposits = await Promise.all(\n    depositsWithoutStatuses.map(depositTx =>\n      updateAdditionalDepositData(\n        depositTx,\n        depositParams.l1Provider,\n        depositParams.l2Provider\n      )\n    )\n  )\n\n  // filter out pending deposits\n  const pendingDepositsMap = new Map<string, boolean>()\n  // get their complete transformed data (so that we get their exact status)\n  const completeDepositData = deposits.map(transformDeposit)\n  completeDepositData.forEach(completeTxData => {\n    if (isPending(completeTxData)) {\n      pendingDepositsMap.set(completeTxData.txId, true)\n    }\n  })\n  const pendingDeposits = deposits.filter(\n    tx => typeof pendingDepositsMap.get(tx.txID) !== 'undefined'\n  )\n\n  return { deposits, pendingDeposits, transformedDeposits: completeDepositData }\n}\n\nexport const useDeposits = (depositPageParams: PageParams) => {\n  const { l1, l2 } = useNetworksAndSigners()\n  const { isSmartContractWallet, isLoading: isAccountTypeLoading } =\n    useAccountType()\n  const chainId = useChainId()\n\n  const isConnectedToParentChain = l1.network.id === chainId\n\n  // only change l1-l2 providers (and hence, reload deposits) when the connected chain id changes\n  // otherwise tx-history unnecessarily reloads on l1<->l2 network switch as well (#847)\n  const l1Provider = useMemo(() => l1.provider, [l1.network.id])\n  const l2Provider = useMemo(() => l2.provider, [l2.network.id])\n\n  const { address: walletAddress } = useAccount()\n\n  // SCW address is tied to a specific network\n  // that's why we need to limit shown txs either to sent or received funds\n  // otherwise we'd display funds for a different network, which could be someone else's account\n  const includeSentTxs = isAccountTypeLoading\n    ? false\n    : shouldIncludeSentTxs({\n        type: 'deposit',\n        isSmartContractWallet,\n        isConnectedToParentChain\n      })\n\n  const includeReceivedTxs = isAccountTypeLoading\n    ? false\n    : shouldIncludeReceivedTxs({\n        type: 'deposit',\n        isSmartContractWallet,\n        isConnectedToParentChain\n      })\n\n  /* return the cached response for the complete pending transactions */\n  return useSWRImmutable(\n    walletAddress\n      ? [\n          'deposits',\n          walletAddress,\n          l1Provider,\n          l2Provider,\n          depositPageParams.pageNumber,\n          depositPageParams.pageSize,\n          depositPageParams.searchString,\n          isAccountTypeLoading\n        ]\n      : null,\n    ([\n      ,\n      _walletAddress,\n      _l1Provider,\n      _l2Provider,\n      _pageNumber,\n      _pageSize,\n      _searchString\n    ]) =>\n      fetchCompleteDepositData({\n        sender: includeSentTxs ? _walletAddress : undefined,\n        receiver: includeReceivedTxs ? _walletAddress : undefined,\n        l1Provider: _l1Provider,\n        l2Provider: _l2Provider,\n        pageNumber: _pageNumber,\n        pageSize: _pageSize,\n        searchString: _searchString\n      })\n  )\n}\n","import { Provider, BlockTag } from '@ethersproject/providers'\nimport { L2ToL1MessageReader } from '@arbitrum/sdk'\n\n/**\n * Fetches initiated ETH withdrawals from event logs in range of [fromBlock, toBlock].\n *\n * @param query Query params\n * @param query.receiver Address that will receive the funds\n * @param query.fromBlock Start at this block number (including)\n * @param query.toBlock Stop at this block number (including)\n * @param query.l2Provider Provider for the L2 network\n */\nexport function fetchETHWithdrawalsFromEventLogs({\n  receiver,\n  fromBlock,\n  toBlock,\n  l2Provider\n}: {\n  receiver?: string\n  fromBlock: BlockTag\n  toBlock: BlockTag\n  l2Provider: Provider\n}) {\n  if (typeof receiver === 'undefined') {\n    return []\n  }\n  // funds sent by this address\n  return L2ToL1MessageReader.getL2ToL1Events(\n    l2Provider,\n    { fromBlock, toBlock },\n    undefined,\n    receiver\n  )\n}\n","import { utils } from 'ethers'\nimport { Provider } from '@ethersproject/providers'\nimport { BigNumber } from '@ethersproject/bignumber'\nimport { L2ToL1MessageReader, L2TransactionReceipt } from '@arbitrum/sdk'\nimport { FetchWithdrawalsFromSubgraphResult } from './fetchWithdrawalsFromSubgraph'\nimport { fetchErc20Data } from '../TokenUtils'\nimport {\n  AssetType,\n  L2ToL1EventResult,\n  L2ToL1EventResultPlus,\n  NodeBlockDeadlineStatus,\n  NodeBlockDeadlineStatusTypes,\n  OutgoingMessageState,\n  WithdrawalInitiated\n} from '../../hooks/arbTokenBridge.types'\nimport { getExecutedMessagesCacheKey } from '../../hooks/useArbTokenBridge'\nimport { fetchNativeCurrency } from '../../hooks/useNativeCurrency'\n\n/**\n * `l2TxHash` exists on result from subgraph\n * `transactionHash` exists on result from event logs\n */\nexport type EthWithdrawal = L2ToL1EventResult & {\n  l2TxHash?: string\n  transactionHash?: string\n}\n\nexport const updateAdditionalWithdrawalData = async (\n  withdrawalTx: L2ToL1EventResultPlus,\n  l1Provider: Provider,\n  l2Provider: Provider\n) => {\n  const l2toL1TxWithDeadline = await attachNodeBlockDeadlineToEvent(\n    withdrawalTx as L2ToL1EventResultPlus,\n    l1Provider,\n    l2Provider\n  )\n\n  return l2toL1TxWithDeadline\n}\n\nexport async function attachTimestampToTokenWithdrawal({\n  withdrawal,\n  l2Provider\n}: {\n  withdrawal: WithdrawalInitiated\n  l2Provider: Provider\n}) {\n  const txReceipt = await l2Provider.getTransactionReceipt(withdrawal.txHash)\n  const l2TxReceipt = new L2TransactionReceipt(txReceipt)\n  const [event] = l2TxReceipt.getL2ToL1Events()\n\n  return {\n    ...withdrawal,\n    timestamp: event?.timestamp\n  }\n}\n\nexport async function mapETHWithdrawalToL2ToL1EventResult(\n  event: EthWithdrawal,\n  l1Provider: Provider,\n  l2Provider: Provider,\n  l2ChainId: number\n): Promise<L2ToL1EventResultPlus> {\n  const { callvalue } = event\n  const outgoingMessageState = await getOutgoingMessageState(\n    event,\n    l1Provider,\n    l2Provider,\n    l2ChainId\n  )\n\n  const nativeCurrency = await fetchNativeCurrency({ provider: l2Provider })\n\n  return {\n    ...event,\n    sender: event.caller,\n    destinationAddress: event.destination,\n    type: AssetType.ETH,\n    value: callvalue,\n    symbol: nativeCurrency.symbol,\n    outgoingMessageState,\n    decimals: nativeCurrency.decimals,\n    l2TxHash: event.l2TxHash || event.transactionHash\n  }\n}\n\nexport async function getOutgoingMessageState(\n  event: L2ToL1EventResult,\n  l1Provider: Provider,\n  l2Provider: Provider,\n  l2ChainID: number\n) {\n  const cacheKey = getExecutedMessagesCacheKey({\n    event,\n    l2ChainId: l2ChainID\n  })\n\n  const executedMessagesCache = JSON.parse(\n    localStorage.getItem('arbitrum:bridge:executed-messages') || '{}'\n  )\n  if (executedMessagesCache[cacheKey]) {\n    return OutgoingMessageState.EXECUTED\n  }\n\n  const messageReader = new L2ToL1MessageReader(l1Provider, event)\n\n  try {\n    return await messageReader.status(l2Provider)\n  } catch (error) {\n    return OutgoingMessageState.UNCONFIRMED\n  }\n}\n\nexport async function attachNodeBlockDeadlineToEvent(\n  event: L2ToL1EventResultPlus,\n  l1Provider: Provider,\n  l2Provider: Provider\n) {\n  if (\n    event.outgoingMessageState === OutgoingMessageState.EXECUTED ||\n    event.outgoingMessageState === OutgoingMessageState.CONFIRMED\n  ) {\n    return event\n  }\n\n  const messageReader = L2ToL1MessageReader.fromEvent(l1Provider, event)\n\n  try {\n    const firstExecutableBlock = await messageReader.getFirstExecutableBlock(\n      l2Provider\n    )\n\n    return { ...event, nodeBlockDeadline: firstExecutableBlock?.toNumber() }\n  } catch (e) {\n    const expectedError = \"batch doesn't exist\"\n    const expectedError2 = 'CALL_EXCEPTION'\n\n    const err = e as Error & { error: Error }\n    const errorMessage = err && (err.message || err.error?.message)\n\n    if (errorMessage.includes(expectedError)) {\n      const nodeBlockDeadline: NodeBlockDeadlineStatus =\n        NodeBlockDeadlineStatusTypes.NODE_NOT_CREATED\n      return {\n        ...event,\n        nodeBlockDeadline\n      }\n    } else if (errorMessage.includes(expectedError2)) {\n      // in classic we simulate `executeTransaction` in `hasExecuted`\n      // which might revert if the L2 to L1 call fail\n      const nodeBlockDeadline: NodeBlockDeadlineStatus =\n        NodeBlockDeadlineStatusTypes.EXECUTE_CALL_EXCEPTION\n      return {\n        ...event,\n        nodeBlockDeadline\n      }\n    } else {\n      throw e\n    }\n  }\n}\n\nexport function isTokenWithdrawal(\n  withdrawal: WithdrawalInitiated | EthWithdrawal\n): withdrawal is WithdrawalInitiated {\n  return typeof (withdrawal as WithdrawalInitiated).l1Token !== 'undefined'\n}\n\nexport async function mapTokenWithdrawalFromEventLogsToL2ToL1EventResult(\n  result: WithdrawalInitiated,\n  l1Provider: Provider,\n  l2Provider: Provider,\n  l2ChainID: number\n): Promise<L2ToL1EventResultPlus | undefined> {\n  const { symbol, decimals } = await fetchErc20Data({\n    address: result.l1Token,\n    provider: l1Provider\n  })\n\n  const txReceipt = await l2Provider.getTransactionReceipt(result.txHash)\n  const l2TxReceipt = new L2TransactionReceipt(txReceipt)\n\n  // TODO: length != 1\n  const [event] = l2TxReceipt.getL2ToL1Events()\n\n  if (!event) {\n    return undefined\n  }\n\n  const outgoingMessageState = await getOutgoingMessageState(\n    event,\n    l1Provider,\n    l2Provider,\n    l2ChainID\n  )\n\n  // We cannot access sender and destination from the withdrawal object.\n  // We have to get them from the receipt logs.\n  //\n  // Get hash of the topic that contains sender and destination.\n  const signatureHash = utils.id(\n    'TransferRouted(address,address,address,address)'\n  )\n  // Searching logs for the topic.\n  const logs = txReceipt.logs.find(log => {\n    if (!log) {\n      return false\n    }\n    return log.topics[0] === signatureHash\n  })\n\n  // We can directly access them by index, these won't change.\n  let sender = logs?.topics[2]\n  let destinationAddress = logs?.topics[3]\n\n  // SCW relayer won't return leading zeros, but we will get them when using EOA.\n  if (sender && !utils.isAddress(sender)) {\n    // Strips leading zeros if necessary.\n    sender = '0x' + sender.slice(-40)\n  }\n\n  if (destinationAddress && !utils.isAddress(destinationAddress)) {\n    // Strips leading zeros if necessary.\n    destinationAddress = '0x' + destinationAddress.slice(-40)\n  }\n\n  return {\n    ...event,\n    sender,\n    destinationAddress,\n    type: AssetType.ERC20,\n    value: result._amount,\n    tokenAddress: result.l1Token,\n    outgoingMessageState,\n    symbol,\n    decimals,\n    l2TxHash: l2TxReceipt.transactionHash\n  }\n}\n\nexport async function mapWithdrawalToL2ToL1EventResult(\n  withdrawal: FetchWithdrawalsFromSubgraphResult,\n  l1Provider: Provider,\n  l2Provider: Provider,\n  l2ChainId: number\n): Promise<L2ToL1EventResultPlus | undefined> {\n  // get transaction receipt\n\n  const txReceipt = await l2Provider.getTransactionReceipt(withdrawal.l2TxHash)\n  const l2TxReceipt = new L2TransactionReceipt(txReceipt)\n\n  // TODO: length != 1\n  const [event] = l2TxReceipt.getL2ToL1Events()\n\n  if (!event) {\n    return undefined\n  }\n\n  const outgoingMessageState = await getOutgoingMessageState(\n    event,\n    l1Provider,\n    l2Provider,\n    l2ChainId\n  )\n\n  if (withdrawal.type === 'TokenWithdrawal' && withdrawal?.l1Token?.id) {\n    // Token withdrawal\n    const { symbol, decimals } = await fetchErc20Data({\n      address: withdrawal.l1Token.id,\n      provider: l1Provider\n    })\n\n    return {\n      ...event,\n      sender: withdrawal.sender,\n      destinationAddress: withdrawal.receiver,\n      type: AssetType.ERC20,\n      value: BigNumber.from(withdrawal.tokenAmount),\n      tokenAddress: withdrawal.l1Token.id,\n      outgoingMessageState,\n      symbol,\n      decimals,\n      l2TxHash: l2TxReceipt.transactionHash\n    } as L2ToL1EventResultPlus\n  }\n\n  const nativeCurrency = await fetchNativeCurrency({ provider: l2Provider })\n\n  // Else, Eth withdrawal\n  return {\n    ...event,\n    sender: withdrawal.sender,\n    destinationAddress: withdrawal.receiver,\n    type: AssetType.ETH,\n    value: BigNumber.from(withdrawal.ethValue),\n    outgoingMessageState,\n    l2TxHash: l2TxReceipt.transactionHash,\n    symbol: nativeCurrency.symbol,\n    decimals: nativeCurrency.decimals\n  } as L2ToL1EventResultPlus\n}\n","import { getAPIBaseUrl, sanitizeQueryParams } from './../index'\n\nexport type FetchWithdrawalsFromSubgraphResult = {\n  id: string\n  type: 'EthWithdrawal' | 'TokenWithdrawal'\n  sender: string\n  receiver: string\n  ethValue: string\n  l1Token?: {\n    id: string\n  }\n  tokenAmount: string\n  isClassic: boolean\n  l2BlockTimestamp: string\n  l2TxHash: string\n  l2BlockNum: string\n}\n\n/**\n * Fetches initiated withdrawals (ETH + Token) from subgraph in range of [fromBlock, toBlock] and pageParams.\n *\n * @param query Query params\n * @param query.sender Address that initiated the withdrawal\n * @param query.receiver Address that received the funds\n * @param query.fromBlock Start at this block number (including)\n * @param query.toBlock Stop at this block number (including)\n * @param query.l2ChainId ChainId for the L2 network\n * @param query.pageSize Fetch these many records from subgraph\n * @param query.pageNumber Fetch records starting [pageNumber * pageSize] records\n * @param query.searchString Searches records through the l2TxHash\n */\nexport async function fetchWithdrawalsFromSubgraph({\n  sender,\n  receiver,\n  fromBlock,\n  toBlock,\n  l2ChainId,\n  pageSize = 10,\n  pageNumber = 0,\n  searchString = ''\n}: {\n  sender?: string\n  receiver?: string\n  fromBlock: number\n  toBlock: number\n  l2ChainId: number\n  pageSize?: number\n  pageNumber?: number\n  searchString?: string\n}): Promise<FetchWithdrawalsFromSubgraphResult[]> {\n  if (fromBlock >= toBlock) {\n    // if fromBlock > toBlock or both are equal / 0\n    return []\n  }\n\n  const urlParams = new URLSearchParams(\n    sanitizeQueryParams({\n      sender,\n      receiver,\n      fromBlock,\n      toBlock,\n      l2ChainId,\n      pageSize,\n      page: pageNumber,\n      search: searchString\n    })\n  )\n\n  const response = await fetch(\n    `${getAPIBaseUrl()}/api/withdrawals?${urlParams}`,\n    {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' }\n    }\n  )\n\n  const transactions: FetchWithdrawalsFromSubgraphResult[] = (\n    await response.json()\n  ).data\n\n  return transactions\n}\n","import { Provider, BlockTag } from '@ethersproject/providers'\nimport { Erc20Bridger } from '@arbitrum/sdk'\nimport { EventArgs } from '@arbitrum/sdk/dist/lib/dataEntities/event'\nimport { WithdrawalInitiatedEvent } from '@arbitrum/sdk/dist/lib/abi/L2ArbitrumGateway'\n\nfunction dedupeEvents(\n  events: (EventArgs<WithdrawalInitiatedEvent> & {\n    txHash: string\n  })[]\n) {\n  return [...new Map(events.map(item => [item.txHash, item])).values()]\n}\n\n/**\n * Fetches initiated token withdrawals from event logs in range of [fromBlock, toBlock].\n *\n * @param query Query params\n * @param query.sender Address that initiated the withdrawal\n * @param query.receiver Address that received the funds\n * @param query.fromBlock Start at this block number (including)\n * @param query.toBlock Stop at this block number (including)\n * @param query.l2Provider Provider for the L2 network\n * @param query.l2GatewayAddresses L2 gateway addresses to use\n */\nexport async function fetchTokenWithdrawalsFromEventLogs({\n  sender,\n  receiver,\n  fromBlock,\n  toBlock,\n  l2Provider,\n  l2GatewayAddresses = []\n}: {\n  sender?: string\n  receiver?: string\n  fromBlock: BlockTag\n  toBlock: BlockTag\n  l2Provider: Provider\n  l2GatewayAddresses?: string[]\n}) {\n  const erc20Bridger = await Erc20Bridger.fromProvider(l2Provider)\n  const promises: ReturnType<Erc20Bridger['getL2WithdrawalEvents']>[] = []\n\n  l2GatewayAddresses.forEach(gatewayAddress => {\n    // funds sent by this address\n    if (sender) {\n      promises.push(\n        erc20Bridger.getL2WithdrawalEvents(\n          l2Provider,\n          gatewayAddress,\n          { fromBlock, toBlock },\n          undefined,\n          sender,\n          undefined\n        )\n      )\n    }\n\n    // funds received by this address\n    if (receiver) {\n      promises.push(\n        erc20Bridger.getL2WithdrawalEvents(\n          l2Provider,\n          gatewayAddress,\n          { fromBlock, toBlock },\n          undefined,\n          undefined,\n          receiver\n        )\n      )\n    }\n  })\n\n  // when getting funds received by this address we will also get duplicate txs returned in 'funds sent by this address'\n  return dedupeEvents((await Promise.all(promises)).flat())\n}\n","import { Provider } from '@ethersproject/providers'\nimport { getL2Network } from '@arbitrum/sdk'\n\nimport {\n  l2ArbReverseGatewayAddresses,\n  l2DaiGatewayAddresses,\n  l2LptGatewayAddresses,\n  l2wstETHGatewayAddresses\n} from '../util/networks'\n\n/**\n * Fetch L2 gateways for a given L2 network using its provider. Useful for specifying which gateways to use when fetching withdrawals.\n *\n * @param l2Provider Provider for the L2 network\n */\nexport async function fetchL2Gateways(l2Provider: Provider) {\n  const l2Network = await getL2Network(l2Provider)\n\n  /* configure gateway addresses for fetching withdrawals */\n  const { l2ERC20Gateway, l2CustomGateway, l2WethGateway } =\n    l2Network.tokenBridge\n  const gatewaysToUse = [l2ERC20Gateway, l2CustomGateway, l2WethGateway]\n  const l2ArbReverseGateway = l2ArbReverseGatewayAddresses[l2Network.chainID]\n  const l2DaiGateway = l2DaiGatewayAddresses[l2Network.chainID]\n  const l2wstETHGateway = l2wstETHGatewayAddresses[l2Network.chainID]\n  const l2LptGateway = l2LptGatewayAddresses[l2Network.chainID]\n\n  if (l2ArbReverseGateway) {\n    gatewaysToUse.push(l2ArbReverseGateway)\n  }\n  if (l2DaiGateway) {\n    gatewaysToUse.push(l2DaiGateway)\n  }\n  if (l2wstETHGateway) {\n    gatewaysToUse.push(l2wstETHGateway)\n  }\n  if (l2LptGateway) {\n    gatewaysToUse.push(l2LptGateway)\n  }\n\n  return gatewaysToUse\n}\n","import { BigNumber, constants } from 'ethers'\nimport { Provider } from '@ethersproject/providers'\n\nimport { fetchETHWithdrawalsFromEventLogs } from './fetchETHWithdrawalsFromEventLogs'\n\nimport {\n  EthWithdrawal,\n  attachTimestampToTokenWithdrawal,\n  isTokenWithdrawal,\n  mapETHWithdrawalToL2ToL1EventResult,\n  mapTokenWithdrawalFromEventLogsToL2ToL1EventResult,\n  mapWithdrawalToL2ToL1EventResult\n} from './helpers'\nimport { fetchWithdrawalsFromSubgraph } from './fetchWithdrawalsFromSubgraph'\nimport { tryFetchLatestSubgraphBlockNumber } from '../SubgraphUtils'\nimport { fetchTokenWithdrawalsFromEventLogs } from './fetchTokenWithdrawalsFromEventLogs'\nimport {\n  L2ToL1EventResultPlus,\n  WithdrawalInitiated\n} from '../../hooks/arbTokenBridge.types'\nimport { fetchL2Gateways } from '../fetchL2Gateways'\n\nexport type FetchWithdrawalsParams = {\n  sender?: string\n  receiver?: string\n  fromBlock?: number\n  toBlock?: number\n  l1Provider: Provider\n  l2Provider: Provider\n  pageNumber?: number\n  pageSize?: number\n  searchString?: string\n}\n\ntype Timestamped = {\n  timestamp?: BigNumber\n}\n\nfunction sortByTimestampDescending(a: Timestamped, b: Timestamped) {\n  const aTimestamp = a.timestamp ?? constants.Zero\n  const bTimestamp = b.timestamp ?? constants.Zero\n\n  return aTimestamp.gt(bTimestamp) ? -1 : 1\n}\n\n/* Fetch complete withdrawals - both ETH and Token withdrawals from subgraph and event logs into one list */\n/* Also fills in any additional data required per transaction for our UI logic to work well */\nexport const fetchWithdrawals = async ({\n  sender,\n  receiver,\n  l1Provider,\n  l2Provider,\n  pageNumber = 0,\n  pageSize = 10,\n  searchString,\n  fromBlock,\n  toBlock\n}: FetchWithdrawalsParams) => {\n  if (typeof sender === 'undefined' && typeof receiver === 'undefined') {\n    return []\n  }\n\n  const l1ChainID = (await l1Provider.getNetwork()).chainId\n  const l2ChainID = (await l2Provider.getNetwork()).chainId\n\n  const l2GatewayAddresses = await fetchL2Gateways(l2Provider)\n\n  if (!fromBlock) {\n    fromBlock = 0\n  }\n\n  if (!toBlock) {\n    // if toBlock hasn't been provided by the user\n\n    // fetch the latest L2 block number thorough subgraph\n    const latestSubgraphBlockNumber = await tryFetchLatestSubgraphBlockNumber(\n      'L2',\n      l2ChainID\n    )\n    toBlock = latestSubgraphBlockNumber\n  }\n\n  const [\n    withdrawalsFromSubgraph,\n    ethWithdrawalsFromEventLogs,\n    tokenWithdrawalsFromEventLogs\n  ] = await Promise.all([\n    fetchWithdrawalsFromSubgraph({\n      sender,\n      receiver,\n      fromBlock,\n      toBlock,\n      l2ChainId: l2ChainID,\n      pageNumber,\n      pageSize,\n      searchString\n    }),\n    fetchETHWithdrawalsFromEventLogs({\n      receiver,\n      fromBlock: toBlock + 1,\n      toBlock: 'latest',\n      l2Provider: l2Provider\n    }),\n    fetchTokenWithdrawalsFromEventLogs({\n      sender,\n      receiver,\n      fromBlock: toBlock + 1,\n      toBlock: 'latest',\n      l2Provider: l2Provider,\n      l2GatewayAddresses\n    })\n  ])\n\n  // get txs to be displayed on the current page (event logs)\n  const currentPageStart = pageNumber * pageSize\n  const currentPageEnd = currentPageStart + pageSize\n\n  // we need timestamps to sort token withdrawals along ETH withdrawals\n  const tokenWithdrawalsFromEventLogsWithTimestamp = await Promise.all(\n    tokenWithdrawalsFromEventLogs.map(withdrawal =>\n      attachTimestampToTokenWithdrawal({ withdrawal, l2Provider })\n    )\n  )\n\n  // get ETH and token withdrawals that will be displayed on the current page\n  const paginatedWithdrawalsFromEventLogs = [\n    ...ethWithdrawalsFromEventLogs,\n    ...tokenWithdrawalsFromEventLogsWithTimestamp\n  ]\n    .sort(sortByTimestampDescending)\n    .slice(currentPageStart, currentPageEnd)\n\n  const paginatedTokenWithdrawalsFromEventLogs: WithdrawalInitiated[] = []\n  const paginatedEthWithdrawalsFromEventLogs: EthWithdrawal[] = []\n\n  for (const withdrawal of paginatedWithdrawalsFromEventLogs) {\n    if (isTokenWithdrawal(withdrawal)) {\n      paginatedTokenWithdrawalsFromEventLogs.push(withdrawal)\n    } else {\n      paginatedEthWithdrawalsFromEventLogs.push(withdrawal)\n    }\n  }\n\n  const mappedTokenWithdrawalsFromEventLogs = await Promise.all(\n    paginatedTokenWithdrawalsFromEventLogs.map(withdrawal =>\n      mapTokenWithdrawalFromEventLogsToL2ToL1EventResult(\n        withdrawal,\n        l1Provider,\n        l2Provider,\n        l2ChainID\n      )\n    )\n  )\n\n  const l2ToL1Txns = [\n    ...(await Promise.all([\n      ...withdrawalsFromSubgraph.map(withdrawal =>\n        mapWithdrawalToL2ToL1EventResult(\n          withdrawal,\n          l1Provider,\n          l2Provider,\n          l2ChainID\n        )\n      ),\n      ...paginatedEthWithdrawalsFromEventLogs.map(withdrawal =>\n        mapETHWithdrawalToL2ToL1EventResult(\n          withdrawal,\n          l1Provider,\n          l2Provider,\n          l2ChainID\n        )\n      )\n    ])),\n    ...mappedTokenWithdrawalsFromEventLogs\n  ]\n    .filter((msg): msg is L2ToL1EventResultPlus => typeof msg !== 'undefined')\n    .sort(sortByTimestampDescending)\n\n  return l2ToL1Txns.map(tx => ({\n    ...tx,\n\n    // attach the chain ids to the withdrawal object\n    chainId: l2ChainID,\n    parentChainId: l1ChainID\n  }))\n}\n","import { useMemo } from 'react'\nimport useSWRImmutable from 'swr/immutable'\nimport { useAccount, useChainId } from 'wagmi'\n\nimport { PageParams } from '../components/TransactionHistory/TransactionsTable/TransactionsTable'\nimport { MergedTransaction } from '../state/app/state'\nimport { isPending, transformWithdrawal } from '../state/app/utils'\nimport {\n  FetchWithdrawalsParams,\n  fetchWithdrawals\n} from '../util/withdrawals/fetchWithdrawals'\nimport { L2ToL1EventResultPlus } from './arbTokenBridge.types'\nimport { useNetworksAndSigners } from './useNetworksAndSigners'\nimport { useAccountType } from './useAccountType'\nimport {\n  shouldIncludeSentTxs,\n  shouldIncludeReceivedTxs\n} from '../util/SubgraphUtils'\nimport { updateAdditionalWithdrawalData } from '../util/withdrawals/helpers'\n\nexport type CompleteWithdrawalData = {\n  withdrawals: L2ToL1EventResultPlus[]\n  pendingWithdrawals: L2ToL1EventResultPlus[]\n  transformedWithdrawals: MergedTransaction[]\n}\n\nconst fetchCompleteWithdrawalData = async (\n  params: FetchWithdrawalsParams\n): Promise<CompleteWithdrawalData> => {\n  // get the original deposits\n  const withdrawalsWithoutStatuses = await fetchWithdrawals(params)\n\n  const withdrawals: L2ToL1EventResultPlus[] = await Promise.all(\n    withdrawalsWithoutStatuses.map(withdrawal =>\n      updateAdditionalWithdrawalData(\n        withdrawal,\n        params.l1Provider,\n        params.l2Provider\n      )\n    )\n  )\n\n  // filter out pending withdrawals\n  const pendingWithdrawalMap = new Map<string, boolean>()\n  const completeWithdrawalData = withdrawals\n    .sort((msgA, msgB) => +msgB.timestamp - +msgA.timestamp)\n    .map(transformWithdrawal)\n\n  completeWithdrawalData.forEach(completeTxData => {\n    if (isPending(completeTxData)) {\n      pendingWithdrawalMap.set(completeTxData.txId, true)\n    }\n  })\n  const pendingWithdrawals = withdrawals.filter(\n    tx =>\n      tx.l2TxHash &&\n      typeof pendingWithdrawalMap.get(tx.l2TxHash) !== 'undefined'\n  )\n\n  return {\n    withdrawals,\n    pendingWithdrawals,\n    transformedWithdrawals: completeWithdrawalData\n  }\n}\n\nexport const useWithdrawals = (withdrawalPageParams: PageParams) => {\n  const { l1, l2 } = useNetworksAndSigners()\n  const { isSmartContractWallet, isLoading: isAccountTypeLoading } =\n    useAccountType()\n  const chainId = useChainId()\n\n  const isConnectedToParentChain = l1.network.id === chainId\n\n  // only change l1-l2 providers (and hence, reload withdrawals) when the connected chain id changes\n  // otherwise tx-history unnecessarily reloads on l1<->l2 network switch as well (#847)\n  const l1Provider = useMemo(() => l1.provider, [l1.network.id])\n  const l2Provider = useMemo(() => l2.provider, [l2.network.id])\n\n  const { address: walletAddress } = useAccount()\n\n  // SCW address is tied to a specific network\n  // that's why we need to limit shown txs either to sent or received funds\n  // otherwise we'd display funds for a different network, which could be someone else's account\n  const includeSentTxs = isAccountTypeLoading\n    ? false\n    : shouldIncludeSentTxs({\n        type: 'withdrawal',\n        isSmartContractWallet,\n        isConnectedToParentChain\n      })\n\n  const includeReceivedTxs = isAccountTypeLoading\n    ? false\n    : shouldIncludeReceivedTxs({\n        type: 'withdrawal',\n        isSmartContractWallet,\n        isConnectedToParentChain\n      })\n\n  /* return the cached response for the complete pending transactions */\n  return useSWRImmutable(\n    // `walletAddress` can actually be `undefined`, so the type is wrong\n    // remove comment once we switch to `useAccount`\n    walletAddress\n      ? [\n          'withdrawals',\n          walletAddress,\n          l1Provider,\n          l2Provider,\n          withdrawalPageParams.pageNumber,\n          withdrawalPageParams.pageSize,\n          withdrawalPageParams.searchString,\n          isAccountTypeLoading\n        ]\n      : null,\n    ([\n      ,\n      _walletAddress,\n      _l1Provider,\n      _l2Provider,\n      _pageNumber,\n      _pageSize,\n      _searchString\n    ]) =>\n      fetchCompleteWithdrawalData({\n        sender: includeSentTxs ? _walletAddress : undefined,\n        receiver: includeReceivedTxs ? _walletAddress : undefined,\n        l1Provider: _l1Provider,\n        l2Provider: _l2Provider,\n        pageNumber: _pageNumber,\n        pageSize: _pageSize,\n        searchString: _searchString\n      })\n  )\n}\n","/*\n  A small info banner that we show when the user has some pending claim withdrawals OR some retryables to redeem.\n  Format: \"You have [X] deposits to retry and [Y] withdrawals ready to claim. [CTA]\"\n*/\n\nimport {\n  CheckCircleIcon,\n  InformationCircleIcon\n} from '@heroicons/react/24/outline'\nimport { twMerge } from 'tailwind-merge'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { useAppState } from '../../state'\nimport { MergedTransaction } from '../../state/app/state'\nimport {\n  isDepositReadyToRedeem,\n  isWithdrawalReadyToClaim\n} from '../../state/app/utils'\nimport { shouldTrackAnalytics, trackEvent } from '../../util/AnalyticsUtils'\nimport { getNetworkName } from '../../util/networks'\nimport { TransactionHistoryTab, useAppContextActions } from '../App/AppContext'\nimport { ExternalLink } from '../common/ExternalLink'\n\nexport const TransactionStatusInfo = ({\n  deposits\n}: {\n  deposits: MergedTransaction[]\n}) => {\n  const {\n    l2: { network: l2Network }\n  } = useNetworksAndSigners()\n  const l2NetworkName = getNetworkName(l2Network.id)\n  const { openTransactionHistoryPanel, setTransactionHistoryTab } =\n    useAppContextActions()\n\n  // get the pending withdrawals to claim\n  const {\n    app: { mergedTransactions }\n  } = useAppState()\n  const numWithdrawalsReadyToClaim = mergedTransactions.filter(tx =>\n    isWithdrawalReadyToClaim(tx)\n  ).length\n\n  // get the pending retryables to redeem\n  const numRetryablesToRedeem = deposits.filter(tx =>\n    isDepositReadyToRedeem(tx)\n  ).length\n\n  // don't show this banner if user doesn't have anything to claim or redeem\n  if (numWithdrawalsReadyToClaim === 0 && numRetryablesToRedeem === 0)\n    return null\n\n  return (\n    <div\n      className={twMerge(\n        'mx-0 flex cursor-pointer flex-wrap items-center gap-1  p-2 text-sm lg:flex-nowrap lg:rounded-md lg:text-base',\n        numRetryablesToRedeem\n          ? 'bg-brick text-brick-dark'\n          : 'bg-lime text-lime-dark'\n      )}\n      onClick={() => {\n        setTransactionHistoryTab(TransactionHistoryTab.DEPOSITS)\n        openTransactionHistoryPanel()\n        if (shouldTrackAnalytics(l2NetworkName)) {\n          trackEvent('Open Transaction History Click', {\n            pageElement: 'Tx Info Banner'\n          })\n        }\n      }}\n    >\n      <div className=\"inline\">\n        {numRetryablesToRedeem ? (\n          <InformationCircleIcon className=\"-mt-1 mr-2 inline h-4 w-4\" />\n        ) : (\n          <CheckCircleIcon className=\"-mt-1 mr-2 inline h-4 w-4\" />\n        )}\n        You have{` `}\n        {/* deposits ready to retry */}\n        {numRetryablesToRedeem ? (\n          <span className=\"font-bold\">\n            {`${numRetryablesToRedeem} ${\n              numRetryablesToRedeem > 1 ? 'deposits' : 'deposit'\n            } to retry`}\n          </span>\n        ) : null}\n        {/* and */}\n        {numRetryablesToRedeem && numWithdrawalsReadyToClaim ? (\n          <span>\n            {` `}and{` `}\n          </span>\n        ) : null}\n        {/* withdrawals ready to claim text */}\n        {numWithdrawalsReadyToClaim ? (\n          <span className=\"font-bold\">\n            {`${numWithdrawalsReadyToClaim} ${\n              numWithdrawalsReadyToClaim > 1 ? 'withdrawals' : 'withdrawal'\n            } ready to claim`}\n          </span>\n        ) : null}\n        <span>.{` `}</span>\n        {/* open tx history panel cta */}\n        <ExternalLink className=\"arb-hover text-sm underline lg:text-base\">\n          Open Transaction History panel.\n        </ExternalLink>\n      </div>\n    </div>\n  )\n}\n","// Used to fetch the TPS (Transactions per Second) information for a network\n\nimport axios from 'axios'\nimport { load } from 'cheerio'\nimport useSWR from 'swr'\n\nimport { getExplorerUrl, isNetwork } from '../util/networks'\nimport { useNetworksAndSigners } from './useNetworksAndSigners'\n\nconst emptyData = { tps: null }\n\nconst fetchNetworkTPS = async (l2ChainId: number) => {\n  // currently we only support TPS information for Arb-one and nova\n  // return null for rest of the networks\n  const canFetchTPS =\n    isNetwork(Number(l2ChainId)).isArbitrumNova ||\n    isNetwork(Number(l2ChainId)).isArbitrumOne\n  if (!canFetchTPS) return emptyData\n\n  // url from where we'll fetch stats\n  const explorerUrl = getExplorerUrl(Number(l2ChainId))\n\n  // for 403 or CORS blocked errors while scraping external endpoints, we use cors-proxy\n  const finalUrl = `https://corsproxy.io/?${encodeURIComponent(explorerUrl)}`\n  const response = await axios.get(finalUrl)\n\n  // Get the HTML code of the webpage\n  const html = response.data\n  const $ = load(html)\n  const tpsElement = $(\n    'span[title=\"Transactions per Second - Adjusted for Arbitrum Nitro system txs\"]'\n  )\n  const tps = (tpsElement?.text() || '')\n    .trim()\n    .replace(/[()]/g, '')\n    .split(' ')[0]\n\n  return { tps: isNaN(Number(tps)) ? null : Number(tps) }\n}\n\nexport const useNetworkTPS = () => {\n  const {\n    l2: {\n      network: { id: l2ChainId }\n    }\n  } = useNetworksAndSigners()\n\n  return useSWR(\n    ['tps', l2ChainId],\n    ([, _l2ChainId]) => fetchNetworkTPS(_l2ChainId),\n    {\n      refreshInterval: 30_000,\n      shouldRetryOnError: false\n    }\n  )\n}\n","import { utils } from 'ethers'\nimport useLocalStorage from '@rehooks/local-storage'\nimport { useBlockNumber } from 'wagmi'\n\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { getNetworkName, isNetwork } from '../../util/networks'\nimport { useNetworkTPS } from '../../hooks/useNetworkTPS'\nimport { useGasPrice } from '../../hooks/useGasPrice'\nimport { useArbQueryParams } from '../../hooks/useArbQueryParams'\nimport { useChainLayers } from '../../hooks/useChainLayers'\n\nexport const statsLocalStorageKey = 'arbitrum:bridge:preferences:stats'\n\nconst getActivityThresholdL1 = (gasPrice: number) => {\n  if (gasPrice < 20) return { className: 'text-[#008000]' }\n  if (gasPrice < 40) return { className: 'text-orange-arbitrum-nova' }\n  return { className: 'text-[#ff0000]' }\n}\n\nconst getActivityThresholdL2 = (gasPrice: number) => {\n  if (gasPrice < 0.5) return { className: 'text-[#008000]' }\n  if (gasPrice < 2) return { className: 'text-orange-arbitrum-nova' }\n  return { className: 'text-[#ff0000]' }\n}\n\nexport const ArbitrumStats = () => {\n  const [, setIsArbitrumStatsVisible] =\n    useLocalStorage<boolean>(statsLocalStorageKey)\n  const [{ settingsOpen }] = useArbQueryParams()\n\n  const { l1, l2 } = useNetworksAndSigners()\n  const { parentLayer, layer } = useChainLayers()\n\n  const { data: currentL1BlockNumber } = useBlockNumber({\n    chainId: l1.network.id,\n    watch: true\n  })\n\n  const { data: currentL2BlockNumber } = useBlockNumber({\n    chainId: l2.network.id,\n    watch: true\n  })\n\n  const { data: tpsData, isValidating: tpsLoading } = useNetworkTPS()\n\n  const currentL1GasPrice = useGasPrice({ provider: l1.provider })\n  const currentL1GasPriceGwei = utils.formatUnits(currentL1GasPrice, 'gwei')\n  const currentL1Activity = getActivityThresholdL1(\n    Number(currentL1GasPriceGwei || 0)\n  )\n\n  const currentL2GasPrice = useGasPrice({ provider: l2.provider })\n  const currentL2GasPriceGwei = utils.formatUnits(currentL2GasPrice, 'gwei')\n  const currentL2Activity = getActivityThresholdL2(\n    Number(currentL2GasPriceGwei || 0)\n  )\n\n  const closeArbitrumStats = () => {\n    setIsArbitrumStatsVisible(false)\n  }\n\n  return (\n    <div className=\"fixed bottom-0 right-0 z-[100] m-4 flex flex-col gap-2 whitespace-nowrap rounded-md bg-[#000000d1] p-4 font-[monospace] text-xs text-gray-6\">\n      <div className=\"section flex flex-col\">\n        <span className=\"text-md text-white\">\n          <span className=\"mr-1 animate-pulse text-lg text-[#008000]\">\n            &bull;\n          </span>{' '}\n          {getNetworkName(l1.network.id)} ({parentLayer})\n        </span>\n        <span>\n          &gt; Block:{' '}\n          {currentL1BlockNumber ? currentL1BlockNumber : 'Loading...'}\n        </span>\n        <span>\n          &gt; Gas price:{' '}\n          <span className={`${currentL1Activity.className}`}>\n            {' '}\n            {Number(currentL1GasPriceGwei).toFixed(2)} Gwei{' '}\n          </span>\n        </span>\n      </div>\n\n      <div className=\"section flex flex-col\">\n        <span className=\"text-md text-white\">\n          <span className=\"mr-1 animate-pulse text-lg text-[#008000]\">\n            &bull;\n          </span>{' '}\n          {getNetworkName(l2.network.id)} ({layer})\n        </span>\n        <span>\n          &gt; Block:{' '}\n          {currentL2BlockNumber ? currentL2BlockNumber : 'Loading...'}\n        </span>\n        <span>\n          &gt; Gas price:{' '}\n          <span className={`${currentL2Activity.className}`}>\n            {' '}\n            {Number(currentL2GasPriceGwei).toFixed(2)} Gwei{' '}\n          </span>\n        </span>\n\n        {/* TPS info is not available for testnets */}\n        {!isNetwork(l2.network.id).isTestnet && (\n          <span>\n            &gt; TPS: {tpsLoading && <span>Loading...</span>}\n            {!tpsLoading && (\n              <span>{tpsData?.tps ? `${tpsData.tps} TPS` : '-'}</span>\n            )}\n          </span>\n        )}\n      </div>\n\n      {/* Don't show the close button if the settings panel is visible */}\n      {!settingsOpen && (\n        <button\n          className=\"absolute right-4 top-4 cursor-pointer\"\n          onClick={closeArbitrumStats}\n        >\n          [x]\n        </button>\n      )}\n    </div>\n  )\n}\n","import { useEffect } from 'react'\nimport useLocalStorage from '@rehooks/local-storage'\n\nexport const themeLocalStorageKey = 'arbitrum:bridge:preferences:theme'\n\nexport const classicThemeKey = 'arbitrum-classic-theme'\n\nexport const THEME_CONFIG = [\n  {\n    id: 'space',\n    label: 'Space',\n    description:\n      'A dark, space-themed UI with a sleek and futuristic aesthetic, featuring Arbinaut on a backdrop of shining stars and moon.'\n  },\n  {\n    id: classicThemeKey,\n    label: 'Arbitrum Classic',\n    description:\n      'Arbitrum before it was cool: A reminiscent of the pre-nitro era, with simple, solid buttons, a minimal purple layout and chunky fonts.'\n  }\n]\n\nexport const useTheme = () => {\n  const [theme, setTheme] = useLocalStorage<string>(themeLocalStorageKey)\n\n  useEffect(() => {\n    if (!theme) return\n    document.body.className = theme\n  }, [theme])\n\n  return [theme, setTheme] as const\n}\n","import { useState } from 'react'\nimport { isAddress } from 'ethers/lib/utils.js'\nimport { Popover } from '@headlessui/react'\nimport { addCustomChain } from '@arbitrum/sdk'\nimport { StaticJsonRpcProvider } from '@ethersproject/providers'\nimport { EllipsisHorizontalIcon, XMarkIcon } from '@heroicons/react/24/outline'\nimport { constants } from 'ethers'\nimport { z } from 'zod'\n\nimport {\n  ChainId,\n  ChainWithRpcUrl,\n  getCustomChainsFromLocalStorage,\n  getCustomChainFromLocalStorageById,\n  getNetworkName,\n  removeCustomChainFromLocalStorage,\n  saveCustomChainToLocalStorage,\n  supportedCustomOrbitParentChains,\n  rpcURLs\n} from '../../util/networks'\nimport { Loader } from './atoms/Loader'\nimport { Erc20Data, fetchErc20Data } from '../../util/TokenUtils'\n\nconst orbitConfigsLocalStorageKey = 'arbitrum:orbit:configs'\n\ntype Contracts = {\n  customGateway: string\n  multicall: string\n  proxyAdmin: string\n  router: string\n  standardGateway: string\n  weth: string\n  wethGateway: string\n}\n\ntype OrbitConfig = {\n  chainInfo: {\n    minL2BaseFee: number\n    networkFeeReceiver: string\n    infrastructureFeeCollector: string\n    batchPoster: string\n    staker: string\n    chainOwner: string\n    chainName: string\n    chainId: number\n    parentChainId: number\n    rpcUrl: string\n    explorerUrl: string\n    nativeToken?: string\n  }\n  coreContracts: {\n    rollup: string\n    inbox: string\n    outbox: string\n    adminProxy: string\n    sequencerInbox: string\n    bridge: string\n    utils: string\n    validatorWalletCreator: string\n  }\n  tokenBridgeContracts: {\n    l2Contracts: Contracts\n    l3Contracts: Contracts\n  }\n}\n\nconst zAddress = z\n  .string()\n  .refine(address => isAddress(address), 'Invalid address')\n\nconst zChainId = z\n  .number()\n  .int()\n  .positive()\n  .refine(\n    chainId => !Object.values(ChainId).includes(chainId),\n    'Invalid custom Orbit chain ID'\n  )\n  .refine(\n    chainId => !getCustomChainFromLocalStorageById(chainId),\n    'Custom chain already added'\n  )\n\nconst zParentChainId = z\n  .number()\n  .int()\n  .positive()\n  .refine(\n    chainId => supportedCustomOrbitParentChains.includes(chainId),\n    'Unsupported parent chain ID'\n  )\n\nconst zContract = z.object({\n  customGateway: zAddress,\n  multicall: zAddress,\n  proxyAdmin: zAddress,\n  router: zAddress,\n  standardGateway: zAddress,\n  weth: zAddress,\n  wethGateway: zAddress\n})\n\nconst ZodOrbitConfig = z.object({\n  chainInfo: z.object({\n    minL2BaseFee: z.number().nonnegative().int(),\n    networkFeeReceiver: zAddress,\n    infrastructureFeeCollector: zAddress,\n    batchPoster: zAddress,\n    staker: zAddress,\n    chainOwner: zAddress,\n    chainName: z.string(),\n    chainId: zChainId,\n    parentChainId: zParentChainId,\n    rpcUrl: z.string().url(),\n    explorerUrl: z.string().url(),\n    nativeToken: zAddress.optional()\n  }),\n  coreContracts: z.object({\n    rollup: zAddress,\n    inbox: zAddress,\n    outbox: zAddress,\n    adminProxy: zAddress,\n    sequencerInbox: zAddress,\n    bridge: zAddress,\n    utils: zAddress,\n    validatorWalletCreator: zAddress\n  }),\n  tokenBridgeContracts: z.object({\n    l2Contracts: zContract,\n    l3Contracts: zContract\n  })\n})\n\nfunction getOrbitConfigsFromLocalStorage(): OrbitConfig[] {\n  const configs = localStorage.getItem(orbitConfigsLocalStorageKey)\n\n  if (!configs) {\n    return []\n  }\n\n  return JSON.parse(configs)\n}\n\nfunction getOrbitConfigFromLocalStorageById(\n  chainId: ChainId\n): OrbitConfig | undefined {\n  const configs = getOrbitConfigsFromLocalStorage()\n  return configs.find(config => config.chainInfo.chainId === chainId)\n}\n\nfunction removeOrbitConfigFromLocalStorage(chainId: ChainId) {\n  const configs = getOrbitConfigsFromLocalStorage()\n  const newConfigs = configs.filter(\n    config => config.chainInfo.chainId !== chainId\n  )\n  localStorage.setItem(orbitConfigsLocalStorageKey, JSON.stringify(newConfigs))\n}\n\nfunction saveOrbitConfigToLocalStorage(data: OrbitConfig) {\n  const configs = getOrbitConfigsFromLocalStorage()\n  localStorage.setItem(\n    orbitConfigsLocalStorageKey,\n    JSON.stringify([...configs, data])\n  )\n}\n\nfunction mapOrbitConfigToOrbitChain(data: OrbitConfig): ChainWithRpcUrl {\n  return {\n    chainID: data.chainInfo.chainId,\n    confirmPeriodBlocks: 150,\n    ethBridge: {\n      bridge: data.coreContracts.bridge,\n      inbox: data.coreContracts.inbox,\n      outbox: data.coreContracts.outbox,\n      rollup: data.coreContracts.rollup,\n      sequencerInbox: data.coreContracts.sequencerInbox\n    },\n    rpcUrl: data.chainInfo.rpcUrl,\n    explorerUrl: data.chainInfo.explorerUrl,\n    isCustom: true,\n    name: data.chainInfo.chainName,\n    partnerChainID: data.chainInfo.parentChainId,\n    retryableLifetimeSeconds: 604800,\n    nitroGenesisBlock: 0,\n    nitroGenesisL1Block: 0,\n    depositTimeout: 900000,\n    nativeToken: data.chainInfo.nativeToken,\n    isArbitrum: true,\n    tokenBridge: {\n      l1CustomGateway: data.tokenBridgeContracts.l2Contracts.customGateway,\n      l1ERC20Gateway: data.tokenBridgeContracts.l2Contracts.standardGateway,\n      l1GatewayRouter: data.tokenBridgeContracts.l2Contracts.router,\n      l1MultiCall: data.tokenBridgeContracts.l2Contracts.multicall,\n      l1ProxyAdmin: data.tokenBridgeContracts.l2Contracts.proxyAdmin,\n      l1Weth: data.tokenBridgeContracts.l2Contracts.weth,\n      l1WethGateway: data.tokenBridgeContracts.l2Contracts.wethGateway,\n      l2CustomGateway: data.tokenBridgeContracts.l3Contracts.customGateway,\n      l2ERC20Gateway: data.tokenBridgeContracts.l3Contracts.standardGateway,\n      l2GatewayRouter: data.tokenBridgeContracts.l3Contracts.router,\n      l2Multicall: data.tokenBridgeContracts.l3Contracts.multicall,\n      l2ProxyAdmin: data.tokenBridgeContracts.l3Contracts.proxyAdmin,\n      l2Weth: data.tokenBridgeContracts.l3Contracts.weth,\n      l2WethGateway: data.tokenBridgeContracts.l3Contracts.wethGateway\n    }\n  }\n}\n\nasync function fetchNativeToken(\n  data: OrbitConfig\n): Promise<\n  | { nativeToken: undefined; nativeTokenData: undefined }\n  | { nativeToken: string; nativeTokenData: Erc20Data }\n> {\n  const nativeToken = data.chainInfo.nativeToken\n  const nativeTokenIsEther =\n    typeof nativeToken === 'undefined' || nativeToken === constants.AddressZero\n\n  if (nativeTokenIsEther) {\n    return { nativeToken: undefined, nativeTokenData: undefined }\n  }\n\n  const nativeTokenData = await fetchErc20Data({\n    address: nativeToken,\n    provider: new StaticJsonRpcProvider(rpcURLs[data.chainInfo.parentChainId])\n  })\n\n  return { nativeToken, nativeTokenData }\n}\n\nexport const AddCustomChain = () => {\n  const [chainJson, setChainJson] = useState<string>('')\n  const [error, setError] = useState<string | null>(null)\n  const [addingChain, setAddingChain] = useState(false)\n\n  const customChains = getCustomChainsFromLocalStorage()\n\n  async function onAddChain() {\n    setAddingChain(true)\n    setError(null)\n\n    try {\n      const data = JSON.parse(\n        chainJson.trim().replace(/[\\r\\n]+/g, '')\n      ) as OrbitConfig\n\n      if (!data) {\n        throw new Error('JSON input is empty.')\n      }\n\n      // validate config\n      ZodOrbitConfig.parse(data)\n\n      const customChain = mapOrbitConfigToOrbitChain(data)\n      const nativeToken = await fetchNativeToken(data)\n      // Orbit config has been validated and will be added to the custom list after page refreshes\n      // let's still try to add it here to handle eventual errors\n      addCustomChain({ customChain })\n      saveCustomChainToLocalStorage({ ...customChain, ...nativeToken })\n      saveOrbitConfigToLocalStorage(data)\n      // reload to apply changes\n      location.reload()\n    } catch (error: any) {\n      setError(error.message ?? 'Something went wrong.')\n      setAddingChain(false)\n    }\n  }\n\n  return (\n    <>\n      <textarea\n        onChange={e => setChainJson(e.target.value)}\n        placeholder=\"Insert the JSON configuration from the `outputInfo.json` file that's generated at the end of the custom Orbit chain deployment.\"\n        className=\"min-h-[100px] w-full rounded-lg px-4 py-2 text-sm font-light text-black\"\n      />\n      {error && (\n        <div className=\"relative\">\n          <pre className=\"scroll mb-2 max-h-[400px] overflow-auto rounded-lg border border-white/20 bg-white/5 p-4 text-sm text-error\">\n            <button\n              onClick={() => setError(null)}\n              className=\"arb-hover absolute right-4 top-4 text-white\"\n            >\n              <XMarkIcon width={24} />\n            </button>\n            {error}\n          </pre>\n        </div>\n      )}\n      <div className=\"flex w-full justify-end\">\n        {addingChain ? (\n          <Loader size=\"small\" />\n        ) : (\n          // Need to replace with an atom\n          <button\n            onClick={onAddChain}\n            className=\"rounded bg-white p-2 text-sm text-black transition-all hover:opacity-80 disabled:cursor-not-allowed disabled:opacity-50\"\n            disabled={!chainJson.trim()}\n          >\n            Add Chain\n          </button>\n        )}\n      </div>\n\n      {/* Custom chain list */}\n      {customChains.length > 0 && !addingChain && (\n        <div className=\"mt-4\">\n          <div className=\"heading mb-4 text-lg\">Live Orbit Chains</div>\n          <table className=\"w-full text-left\">\n            <thead className=\"border-b border-gray-600\">\n              <tr>\n                <th className=\"pb-1 text-xs font-normal\">ORBIT CHAIN</th>\n                <th className=\"pb-1 text-xs font-normal\">ORBIT CHAIN ID</th>\n                <th className=\"pb-1 text-xs font-normal\">PARENT CHAIN</th>\n                <th className=\"pb-1 text-xs font-normal\">PARENT CHAIN ID</th>\n                <th className=\"pb-1 text-xs font-normal\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {customChains.map(customChain => (\n                <tr\n                  key={customChain.chainID}\n                  className=\"border-b border-gray-600\"\n                >\n                  <th className=\"max-w-[100px] truncate py-3 text-sm font-normal\">\n                    {customChain.name}\n                  </th>\n                  <th className=\"py-3 text-sm font-normal\">\n                    {customChain.chainID}\n                  </th>\n                  <th className=\"py-3 text-sm font-normal\">\n                    {getNetworkName(customChain.partnerChainID)}\n                  </th>\n                  <th className=\"py-3 text-sm font-normal\">\n                    {customChain.partnerChainID}\n                  </th>\n                  <th className=\"py-3\">\n                    <Popover className=\"relative\">\n                      <Popover.Button>\n                        <EllipsisHorizontalIcon width={20} />\n                      </Popover.Button>\n                      <Popover.Panel className=\"absolute bottom-6 right-0 flex w-52 flex-col rounded bg-white text-xs font-normal text-black\">\n                        <button\n                          className=\"rounded p-4 text-left hover:bg-gray-3\"\n                          onClick={() => {\n                            removeCustomChainFromLocalStorage(\n                              customChain.chainID\n                            )\n                            removeOrbitConfigFromLocalStorage(\n                              customChain.chainID\n                            )\n                            // reload to apply changes\n                            location.reload()\n                          }}\n                        >\n                          Delete this chain\n                        </button>\n                        <a\n                          className=\"rounded p-4 text-left hover:bg-gray-3\"\n                          href={`data:text/json;charset=utf-8,${encodeURIComponent(\n                            JSON.stringify(\n                              getOrbitConfigFromLocalStorageById(\n                                customChain.chainID\n                              )\n                            )\n                          )}`}\n                          download={`${customChain.name\n                            .split(' ')\n                            .join('')}.json`}\n                        >\n                          Download config for this chain\n                        </a>\n                      </Popover.Panel>\n                    </Popover>\n                  </th>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </>\n  )\n}\n","import { RadioGroup } from '@headlessui/react'\n\nexport type RadioType<T> = {\n  value: T\n  onChange: (param: T) => void\n  label?: string\n  orientation?: 'horizontal' | 'vertical'\n  options: {\n    label: string\n    description?: string\n    value: T\n    id: string\n  }[]\n}\n\nexport const Radio = ({\n  value,\n  label,\n  orientation,\n  onChange,\n  options\n}: RadioType<string>) => {\n  return (\n    <RadioGroup value={value} onChange={onChange} className=\"radio-switch\">\n      {/* radio group title (optional) */}\n      {label && <RadioGroup.Label className=\"mb-4\">{label}</RadioGroup.Label>}\n\n      <div\n        className={`flex gap-6 ${\n          orientation === 'vertical' && 'flex-col items-start'\n        }`}\n      >\n        {options.map(option => (\n          <RadioGroup.Option key={option.id} value={option.value}>\n            {({ checked }: { checked: boolean }) => (\n              <>\n                <div className=\"flex w-full cursor-pointer gap-3\">\n                  {/* radio checkmark */}\n                  {checked ? (\n                    <div className=\"radio-selected mb-1 mt-[3px] h-4 w-4 shrink-0 rounded-full border border-white bg-white shadow-[inset_0_0_0_2px_rgba(0,0,0,1)]\"></div>\n                  ) : (\n                    <div className=\"mb-1 mt-[3px] h-4 w-4 shrink-0 rounded-full border border-white\"></div>\n                  )}\n\n                  {/* radio option text */}\n                  <div className=\"flex flex-col\">\n                    {/* option label */}\n                    <RadioGroup.Label\n                      as=\"p\"\n                      className={`heading mb-1 mr-4 text-sm`}\n                    >\n                      {option.label}\n                    </RadioGroup.Label>\n\n                    {/* option description */}\n                    {option.description && (\n                      <RadioGroup.Description\n                        as=\"span\"\n                        className=\"text-sm text-gray-3\"\n                      >\n                        <span>{option.description}</span>\n                      </RadioGroup.Description>\n                    )}\n                  </div>\n                </div>\n              </>\n            )}\n          </RadioGroup.Option>\n        ))}\n      </div>\n    </RadioGroup>\n  )\n}\n","import { Switch as HeadlessSwitch } from '@headlessui/react'\n\nexport type SwitchProps = {\n  label?: string\n  description?: string\n  checked: boolean\n  onChange: () => void\n}\n\nexport const Switch = ({\n  label,\n  description,\n  checked,\n  onChange\n}: SwitchProps) => {\n  return (\n    <HeadlessSwitch.Group>\n      <div className=\"toggle-switch flex flex-col\">\n        <div className=\"flex items-center gap-3\">\n          <HeadlessSwitch\n            checked={checked}\n            onChange={onChange}\n            className=\"relative inline-flex h-4 w-8 items-center rounded-full transition-colors ui-checked:bg-white ui-not-checked:bg-gray-dark [&_span]:ui-checked:translate-x-[20px] [&_span]:ui-checked:bg-black [&_span]:ui-not-checked:translate-x-[3px] [&_span]:ui-not-checked:bg-white\"\n          >\n            <span\n              className={`inline-block h-[10px] w-[10px] transform rounded-full transition-transform`}\n            />\n          </HeadlessSwitch>\n\n          {label && (\n            <HeadlessSwitch.Label className=\"heading mr-4 text-sm\">\n              {label}\n            </HeadlessSwitch.Label>\n          )}\n        </div>\n\n        {description && (\n          <HeadlessSwitch.Description className=\"mt-1 pl-11 text-sm text-gray-3\">\n            {description}\n          </HeadlessSwitch.Description>\n        )}\n      </div>\n    </HeadlessSwitch.Group>\n  )\n}\n","import { useCallback, useEffect } from 'react'\nimport { useChainId } from 'wagmi'\nimport { twMerge } from 'tailwind-merge'\nimport useLocalStorage from '@rehooks/local-storage'\n\nimport { THEME_CONFIG, useTheme, classicThemeKey } from '../../hooks/useTheme'\nimport { statsLocalStorageKey } from '../MainContent/ArbitrumStats'\nimport { AddCustomChain } from './AddCustomChain'\nimport { Radio } from './atoms/Radio'\nimport { Switch } from './atoms/Switch'\nimport { SidePanel } from './SidePanel'\nimport { useArbQueryParams } from '../../hooks/useArbQueryParams'\nimport { isNetwork } from '../../util/networks'\nimport { warningToast } from './atoms/Toast'\nimport { ExternalLink } from './ExternalLink'\nimport { ORBIT_QUICKSTART_LINK } from '../../constants'\n\nexport const testnetModeLocalStorageKey = 'arbitrum:bridge:settings:testnetMode'\n\nconst SectionTitle = ({\n  className,\n  children\n}: {\n  className?: string\n  children: React.ReactNode\n}) => (\n  <div className={twMerge('heading mb-4 text-lg', className)}>{children}</div>\n)\n\nexport const SettingsDialog = () => {\n  const chainId = useChainId()\n  const isConnectedToTestnet = isNetwork(chainId).isTestnet\n\n  const [{ settingsOpen }, setQueryParams] = useArbQueryParams()\n\n  const [isArbitrumStatsVisible, setIsArbitrumStatsVisible] =\n    useLocalStorage<boolean>(statsLocalStorageKey)\n  const [isTestnetMode, setIsTestnetMode] = useLocalStorage<boolean>(\n    testnetModeLocalStorageKey\n  )\n\n  const [_selectedTheme, setTheme] = useTheme()\n  const selectedTheme =\n    _selectedTheme === classicThemeKey ? classicThemeKey : 'space'\n\n  const openArbitrumStats = () => {\n    setIsArbitrumStatsVisible(true)\n  }\n\n  const closeArbitrumStats = () => {\n    setIsArbitrumStatsVisible(false)\n  }\n\n  const enableTestnetMode = useCallback(() => {\n    setIsTestnetMode(true)\n  }, [setIsTestnetMode])\n\n  const disableTestnetMode = useCallback(() => {\n    // can't turn test mode off if connected to testnet\n    if (!isConnectedToTestnet) {\n      setIsTestnetMode(false)\n    } else {\n      warningToast(\n        'Cannot disable Testnet mode while connected to a testnet network'\n      )\n    }\n  }, [isConnectedToTestnet, setIsTestnetMode])\n\n  function closeSettings() {\n    setQueryParams({ settingsOpen: false })\n  }\n\n  useEffect(() => {\n    // force test mode if connected to testnet\n    if (isConnectedToTestnet) {\n      enableTestnetMode()\n    }\n  }, [isConnectedToTestnet, enableTestnetMode])\n\n  return (\n    <SidePanel\n      isOpen={settingsOpen}\n      heading=\"Settings\"\n      onClose={closeSettings}\n      panelClassNameOverrides=\"lg:!w-[600px] !min-w-[350px]\" // custom width\n    >\n      <div className=\"flex w-full flex-col items-center gap-8 text-white\">\n        {/* Theme selection radio */}\n        <div className=\"w-full\">\n          <SectionTitle>Theme</SectionTitle>\n          <div className=\"flex w-full flex-col gap-2\">\n            <Radio\n              orientation=\"vertical\"\n              value={selectedTheme}\n              onChange={setTheme}\n              options={THEME_CONFIG.map(theme => ({\n                label: theme.label,\n                description: theme.description,\n                value: theme.id,\n                id: theme.id\n              }))}\n            />\n          </div>\n        </div>\n\n        {/* Arbitrum stats toggle */}\n        <div className=\"w-full\">\n          <SectionTitle>Stats</SectionTitle>\n\n          <Switch\n            label=\"Show Network Stats\"\n            description=\"Show live, nerdy stats about Ethereum and Arbitrum chains, like\n        block number and current gas price.\"\n            checked={!!isArbitrumStatsVisible}\n            onChange={\n              isArbitrumStatsVisible ? closeArbitrumStats : openArbitrumStats\n            }\n          />\n        </div>\n\n        {/* Show testnets toggle */}\n        <div\n          className={twMerge(\n            'w-full',\n            isConnectedToTestnet ? 'cursor-not-allowed opacity-20' : ''\n          )}\n        >\n          <SectionTitle>Developer Mode</SectionTitle>\n\n          <Switch\n            label=\"Turn on Testnet mode\"\n            description=\"Show testnet networks and enable other testnet features.\"\n            checked={!!isTestnetMode}\n            onChange={isTestnetMode ? disableTestnetMode : enableTestnetMode}\n          />\n        </div>\n\n        {/* Add custom chain */}\n        <div\n          className={twMerge(\n            'w-full',\n            isTestnetMode ? '' : 'pointer-events-none opacity-20'\n          )}\n        >\n          <SectionTitle className=\"mb-1\">Add Testnet Orbit Chain</SectionTitle>\n          <p className=\"mb-4 text-sm text-gray-3\">\n            Add in your own Orbit Testnet to the bridge. This will only be for\n            local testing. Learn more about how to create and add your Orbit\n            Testnet to the bridge in{' '}\n            <ExternalLink\n              className=\"arb-hover text-blue-400 underline\"\n              href={ORBIT_QUICKSTART_LINK}\n            >\n              Arbitrum Orbit Quickstart\n            </ExternalLink>\n            .\n          </p>\n\n          <AddCustomChain />\n        </div>\n      </div>\n    </SidePanel>\n  )\n}\n","import { useEffect, useMemo, useState } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport useLocalStorage from '@rehooks/local-storage'\n\nimport { TransferPanel } from '../TransferPanel/TransferPanel'\nimport { TransactionHistory } from '../TransactionHistory/TransactionHistory'\nimport { SidePanel } from '../common/SidePanel'\nimport { useAppContextActions, useAppContextState } from '../App/AppContext'\nimport { useAppState } from '../../state'\nimport { useDeposits } from '../../hooks/useDeposits'\nimport { PageParams } from '../TransactionHistory/TransactionsTable/TransactionsTable'\nimport { useWithdrawals } from '../../hooks/useWithdrawals'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { TransactionStatusInfo } from '../TransactionHistory/TransactionStatusInfo'\nimport { ArbitrumStats, statsLocalStorageKey } from './ArbitrumStats'\nimport { SettingsDialog } from '../common/SettingsDialog'\nimport { isNetwork } from '../../util/networks'\n\nexport const motionDivProps = {\n  layout: true,\n  initial: {\n    opacity: 0,\n    scale: 0.9\n  },\n  animate: {\n    opacity: 1,\n    scale: 1\n  },\n  exit: {\n    opacity: 0,\n    scale: 0.9\n  }\n}\n\nexport function MainContent() {\n  const { closeTransactionHistoryPanel } = useAppContextActions()\n  const {\n    layout: { isTransactionHistoryPanelVisible }\n  } = useAppContextState()\n\n  const [isArbitrumStatsVisible] =\n    useLocalStorage<boolean>(statsLocalStorageKey)\n\n  const {\n    app: { arbTokenBridge }\n  } = useAppState()\n\n  const { l2 } = useNetworksAndSigners()\n\n  const [depositsPageParams, setDepositsPageParams] = useState<PageParams>({\n    searchString: '',\n    pageNumber: 0,\n    pageSize: 10\n  })\n\n  const [withdrawalsPageParams, setWithdrawalsPageParams] =\n    useState<PageParams>({\n      searchString: '',\n      pageNumber: 0,\n      pageSize: 10\n    })\n\n  const pageSize = useMemo(\n    () => (isNetwork(l2.network.id).isOrbitChain ? 5 : 10),\n    [l2.network.id]\n  )\n\n  const {\n    data: depositsData = {\n      deposits: [],\n      pendingDeposits: [],\n      transformedDeposits: []\n    },\n    isValidating: depositsLoading,\n    error: depositsError\n  } = useDeposits({ ...depositsPageParams, pageSize })\n\n  const {\n    data: withdrawalsData = {\n      withdrawals: [],\n      pendingWithdrawals: [],\n      transformedWithdrawals: []\n    },\n    isValidating: withdrawalsLoading,\n    error: withdrawalsError\n  } = useWithdrawals({ ...withdrawalsPageParams, pageSize })\n\n  useEffect(() => {\n    // if pending deposits found, add them in the store - this will add them to pending div + start polling for their status\n    arbTokenBridge?.transactions?.setDepositsInStore?.(\n      depositsData.pendingDeposits\n    )\n  }, [JSON.stringify(depositsData.pendingDeposits)]) // only run side effect on value change, not reference (Call stack exceeded)\n\n  useEffect(() => {\n    // if pending withdrawals found, add them in the store - this will add them to pending div + start polling for their status\n    arbTokenBridge?.setWithdrawalsInStore?.(withdrawalsData.pendingWithdrawals)\n  }, [JSON.stringify(withdrawalsData.pendingWithdrawals)]) // only run side effect on value change, not reference (Call stack exceeded)\n\n  return (\n    <div className=\"flex w-full justify-center\">\n      <div className=\"main-panel w-full max-w-screen-lg flex-col space-y-6\">\n        <div className=\"hidden text-center text-5xl\">Arbitrum Token Bridge</div>\n\n        {/* if the user has some pending claim txns or retryables to redeem, show that banner here */}\n        <TransactionStatusInfo deposits={depositsData.transformedDeposits} />\n\n        <AnimatePresence>\n          <motion.div\n            key=\"transfer-panel\"\n            {...motionDivProps}\n            className=\"relative z-10\"\n          >\n            <TransferPanel />\n          </motion.div>\n        </AnimatePresence>\n      </div>\n      <SidePanel\n        isOpen={isTransactionHistoryPanelVisible}\n        heading=\"Transaction History\"\n        onClose={closeTransactionHistoryPanel}\n      >\n        {/* Transaction history - pending transactions + history table */}\n        <TransactionHistory\n          {...{\n            depositsPageParams: { ...depositsPageParams, pageSize },\n            withdrawalsPageParams: { ...withdrawalsPageParams, pageSize },\n            depositsData,\n            depositsLoading,\n            depositsError,\n            withdrawalsData,\n            withdrawalsLoading,\n            withdrawalsError,\n            setDepositsPageParams,\n            setWithdrawalsPageParams\n          }}\n        />\n      </SidePanel>\n\n      {/* Settings panel */}\n      <SettingsDialog />\n\n      {/* Toggle-able Stats for nerds */}\n      {isArbitrumStatsVisible && <ArbitrumStats />}\n    </div>\n  )\n}\n","import { useEffect } from 'react'\nimport {\n  useArbTokenBridge,\n  TokenBridgeParams\n} from '../../hooks/useArbTokenBridge'\n\nimport { useActions } from '../../state'\n\n// Syncs the arbTokenBridge data with the global store, so we dont have to drill with props but use store hooks to get data\nexport function ArbTokenBridgeStoreSync({\n  tokenBridgeParams\n}: {\n  tokenBridgeParams: TokenBridgeParams\n}): JSX.Element {\n  const actions = useActions()\n  const arbTokenBridge = useArbTokenBridge(tokenBridgeParams)\n\n  useEffect(() => {\n    actions.app.setArbTokenBridge(arbTokenBridge)\n  }, [arbTokenBridge])\n\n  return <></>\n}\n","import { useEffect } from 'react'\nimport { useLatest } from 'react-use'\n\nimport { useAppState } from '../../state'\n\n// Updates all balances periodically\nconst BalanceUpdater = (): JSX.Element => {\n  const {\n    app: { arbTokenBridge, selectedToken }\n  } = useAppState()\n  const latestTokenBridge = useLatest(arbTokenBridge)\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (selectedToken) {\n        latestTokenBridge?.current?.token?.updateTokenData(\n          selectedToken.address\n        )\n      }\n    }, 10000)\n\n    return () => clearInterval(interval)\n  }, [selectedToken])\n\n  return <></>\n}\n\nexport { BalanceUpdater }\n","import { useEffect, useRef } from 'react'\n\n// inspired from https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nexport const useInterval = <T,>(\n  callback: () => T,\n  delay: number\n): { forceTrigger: typeof callback } => {\n  const savedCallback = useRef(callback)\n  const savedTimer = useRef<undefined | NodeJS.Timer>(undefined)\n\n  // Remember the latest callback if it changes.\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  // Set up the interval.\n  useEffect(() => {\n    savedTimer.current = setInterval(() => savedCallback.current(), delay)\n    return () => clearInterval(savedTimer.current!)\n  }, [delay])\n\n  const forceTrigger = () => {\n    clearInterval(savedTimer.current!)\n    // make call then setup the timer again\n    const res = savedCallback.current()\n    savedTimer.current = setInterval(() => savedCallback.current(), delay)\n    return res\n  }\n\n  return { forceTrigger }\n}\n","import { useCallback, useEffect } from 'react'\nimport { TransactionReceipt } from '@ethersproject/providers'\nimport { useAccount } from 'wagmi'\n\nimport { Transaction, txnTypeToLayer } from '../../hooks/useTransactions'\nimport { useActions, useAppState } from '../../state'\nimport { useInterval } from '../common/Hooks'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { useCctpState, useUpdateCctpTransactions } from '../../state/cctpState'\n\nexport function PendingTransactionsUpdater(): JSX.Element {\n  const actions = useActions()\n  const {\n    l1: { provider: l1Provider, network: l1Network },\n    l2: { provider: l2Provider, network: l2Network }\n  } = useNetworksAndSigners()\n  const { updateCctpTransactions } = useUpdateCctpTransactions()\n\n  const {\n    app: { arbTokenBridge, arbTokenBridgeLoaded }\n  } = useAppState()\n  const { address } = useAccount()\n  const { resetTransfers } = useCctpState()\n\n  useEffect(() => {\n    resetTransfers()\n  }, [address, l1Network.id, l2Network.id, resetTransfers])\n\n  const getTransactionReceipt = useCallback(\n    (tx: Transaction) => {\n      const provider = txnTypeToLayer(tx.type) === 2 ? l2Provider : l1Provider\n      return provider.getTransactionReceipt(tx.txID)\n    },\n    [l1Provider, l2Provider]\n  )\n\n  // eslint-disable-next-line consistent-return\n  const checkAndUpdatePendingTransactions = useCallback(() => {\n    if (!arbTokenBridgeLoaded) return\n    updateCctpTransactions()\n    const pendingTransactions = actions.app.getPendingTransactions()\n    if (pendingTransactions.length) {\n      console.info(\n        `Checking and updating ${pendingTransactions.length} pending transactions' statuses`\n      )\n\n      // eslint-disable-next-line consistent-return\n      return Promise.all(\n        pendingTransactions.map((tx: Transaction) => getTransactionReceipt(tx))\n      ).then((txReceipts: (TransactionReceipt | null)[]) => {\n        txReceipts.forEach((txReceipt: TransactionReceipt | null, i) => {\n          if (!txReceipt) {\n            console.info(\n              'Transaction receipt not yet found:',\n              pendingTransactions[i]?.txID\n            )\n          } else {\n            arbTokenBridge?.transactions?.updateTransaction(txReceipt)\n          }\n        })\n      })\n    }\n  }, [getTransactionReceipt, arbTokenBridge, arbTokenBridgeLoaded])\n  const { forceTrigger: forceTriggerUpdate } = useInterval(\n    checkAndUpdatePendingTransactions,\n    4000\n  )\n\n  useEffect(() => {\n    // force trigger update each time loaded change happens\n    forceTriggerUpdate()\n  }, [arbTokenBridgeLoaded])\n\n  return <></>\n}\n","import { useCallback, useEffect } from 'react'\nimport { L1ToL2MessageStatus } from '@arbitrum/sdk'\nimport {\n  EthDepositMessage,\n  L1ToL2MessageReader,\n  L1ToL2MessageReaderClassic\n} from '@arbitrum/sdk/dist/lib/message/L1ToL2Message'\nimport { AssetType } from '../../hooks/arbTokenBridge.types'\nimport { useActions, useAppState } from '../../state'\nimport { useInterval } from '../common/Hooks'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { getL1ToL2MessageDataFromL1TxHash } from '../../util/deposits/helpers'\n\nexport function RetryableTxnsIncluder(): JSX.Element {\n  const actions = useActions()\n  const {\n    l1: { provider: l1Provider },\n    l2: { provider: l2Provider }\n  } = useNetworksAndSigners()\n\n  const {\n    app: { arbTokenBridge, arbTokenBridgeLoaded }\n  } = useAppState()\n\n  const fetchAndUpdateDepositStatus = useCallback(\n    async (depositTxId: string, depositAssetType: AssetType | string) => {\n      const isEthDeposit = depositAssetType === AssetType.ETH\n\n      const { l1ToL2Msg, isClassic } = await getL1ToL2MessageDataFromL1TxHash({\n        depositTxId,\n        isEthDeposit,\n        l1Provider,\n        l2Provider\n      })\n\n      if (!l1ToL2Msg) return\n\n      const status = await l1ToL2Msg?.status()\n\n      // Classic messages\n      if (isClassic) {\n        arbTokenBridge?.transactions?.fetchAndUpdateL1ToL2MsgClassicStatus(\n          depositTxId,\n          l1ToL2Msg as L1ToL2MessageReaderClassic,\n          isEthDeposit,\n          status as L1ToL2MessageStatus\n        )\n        return\n      }\n\n      // Non-classic - Eth deposit\n      if (isEthDeposit) {\n        arbTokenBridge?.transactions?.fetchAndUpdateEthDepositMessageStatus(\n          depositTxId,\n          l1ToL2Msg as EthDepositMessage\n        )\n      } else {\n        // Non-classic - Token deposit\n        arbTokenBridge.transactions?.fetchAndUpdateL1ToL2MsgStatus(\n          depositTxId,\n          l1ToL2Msg as L1ToL2MessageReader,\n          false,\n          status as L1ToL2MessageStatus\n        )\n      }\n    },\n    [l1Provider, l2Provider, arbTokenBridge?.transactions]\n  )\n\n  const checkAndUpdateFailedRetryables = useCallback(async () => {\n    const failedRetryablesToRedeem = actions.app.getFailedRetryablesToRedeem()\n    for (const depositTx of failedRetryablesToRedeem) {\n      const depositTxId = depositTx.txId\n      const depositAssetType = depositTx.asset\n\n      fetchAndUpdateDepositStatus(depositTxId, depositAssetType)\n    }\n  }, [\n    arbTokenBridge?.transactions?.addTransactions,\n    fetchAndUpdateDepositStatus\n  ])\n\n  /**\n   * For every L1 deposit, we ensure the relevant L1ToL2MessageIsIncluded\n   */\n  const checkAndAddMissingL1ToL2Messages = useCallback(async () => {\n    const l1DepositsWithUntrackedL2Messages =\n      actions.app.l1DepositsWithUntrackedL2Messages()\n\n    for (const depositTx of l1DepositsWithUntrackedL2Messages) {\n      const depositTxId = depositTx.txID\n      const depositAssetType = depositTx.assetType\n\n      fetchAndUpdateDepositStatus(depositTxId, depositAssetType)\n    }\n  }, [\n    arbTokenBridge?.transactions?.addTransactions,\n    fetchAndUpdateDepositStatus\n  ])\n\n  const { forceTrigger: forceTriggerUpdate } = useInterval(\n    checkAndAddMissingL1ToL2Messages,\n    5000\n  )\n\n  const { forceTrigger: forceTriggerUpdateFailedRetryables } = useInterval(\n    checkAndUpdateFailedRetryables,\n    10000\n  )\n\n  useEffect(() => {\n    // force trigger update each time loaded change happens\n    forceTriggerUpdate()\n    forceTriggerUpdateFailedRetryables()\n  }, [arbTokenBridgeLoaded])\n\n  return <></>\n}\n","import { useEffect } from 'react'\nimport { useAccount } from 'wagmi'\n\nimport { useAppState } from '../../state'\nimport {\n  addBridgeTokenListToBridge,\n  BRIDGE_TOKEN_LISTS\n} from '../../util/TokenListUtils'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\n\n// Adds whitelisted tokens to the bridge data on app load\n// In the token list we should show later only tokens with positive balances\nconst TokenListSyncer = (): JSX.Element => {\n  const {\n    app: { arbTokenBridge, arbTokenBridgeLoaded }\n  } = useAppState()\n  const { address: walletAddress } = useAccount()\n  const {\n    l2: { network: l2Network }\n  } = useNetworksAndSigners()\n\n  useEffect(() => {\n    if (typeof l2Network === 'undefined') {\n      return\n    }\n\n    if (!arbTokenBridgeLoaded) {\n      return\n    }\n\n    if (!walletAddress) {\n      return\n    }\n\n    const tokenListsToSet = BRIDGE_TOKEN_LISTS.filter(bridgeTokenList => {\n      // Always load the Arbitrum Token token list\n      if (bridgeTokenList.isArbitrumTokenTokenList) {\n        return true\n      }\n\n      return (\n        bridgeTokenList.originChainID === l2Network.id &&\n        bridgeTokenList.isDefault\n      )\n    })\n\n    tokenListsToSet.forEach(bridgeTokenList => {\n      addBridgeTokenListToBridge(bridgeTokenList, arbTokenBridge)\n    })\n  }, [walletAddress, l2Network, arbTokenBridgeLoaded])\n\n  return <></>\n}\n\nexport { TokenListSyncer }\n","import { Loader } from './atoms/Loader'\n\nexport function HeaderNetworkLoadingIndicator() {\n  return (\n    <div className=\"rounded-full p-3 lg:bg-dark lg:p-2\">\n      <Loader color=\"white\" size=\"medium\" />\n    </div>\n  )\n}\n","import { ChevronDownIcon } from '@heroicons/react/24/outline'\nimport { twMerge } from 'tailwind-merge'\nimport Image from 'next/image'\nimport { useNetwork } from 'wagmi'\n\nimport { getNetworkLogo, getNetworkName, isNetwork } from '../../util/networks'\nimport { useAccountType } from '../../hooks/useAccountType'\n\nexport function HeaderNetworkInformation() {\n  const { chain } = useNetwork()\n  const { isSmartContractWallet } = useAccountType()\n\n  if (!chain || chain.unsupported) {\n    return null\n  }\n\n  const networkName = getNetworkName(chain.id)\n\n  return (\n    <div\n      className=\"flex w-max flex-row items-center justify-center space-x-3 rounded-full text-white lg:bg-dark lg:px-4 lg:py-2 \"\n      aria-label={`Selected Network : ${networkName}`}\n    >\n      <div\n        className={twMerge(\n          'flex h-10 w-10 items-center justify-center rounded-full lg:bg-transparent lg:p-0',\n          isNetwork(chain.id).isEthereumMainnetOrTestnet\n            ? 'bg-[rgba(162,170,240,0.5)] p-1'\n            : ''\n        )}\n      >\n        <Image\n          src={getNetworkLogo(chain.id, 'light')}\n          alt={`${networkName} logo`}\n          className=\"h-full w-auto\"\n          width={40}\n          height={40}\n        />\n      </div>\n\n      <span\n        className={twMerge(\n          'max-w-[200px] truncate text-2xl font-medium lg:text-base lg:font-normal',\n          isSmartContractWallet ? 'pr-2' : ''\n        )}\n      >\n        {networkName}\n      </span>\n\n      {!isSmartContractWallet && <ChevronDownIcon className=\"h-4 w-4\" />}\n    </div>\n  )\n}\n","import { useEffect, useMemo, useState } from 'react'\nimport { useCopyToClipboard } from 'react-use'\nimport { Popover } from '@headlessui/react'\nimport {\n  ChevronDownIcon,\n  ArrowTopRightOnSquareIcon,\n  ArrowLeftOnRectangleIcon,\n  DocumentTextIcon,\n  DocumentDuplicateIcon,\n  Cog6ToothIcon\n} from '@heroicons/react/24/outline'\nimport { JsonRpcProvider } from '@ethersproject/providers'\nimport { Resolution } from '@unstoppabledomains/resolution'\nimport BoringAvatar from 'boring-avatars'\nimport {\n  useAccount,\n  useDisconnect,\n  useEnsAvatar,\n  useEnsName,\n  useNetwork,\n  useProvider\n} from 'wagmi'\n\nimport { Transition } from './Transition'\nimport { ExternalLink } from './ExternalLink'\nimport { SafeImage } from './SafeImage'\nimport { getExplorerUrl } from '../../util/networks'\nimport { TransactionHistoryTab, useAppContextActions } from '../App/AppContext'\nimport { trackEvent } from '../../util/AnalyticsUtils'\nimport { shortenAddress } from '../../util/CommonUtils'\nimport { useArbQueryParams } from '../../hooks/useArbQueryParams'\n\ntype UDInfo = { name: string | null }\nconst udInfoDefaults: UDInfo = { name: null }\n\nfunction CustomBoringAvatar({ size, name }: { size: number; name?: string }) {\n  return (\n    <BoringAvatar\n      size={size}\n      name={name?.toLowerCase()}\n      variant=\"beam\"\n      colors={['#11365E', '#EDD75A', '#73B06F', '#0C8F8F', '#405059']}\n    />\n  )\n}\n\nasync function tryLookupUDName(provider: JsonRpcProvider, address: string) {\n  const UDresolution = Resolution.fromEthersProvider({\n    uns: {\n      // TODO => remove Layer2 config when UD lib supports our use case\n      // Layer2 (polygon) is required in the object type but we only want to use Layer1\n      // This is a hack to only support Ethereum Mainnet UD names\n      // https://github.com/unstoppabledomains/resolution/issues/229\n      locations: {\n        Layer1: {\n          network: 'mainnet',\n          provider\n        },\n        Layer2: {\n          network: 'mainnet',\n          provider\n        }\n      }\n    }\n  })\n  try {\n    return await UDresolution.reverse(address)\n  } catch (error) {\n    return null\n  }\n}\n\nexport function HeaderAccountPopover({\n  isCorrectNetworkConnected = true\n}: {\n  isCorrectNetworkConnected?: boolean // is the app connected to a correct network? if no, then show limited options in the menu\n}) {\n  const l1Provider = useProvider({ chainId: 1 })\n  const { address } = useAccount()\n  const { disconnect } = useDisconnect()\n  const { chain } = useNetwork()\n  const [, copyToClipboard] = useCopyToClipboard()\n\n  const { openTransactionHistoryPanel, setTransactionHistoryTab } =\n    useAppContextActions()\n  const [, setQueryParams] = useArbQueryParams()\n\n  const [showCopied, setShowCopied] = useState(false)\n  const [udInfo, setUDInfo] = useState<UDInfo>(udInfoDefaults)\n  const { data: ensName } = useEnsName({\n    address,\n    chainId: 1\n  })\n\n  const { data: ensAvatar } = useEnsAvatar({\n    address,\n    chainId: 1\n  })\n\n  useEffect(() => {\n    if (!address) return\n    async function resolveUdName() {\n      const udName = await tryLookupUDName(\n        l1Provider as JsonRpcProvider,\n        address as string\n      )\n\n      setUDInfo({ name: udName })\n    }\n    resolveUdName()\n  }, [address, l1Provider])\n\n  const accountShort = useMemo(() => {\n    if (typeof address === 'undefined') {\n      return ''\n    }\n\n    return shortenAddress(address)\n  }, [address])\n\n  function copy(value: string) {\n    setShowCopied(true)\n    copyToClipboard(value)\n    setTimeout(() => setShowCopied(false), 1000)\n  }\n\n  function openTransactionHistory() {\n    setTransactionHistoryTab(TransactionHistoryTab.DEPOSITS)\n    openTransactionHistoryPanel()\n    trackEvent('Open Transaction History Click', { pageElement: 'Header' })\n  }\n\n  const headerItemsClassName =\n    'arb-hover flex w-full flex-row items-center space-x-2 px-12 py-2 text-lg lg:text-sm font-light text-white hover:bg-ocl-blue lg:px-4'\n\n  return (\n    <Popover className=\"relative z-50 w-full lg:w-max\">\n      <Popover.Button\n        className=\"arb-hover flex w-full justify-start rounded-full px-6 py-3 lg:w-max lg:p-0\"\n        role=\"button\"\n        aria-label={`Account Header Button`}\n      >\n        <div>\n          <div className=\"flex flex-row items-center space-x-3 rounded-full lg:bg-dark lg:px-4 lg:py-2\">\n            <SafeImage\n              src={ensAvatar || undefined}\n              className=\"h-10 w-10 rounded-full\"\n              fallback={<CustomBoringAvatar size={40} name={address} />}\n            />\n            <span className=\"text-2xl font-medium text-white lg:text-base lg:font-normal\">\n              {ensName ?? udInfo.name ?? accountShort}\n            </span>\n\n            <ChevronDownIcon className=\"h-4 w-4 text-white\" />\n          </div>\n        </div>\n      </Popover.Button>\n\n      <Transition>\n        <Popover.Panel className=\"relative flex flex-col overflow-hidden rounded-md bg-dark pb-2 lg:absolute lg:mt-1 lg:shadow-[0px_4px_20px_rgba(0,0,0,0.2)]\">\n          {/* Profile photo with address */}\n          <div className=\"flex flex-row justify-between\">\n            <Transition show={showCopied}>\n              <span className=\"absolute left-[90px] top-[2rem] z-10 text-xs font-light text-white\">\n                Copied to clipboard!\n              </span>\n            </Transition>\n            <button\n              className=\"relative hidden flex-row items-center px-4 py-2 pt-[1rem] text-gray-5 hover:bg-ocl-blue hover:text-white lg:flex\"\n              onClick={() => copy(ensName ?? udInfo.name ?? address ?? '')}\n            >\n              {/* Blurred background */}\n              <div className=\"absolute inset-0 flex h-[3rem] w-full flex-col items-center overflow-hidden bg-dark text-center\">\n                <div className=\"scale-400 blur-2xl filter\">\n                  <SafeImage\n                    className=\"h-100 w-100 rounded-full\"\n                    src={ensAvatar || undefined}\n                    fallback={<CustomBoringAvatar size={200} name={address} />}\n                  />\n                </div>\n              </div>\n\n              {/* Actual image and account name */}\n              <div className=\"relative z-10 flex flex-row items-center space-x-2\">\n                <div className=\"avatar-container box-content rounded-full border-[4px] border-dark\">\n                  <SafeImage\n                    src={ensAvatar || undefined}\n                    className=\"h-14 w-14 rounded-full\"\n                    fallback={<CustomBoringAvatar size={56} name={address} />}\n                  />\n                </div>\n                <div className=\"flex translate-y-[15px] flex-row items-center space-x-3\">\n                  <span className=\"max-w-[10rem] overflow-hidden text-ellipsis text-sm font-normal\">\n                    {ensName ?? udInfo.name ?? accountShort}\n                  </span>\n                  <DocumentDuplicateIcon className=\"h-4 w-4\" />\n                </div>\n              </div>\n            </button>\n          </div>\n\n          <div className=\"flex w-full flex-col justify-between lg:flex-col lg:items-end lg:px-0\">\n            {/* Transactions button */}\n            {isCorrectNetworkConnected && (\n              <button\n                className={headerItemsClassName}\n                onClick={openTransactionHistory}\n              >\n                <DocumentTextIcon className=\"h-4 w-4 text-white\" />\n                <span>Transactions</span>\n              </button>\n            )}\n\n            {/* Explorer button */}\n            {isCorrectNetworkConnected && chain && (\n              <ExternalLink\n                href={`${getExplorerUrl(chain.id)}/address/${address}`}\n                className={headerItemsClassName}\n              >\n                <ArrowTopRightOnSquareIcon className=\"h-4 w-4 text-white\" />\n                <span>Explorer</span>\n              </ExternalLink>\n            )}\n\n            {/* Settings */}\n            {isCorrectNetworkConnected && (\n              <button\n                className={headerItemsClassName}\n                onClick={() => setQueryParams({ settingsOpen: true })}\n              >\n                <Cog6ToothIcon className=\"h-4 w-4 text-white\" />\n                <span>Settings</span>\n              </button>\n            )}\n\n            {/* Disconnect button */}\n            <button\n              className={headerItemsClassName}\n              onClick={() => disconnect()}\n            >\n              <ArrowLeftOnRectangleIcon className=\"h-4 w-4 text-white\" />\n              <span>Disconnect</span>\n            </button>\n          </div>\n        </Popover.Panel>\n      </Transition>\n    </Popover>\n  )\n}\n","import { Popover, Transition } from '@headlessui/react'\nimport useLocalStorage from '@rehooks/local-storage'\nimport Image from 'next/image'\nimport { useCallback } from 'react'\nimport { useNetwork } from 'wagmi'\nimport { useWindowSize } from 'react-use'\n\nimport {\n  ChainId,\n  getNetworkLogo,\n  getNetworkName,\n  getSupportedNetworks,\n  isNetwork\n} from '../../util/networks'\nimport { useSwitchNetworkWithConfig } from '../../hooks/useSwitchNetworkWithConfig'\nimport { useAccountType } from '../../hooks/useAccountType'\nimport { testnetModeLocalStorageKey } from './SettingsDialog'\n\nexport const NetworkSelectionContainer = ({\n  children\n}: {\n  children: React.ReactNode\n}) => {\n  const { chain } = useNetwork()\n  const { switchNetwork } = useSwitchNetworkWithConfig()\n  const [isTestnetMode] = useLocalStorage<boolean>(testnetModeLocalStorageKey)\n\n  const windowSize = useWindowSize()\n  const isLgScreen = windowSize.width >= 1024\n\n  const supportedNetworks = getSupportedNetworks(\n    chain?.id,\n    !!isTestnetMode\n  ).filter(chainId => chainId !== chain?.id)\n  const { isSmartContractWallet, isLoading: isLoadingAccountType } =\n    useAccountType()\n\n  const l1Networks = supportedNetworks.filter(\n    network => isNetwork(network).isEthereumMainnetOrTestnet\n  )\n  const l2Networks = supportedNetworks.filter(\n    network => isNetwork(network).isArbitrum\n  )\n  const orbitNetworks = supportedNetworks.filter(\n    network => isNetwork(network).isOrbitChain\n  )\n\n  const finalNetworks: { id: string; title: string; networks: number[] }[] = []\n\n  if (l1Networks.length > 0) {\n    finalNetworks.push({ id: 'l1', title: 'L1', networks: l1Networks })\n  }\n  if (l2Networks.length > 0) {\n    finalNetworks.push({ id: 'l2', title: 'L2', networks: l2Networks })\n  }\n  if (orbitNetworks.length > 0) {\n    finalNetworks.push({ id: 'orbit', title: 'Orbit', networks: orbitNetworks })\n  }\n\n  const handleClick = useCallback(\n    (\n      chainId: ChainId,\n      close: (\n        focusableElement?:\n          | HTMLElement\n          | React.MutableRefObject<HTMLElement | null>\n          | undefined\n      ) => void\n    ) => {\n      switchNetwork?.(Number(chainId))\n      close?.() //close the popover after option-click\n    },\n    [switchNetwork]\n  )\n\n  return (\n    <Popover className=\"relative z-50 w-full lg:w-max\">\n      <Popover.Button\n        disabled={isSmartContractWallet || isLoadingAccountType}\n        className=\"arb-hover flex w-full justify-start rounded-full px-6 py-3 lg:w-max lg:p-0\"\n      >\n        {children}\n      </Popover.Button>\n\n      <Transition>\n        <Popover.Panel className=\"relative flex w-full flex-col justify-between rounded-md lg:absolute lg:ml-1 lg:mt-1 lg:w-max lg:-translate-x-12 lg:flex-row lg:gap-3 lg:bg-white lg:p-2 lg:shadow-[0px_4px_20px_rgba(0,0,0,0.2)]\">\n          {({ close }) => (\n            <>\n              {finalNetworks.map(networkType => (\n                <div key={networkType.id} className=\"shrink-0\">\n                  {finalNetworks.length > 1 && (\n                    // don't show the network type header if it's the only column\n                    <div className=\"p-2 px-12 text-xl text-white lg:px-4 lg:text-dark\">\n                      {networkType.title}\n                    </div>\n                  )}\n\n                  {networkType.networks.map(chainId => (\n                    <button\n                      key={chainId}\n                      className=\"flex h-10 cursor-pointer flex-nowrap items-center justify-start space-x-3 px-12 text-lg font-light text-white hover:bg-gray-3 focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-gray-4 lg:px-4 lg:text-base lg:font-normal lg:text-dark\"\n                      onClick={() => {\n                        handleClick(chainId, close)\n                      }}\n                      onKeyDown={e => {\n                        if (e.key === 'Enter' || e.keyCode === 13) {\n                          handleClick(chainId, close)\n                        }\n                      }}\n                      type=\"button\"\n                      aria-label={`Switch to ${getNetworkName(\n                        Number(chainId)\n                      )}`}\n                    >\n                      <div className=\"flex h-6 w-6 items-center justify-center lg:h-6 lg:w-6\">\n                        <Image\n                          src={getNetworkLogo(\n                            Number(chainId),\n                            isLgScreen ? 'dark' : 'light'\n                          )}\n                          alt={`${getNetworkName(Number(chainId))} logo`}\n                          className=\"h-full w-auto\"\n                          width={24}\n                          height={24}\n                        />\n                      </div>\n                      <span className=\"max-w-[140px] truncate\">\n                        {getNetworkName(Number(chainId))}\n                      </span>\n                    </button>\n                  ))}\n                </div>\n              ))}\n            </>\n          )}\n        </Popover.Panel>\n      </Transition>\n    </Popover>\n  )\n}\n","import { PlusCircleIcon } from '@heroicons/react/24/outline'\nimport { ConnectButton } from '@rainbow-me/rainbowkit'\nimport { HeaderAccountPopover } from './HeaderAccountPopover'\nimport { HeaderNetworkInformation } from './HeaderNetworkInformation'\nimport { NetworkSelectionContainer } from './NetworkSelectionContainer'\n\nfunction NetworkButtonAndConnectButton({\n  connected,\n  chainUnsupported,\n  openConnectModal,\n  openChainModal\n}: {\n  connected: boolean\n  chainUnsupported?: boolean\n  openChainModal: () => void\n  openConnectModal: () => void\n}) {\n  if (!connected) {\n    return (\n      <button\n        onClick={openConnectModal}\n        type=\"button\"\n        className=\"arb-hover flex w-full flex-row items-center bg-lime-dark px-6 py-3 text-2xl font-medium text-white lg:rounded-full lg:bg-lime-dark lg:px-4 lg:py-2 lg:text-base lg:font-normal\"\n      >\n        <PlusCircleIcon className=\"mr-3 h-10 w-10 rounded-full bg-white stroke-lime-dark p-1 opacity-40\" />\n        Connect Wallet\n      </button>\n    )\n  }\n\n  if (chainUnsupported) {\n    return (\n      <button\n        onClick={openChainModal}\n        type=\"button\"\n        className=\"arb-hover flex w-full flex-row items-center bg-[#FF494A] bg-lime-dark px-6 py-3 text-2xl font-medium text-white lg:rounded-full lg:px-4 lg:py-2 lg:text-base lg:font-normal\"\n      >\n        Wrong network\n      </button>\n    )\n  }\n\n  return (\n    <div className=\"flex gap-3\">\n      <NetworkSelectionContainer>\n        <HeaderNetworkInformation />\n      </NetworkSelectionContainer>\n      <HeaderAccountPopover />\n    </div>\n  )\n}\n\nfunction HeaderConnectWalletButtonWrapper({\n  children,\n  ready\n}: {\n  children: JSX.Element\n  ready: boolean\n}) {\n  return (\n    <div\n      className={!ready ? 'pointer-events-none select-none opacity-0' : ''}\n      aria-hidden={!ready}\n    >\n      {children}\n    </div>\n  )\n}\n\nexport function HeaderConnectWalletButton() {\n  return (\n    <ConnectButton.Custom>\n      {({ account, chain, openChainModal, openConnectModal, mounted }) => {\n        const connected = !!(mounted && account && chain)\n\n        return (\n          <HeaderConnectWalletButtonWrapper ready={mounted}>\n            <NetworkButtonAndConnectButton\n              connected={connected}\n              chainUnsupported={chain?.unsupported}\n              openChainModal={openChainModal}\n              openConnectModal={openConnectModal}\n            />\n          </HeaderConnectWalletButtonWrapper>\n        )\n      }}\n    </ConnectButton.Custom>\n  )\n}\n","import { InformationCircleIcon } from '@heroicons/react/24/outline'\nimport { twMerge } from 'tailwind-merge'\n\nimport { ExternalLink } from '../common/ExternalLink'\nimport { isNetwork } from '../../util/networks'\nimport { useNetworksAndSigners } from '../../hooks/useNetworksAndSigners'\nimport { DOCS_DOMAIN } from '../../constants'\n\nfunction NotificationContainer({ children }: { children: React.ReactNode }) {\n  return (\n    <div className=\"my-2 flex w-full justify-center bg-black lg:mb-6\">\n      <div className=\"w-full max-w-[1440px] lg:px-8\">\n        <div className=\"flex w-full flex-wrap gap-2\">{children}</div>\n      </div>\n    </div>\n  )\n}\n\nfunction Notification({\n  infoIcon,\n  children,\n  mode = 'dark'\n}: {\n  infoIcon?: boolean\n  mode?: 'light' | 'dark'\n  children: React.ReactNode\n}) {\n  return (\n    <div\n      className={twMerge(\n        'mx-6 flex w-auto gap-2 rounded-md text-sm lg:mx-0',\n        mode === 'light' ? 'text-dark' : 'text-cyan'\n      )}\n    >\n      {infoIcon && (\n        <InformationCircleIcon\n          className=\"inline-block h-5 w-5 text-gray-dark\"\n          aria-hidden=\"true\"\n        />\n      )}\n      {children}\n    </div>\n  )\n}\n\nfunction NitroDevnetNotification() {\n  return (\n    <Notification infoIcon>\n      <ExternalLink\n        href={`${DOCS_DOMAIN}/for-devs/troubleshooting-building#what-is-a-testnet-or-a-devnet`}\n        className=\"arb-hover\"\n      >\n        What is Nitro Testnet?\n      </ExternalLink>\n    </Notification>\n  )\n}\n\nexport function Notifications() {\n  const { l1 } = useNetworksAndSigners()\n  const { isGoerli } = isNetwork(l1.network.id)\n\n  return (\n    <NotificationContainer>\n      {isGoerli && <NitroDevnetNotification />}\n    </NotificationContainer>\n  )\n}\n","import Image from 'next/image'\n\nimport { ChainId, getNetworkLogo, getNetworkName } from '../../util/networks'\nimport { Button } from './Button'\nimport { useSwitchNetworkWithConfig } from '../../hooks/useSwitchNetworkWithConfig'\n\n// info about the logo and the button class of network list\nconst networkButtonsStyles: {\n  [key in ChainId]?: { btnThemeClass: string }\n} = {\n  [ChainId.Ethereum]: {\n    btnThemeClass: 'bg-ocl-blue'\n  },\n  [ChainId.ArbitrumOne]: {\n    btnThemeClass: 'bg-ocl-blue'\n  },\n  [ChainId.ArbitrumNova]: {\n    btnThemeClass: 'bg-brick-dark'\n  }\n}\n\nexport const MainNetworkNotSupported = ({\n  supportedNetworks\n}: {\n  supportedNetworks: ChainId[]\n}) => {\n  const { switchNetwork } = useSwitchNetworkWithConfig()\n\n  return (\n    <div className=\"flex max-w-lg flex-col items-center space-y-8 px-12 py-12 md:items-start md:pl-0 md:pr-24\">\n      <div className=\"flex w-full justify-center\">\n        <span className=\"center py-4 text-3xl font-medium text-white\">\n          Oops! You’re connected to the wrong network\n        </span>\n      </div>\n\n      {supportedNetworks?.map(chainId => (\n        <Button\n          variant=\"primary\"\n          onClick={() => switchNetwork?.(Number(chainId))}\n          key={chainId}\n          textLeft\n          className={`text-md ${\n            networkButtonsStyles?.[Number(chainId) as ChainId]?.[\n              'btnThemeClass'\n            ] ?? ''\n          } w-full min-w-max justify-start px-5 py-2`}\n          aria-label={`Switch to ${getNetworkName(Number(chainId))}`}\n        >\n          <div className=\"flex flex-row items-center justify-center space-x-3\">\n            <div className=\"flex h-8 w-8 items-center justify-center\">\n              <Image\n                src={getNetworkLogo(Number(chainId))}\n                alt={`${getNetworkName(Number(chainId))} logo`}\n                className=\"h-full w-auto\"\n                width={32}\n                height={32}\n              />\n            </div>\n            <span> {`Switch to ${getNetworkName(Number(chainId))}`}</span>\n          </div>\n        </Button>\n      ))}\n    </div>\n  )\n}\n","import {\n  ChevronDownIcon,\n  ExclamationCircleIcon\n} from '@heroicons/react/24/outline'\n\nexport function HeaderNetworkNotSupported() {\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"flex flex-row items-center justify-start space-x-2 rounded-full py-4 text-white lg:justify-center lg:bg-brick-dark lg:px-4\">\n        <ExclamationCircleIcon className=\"h-6 w-6  text-brick lg:text-white\" />\n        <span className=\"text-2xl text-brick lg:text-base\">Wrong network</span>\n        <ChevronDownIcon className=\"h-4 w-4\" />\n      </div>\n      <span className=\"pl-11 text-left text-sm text-brick lg:hidden lg:text-center\">\n        Please change your network in your wallet to either Ethereum or Arbitrum\n      </span>\n    </div>\n  )\n}\n","import { createClient, configureChains, goerli } from 'wagmi'\nimport { mainnet, arbitrum, arbitrumGoerli } from '@wagmi/core/chains'\nimport { publicProvider } from 'wagmi/providers/public'\nimport { connectorsForWallets, getDefaultWallets } from '@rainbow-me/rainbowkit'\nimport { trustWallet } from '@rainbow-me/rainbowkit/wallets'\nimport { infuraProvider } from 'wagmi/providers/infura'\n\nimport {\n  inspace,\n  sepolia,\n  arbitrumNova,\n  arbitrumSepolia,\n  xaiTestnet,\n  stylusTestnet,\n  localL1Network as local,\n  localL2Network as arbitrumLocal,\n  chainToWagmiChain\n} from './wagmiAdditionalNetworks'\nimport { isTestingEnvironment } from '../CommonUtils'\nimport { ChainId } from '../networks'\nimport { getCustomChainsFromLocalStorage } from '../networks'\n\nconst customChains = getCustomChainsFromLocalStorage().map(chain =>\n  chainToWagmiChain(chain)\n)\n\nconst chainList = isTestingEnvironment\n  ? [\n      // mainnet, arb1, & arb nova are for network switch tests\n      mainnet,\n      arbitrum,\n      arbitrumNova,\n      // goerli & arb goerli are for tx history panel tests\n      goerli,\n      arbitrumGoerli,\n      // sepolia\n      sepolia,\n      arbitrumSepolia,\n      // Orbit chains\n      xaiTestnet,\n      stylusTestnet,\n      inspace,\n      // add local environments during testing\n      local,\n      arbitrumLocal,\n      // user-added custom chains\n      ...customChains\n    ]\n  : [\n      mainnet,\n      arbitrum,\n      arbitrumNova,\n      goerli,\n      arbitrumGoerli,\n      sepolia,\n      arbitrumSepolia,\n      xaiTestnet,\n      stylusTestnet,\n      inspace,\n      ...customChains\n    ]\n\nconst projectId = process.env.NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID!\n\nif (!projectId) {\n  console.error('NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID variable missing.')\n}\n\nconst appInfo = {\n  appName: 'Bridge to Arbitrum',\n  projectId\n}\n\nenum TargetChainKey {\n  Ethereum = 'mainnet',\n  ArbitrumOne = 'arbitrum-one',\n  ArbitrumNova = 'arbitrum-nova',\n  Goerli = 'goerli',\n  ArbitrumGoerli = 'arbitrum-goerli',\n  Sepolia = 'sepolia',\n  ArbitrumSepolia = 'arbitrum-sepolia'\n}\n\nfunction sanitizeTargetChainKey(targetChainKey: string | null): TargetChainKey {\n  // Default to Ethereum Mainnet if nothing passed in\n  if (targetChainKey === null) {\n    return TargetChainKey.Ethereum\n  }\n\n  // Default to Ethereum Mainnet if invalid\n  if (!(Object.values(TargetChainKey) as string[]).includes(targetChainKey)) {\n    return TargetChainKey.Ethereum\n  }\n\n  return targetChainKey as TargetChainKey\n}\n\nfunction getChainId(targetChainKey: TargetChainKey): number {\n  switch (targetChainKey) {\n    case TargetChainKey.Ethereum:\n      return ChainId.Ethereum\n\n    case TargetChainKey.ArbitrumOne:\n      return ChainId.ArbitrumOne\n\n    case TargetChainKey.ArbitrumNova:\n      return ChainId.ArbitrumNova\n\n    case TargetChainKey.Goerli:\n      return ChainId.Goerli\n\n    case TargetChainKey.ArbitrumGoerli:\n      return ChainId.ArbitrumGoerli\n\n    case TargetChainKey.Sepolia:\n      return ChainId.Sepolia\n\n    case TargetChainKey.ArbitrumSepolia:\n      return ChainId.ArbitrumSepolia\n  }\n}\n\nfunction getChains(targetChainKey: TargetChainKey) {\n  const targetChainId = getChainId(targetChainKey)\n\n  // Doing `Array.filter` instead of `Array.find` in case it's empty, just in case.\n  const target = chainList.filter(chain => chain.id === targetChainId)\n  const others = chainList.filter(chain => chain.id !== targetChainId)\n\n  return [...target, ...others]\n}\n\nexport function getProps(targetChainKey: string | null) {\n  const { chains, provider } = configureChains(\n    // Wagmi selects the first chain as the one to target in WalletConnect, so it has to be the first in the array.\n    //\n    // https://github.com/wagmi-dev/references/blob/main/packages/connectors/src/walletConnect.ts#L114\n    getChains(sanitizeTargetChainKey(targetChainKey)),\n    [\n      infuraProvider({ apiKey: process.env.NEXT_PUBLIC_INFURA_KEY! }),\n      publicProvider()\n    ]\n  )\n\n  const { wallets } = getDefaultWallets({\n    ...appInfo,\n    chains\n  })\n\n  const connectors = connectorsForWallets([\n    ...wallets,\n    {\n      groupName: 'More',\n      wallets: [trustWallet({ chains, projectId })]\n    }\n  ])\n\n  const client = createClient({\n    autoConnect: true,\n    connectors,\n    provider\n  })\n\n  return {\n    rainbowKitProviderProps: {\n      appInfo,\n      chains\n    },\n    wagmiConfigProps: {\n      client\n    }\n  }\n}\n","import { useMemo } from 'react'\nimport { useAccount, useChainId } from 'wagmi'\nimport useSWRImmutable from 'swr/immutable'\n\nimport { ApiResponseSuccess } from '../pages/api/screenings'\nimport { trackEvent } from '../util/AnalyticsUtils'\nimport { isNetwork } from '../util/networks'\n\nasync function isBlocked(address: `0x${string}`): Promise<boolean> {\n  if (\n    process.env.NODE_ENV !== 'production' ||\n    process.env.NEXT_PUBLIC_IS_E2E_TEST\n  ) {\n    return false\n  }\n\n  const searchParams = new URLSearchParams({ address })\n  const response = await fetch('/api/screenings?' + searchParams, {\n    method: 'GET',\n    headers: { 'Content-Type': 'application/json' }\n  })\n\n  if (!response.ok) {\n    return false\n  }\n\n  return ((await response.json()) as ApiResponseSuccess).blocked\n}\n\nasync function fetcher(address: `0x${string}`): Promise<boolean> {\n  const accountIsBlocked = await isBlocked(address)\n\n  if (accountIsBlocked) {\n    trackEvent('Address Block', { address })\n  }\n\n  return accountIsBlocked\n}\n\nexport function useAccountIsBlocked() {\n  const { address } = useAccount()\n  const chainId = useChainId()\n\n  const queryKey = useMemo(() => {\n    if (typeof address === 'undefined') {\n      // Don't fetch\n      return null\n    }\n\n    if (isNetwork(chainId).isTestnet) {\n      // Don't fetch\n      return null\n    }\n\n    return [address.toLowerCase(), 'useAccountIsBlocked']\n  }, [address, chainId])\n\n  const { data: isBlocked } = useSWRImmutable<boolean>(\n    queryKey,\n    // Extracts the first element of the query key as the fetcher param\n    ([_address]) => fetcher(_address)\n  )\n\n  return { isBlocked }\n}\n","import React, { useCallback, useEffect, useMemo, useState } from 'react'\n\nimport { useAccount, useNetwork, WagmiConfig } from 'wagmi'\nimport { darkTheme, RainbowKitProvider, Theme } from '@rainbow-me/rainbowkit'\nimport merge from 'lodash-es/merge'\nimport axios from 'axios'\nimport { createOvermind, Overmind } from 'overmind'\nimport { Provider } from 'overmind-react'\nimport { useLocalStorage } from 'react-use'\nimport { ConnectionState } from '../../util'\nimport { TokenBridgeParams } from '../../hooks/useArbTokenBridge'\nimport { Loader } from '../common/atoms/Loader'\nimport { WelcomeDialog } from './WelcomeDialog'\nimport { BlockedDialog } from './BlockedDialog'\nimport { AppContextProvider } from './AppContext'\nimport { config, useActions, useAppState } from '../../state'\nimport { Alert } from '../common/Alert'\nimport { MainContent } from '../MainContent/MainContent'\nimport { ArbTokenBridgeStoreSync } from '../syncers/ArbTokenBridgeStoreSync'\nimport { BalanceUpdater } from '../syncers/BalanceUpdater'\nimport { PendingTransactionsUpdater } from '../syncers/PendingTransactionsUpdater'\nimport { RetryableTxnsIncluder } from '../syncers/RetryableTxnsIncluder'\nimport { TokenListSyncer } from '../syncers/TokenListSyncer'\nimport { useDialog } from '../common/Dialog'\nimport {\n  useNetworksAndSigners,\n  UseNetworksAndSignersStatus,\n  NetworksAndSignersProvider,\n  UseNetworksAndSignersConnectedResult,\n  FallbackProps\n} from '../../hooks/useNetworksAndSigners'\nimport {\n  HeaderContent,\n  HeaderOverrides,\n  HeaderOverridesProps\n} from '../common/Header'\nimport { HeaderNetworkLoadingIndicator } from '../common/HeaderNetworkLoadingIndicator'\nimport { HeaderNetworkInformation } from '../common/HeaderNetworkInformation'\nimport { HeaderAccountPopover } from '../common/HeaderAccountPopover'\nimport { HeaderConnectWalletButton } from '../common/HeaderConnectWalletButton'\nimport { Notifications } from '../common/Notifications'\nimport { isNetwork, getSupportedNetworks } from '../../util/networks'\nimport {\n  ArbQueryParamProvider,\n  useArbQueryParams\n} from '../../hooks/useArbQueryParams'\nimport { MainNetworkNotSupported } from '../common/MainNetworkNotSupported'\nimport { HeaderNetworkNotSupported } from '../common/HeaderNetworkNotSupported'\nimport { NetworkSelectionContainer } from '../common/NetworkSelectionContainer'\nimport { GET_HELP_LINK, TOS_LOCALSTORAGE_KEY } from '../../constants'\nimport { AppConnectionFallbackContainer } from './AppConnectionFallbackContainer'\nimport FixingSpaceship from '@/images/arbinaut-fixing-spaceship.webp'\nimport { getProps } from '../../util/wagmi/setup'\nimport { useAccountIsBlocked } from '../../hooks/useAccountIsBlocked'\nimport { useCCTPIsBlocked } from '../../hooks/CCTP/useCCTPIsBlocked'\nimport { useNativeCurrency } from '../../hooks/useNativeCurrency'\n\ndeclare global {\n  interface Window {\n    Cypress?: any\n  }\n}\n\nconst rainbowkitTheme = merge(darkTheme(), {\n  colors: {\n    accentColor: 'var(--blue-link)'\n  },\n  fonts: {\n    body: \"'Space Grotesk', sans-serif\"\n  }\n} as Theme)\n\nconst AppContent = (): JSX.Element => {\n  const { chain } = useNetwork()\n  const {\n    app: { connectionState }\n  } = useAppState()\n\n  const headerOverridesProps: HeaderOverridesProps = useMemo(() => {\n    const { isTestnet, isGoerli } = isNetwork(chain?.id ?? 0)\n    const className = isTestnet ? 'lg:bg-ocl-blue' : 'lg:bg-black'\n\n    if (isGoerli) {\n      return { imageSrc: 'images/HeaderArbitrumLogoGoerli.webp', className }\n    }\n\n    return { imageSrc: 'images/HeaderArbitrumLogoMainnet.svg', className }\n  }, [chain])\n\n  if (connectionState === ConnectionState.SEQUENCER_UPDATE) {\n    return (\n      <Alert type=\"red\">\n        Note: The Arbitrum Sequencer Will be offline today 3pm-5pm EST for\n        maintenance. Thanks for your patience!\n      </Alert>\n    )\n  }\n\n  if (connectionState === ConnectionState.NETWORK_ERROR) {\n    return (\n      <Alert type=\"red\">\n        Error: unable to connect to network. Try again soon and contact{' '}\n        <a rel=\"noreferrer\" target=\"_blank\" href={GET_HELP_LINK}>\n          <u>support</u>\n        </a>{' '}\n        if problem persists.\n      </Alert>\n    )\n  }\n\n  return (\n    <>\n      <HeaderOverrides {...headerOverridesProps} />\n\n      <HeaderContent>\n        <NetworkSelectionContainer>\n          <HeaderNetworkInformation />\n        </NetworkSelectionContainer>\n\n        <HeaderAccountPopover />\n      </HeaderContent>\n\n      <PendingTransactionsUpdater />\n      <RetryableTxnsIncluder />\n\n      <TokenListSyncer />\n      <BalanceUpdater />\n      <Notifications />\n      <MainContent />\n    </>\n  )\n}\n\nconst Injector = ({ children }: { children: React.ReactNode }): JSX.Element => {\n  const actions = useActions()\n  const { app } = useAppState()\n  const { selectedToken } = app\n  const { chain } = useNetwork()\n  const { address, isConnected } = useAccount()\n  const { isBlocked } = useAccountIsBlocked()\n  const networksAndSigners = useNetworksAndSigners()\n  const { l2 } = networksAndSigners\n  const nativeCurrency = useNativeCurrency({ provider: l2.provider })\n\n  // We want to be sure this fetch is completed by the time we open the USDC modals\n  useCCTPIsBlocked()\n\n  const [tokenBridgeParams, setTokenBridgeParams] =\n    useState<TokenBridgeParams | null>(null)\n\n  const initBridge = useCallback(\n    async (params: UseNetworksAndSignersConnectedResult) => {\n      const { l1, l2 } = params\n\n      if (!address) {\n        return\n      }\n\n      setTokenBridgeParams({\n        l1: {\n          network: l1.network,\n          provider: l1.provider\n        },\n        l2: {\n          network: l2.network,\n          provider: l2.provider\n        }\n      })\n    },\n    [address]\n  )\n\n  useEffect(() => {\n    if (!nativeCurrency.isCustom) {\n      return\n    }\n\n    const selectedTokenAddress = selectedToken?.address.toLowerCase()\n    const selectedTokenL2Address = selectedToken?.l2Address?.toLowerCase()\n    // This handles a super weird edge case where, for example:\n    //\n    // Your setup is: from Arbitrum Goerli to Goerli, and you have $ARB selected as the token you want to bridge over.\n    // You then switch your destination network to a network that has $ARB as its native currency.\n    // For this network, $ARB can only be bridged as the native currency, and not as a standard ERC-20, which is why we have to reset the selected token.\n    if (\n      selectedTokenAddress === nativeCurrency.address ||\n      selectedTokenL2Address === nativeCurrency.address\n    ) {\n      actions.app.setSelectedToken(null)\n    }\n  }, [selectedToken, nativeCurrency])\n\n  // Listen for account and network changes\n  useEffect(() => {\n    // Any time one of those changes\n    setTokenBridgeParams(null)\n    actions.app.setConnectionState(ConnectionState.LOADING)\n\n    if (!isConnected || !chain) {\n      return\n    }\n\n    const { l1, l2 } = networksAndSigners\n    const isConnectedToArbitrum = isNetwork(chain.id).isArbitrum\n    const isConnectedToOrbitChain = isNetwork(chain.id).isOrbitChain\n\n    const l1NetworkChainId = l1.network.id\n    const l2NetworkChainId = l2.network.id\n\n    const isParentChainEthereum =\n      isNetwork(l1NetworkChainId).isEthereumMainnetOrTestnet\n\n    actions.app.reset(chain.id)\n    actions.app.setChainIds({ l1NetworkChainId, l2NetworkChainId })\n\n    if (\n      (isParentChainEthereum && isConnectedToArbitrum) ||\n      isConnectedToOrbitChain\n    ) {\n      console.info('Withdrawal mode detected:')\n      actions.app.setIsDepositMode(false)\n      actions.app.setConnectionState(ConnectionState.L2_CONNECTED)\n    } else {\n      console.info('Deposit mode detected:')\n      actions.app.setIsDepositMode(true)\n      actions.app.setConnectionState(ConnectionState.L1_CONNECTED)\n    }\n\n    initBridge(networksAndSigners)\n  }, [networksAndSigners, chain, isConnected, initBridge, address])\n\n  useEffect(() => {\n    axios\n      .get(\n        'https://raw.githubusercontent.com/OffchainLabs/arb-token-lists/aff40a59608678cfd9b034dd198011c90b65b8b6/src/WarningList/warningTokens.json'\n      )\n      .then(res => {\n        actions.app.setWarningTokens(res.data)\n      })\n      .catch(err => {\n        console.warn('Failed to fetch warning tokens:', err)\n      })\n  }, [])\n\n  if (address && isBlocked) {\n    return (\n      <BlockedDialog\n        address={address}\n        isOpen={true}\n        // ignoring until we use the package\n        // https://github.com/OffchainLabs/config-monorepo/pull/11\n        //\n        // eslint-disable-next-line\n        onClose={() => {}}\n      />\n    )\n  }\n\n  return (\n    <>\n      {tokenBridgeParams && (\n        <ArbTokenBridgeStoreSync tokenBridgeParams={tokenBridgeParams} />\n      )}\n      {children}\n    </>\n  )\n}\n\nfunction NetworkReady({ children }: { children: React.ReactNode }) {\n  const [{ l2ChainId }] = useArbQueryParams()\n  return (\n    <NetworksAndSignersProvider\n      selectedL2ChainId={l2ChainId || undefined}\n      fallback={fallbackProps => <ConnectionFallback {...fallbackProps} />}\n    >\n      {children}\n    </NetworksAndSignersProvider>\n  )\n}\n\nfunction ConnectionFallback(props: FallbackProps): JSX.Element {\n  const { chain } = useNetwork()\n\n  switch (props.status) {\n    case UseNetworksAndSignersStatus.LOADING:\n      return (\n        <>\n          <HeaderContent>\n            <HeaderNetworkLoadingIndicator />\n          </HeaderContent>\n\n          <AppConnectionFallbackContainer>\n            <div className=\"fixed inset-0 m-auto h-[44px] w-[44px]\">\n              <Loader color=\"white\" size=\"large\" />\n            </div>\n          </AppConnectionFallbackContainer>\n        </>\n      )\n\n    case UseNetworksAndSignersStatus.NOT_CONNECTED:\n      return (\n        <>\n          <HeaderContent>\n            <HeaderConnectWalletButton />\n          </HeaderContent>\n\n          <AppConnectionFallbackContainer>\n            <span className=\"text-white\">\n              Please connect your wallet to use the bridge.\n            </span>\n          </AppConnectionFallbackContainer>\n        </>\n      )\n\n    case UseNetworksAndSignersStatus.NOT_SUPPORTED:\n      const supportedNetworks = getSupportedNetworks(chain?.id)\n\n      return (\n        <>\n          <HeaderContent>\n            <NetworkSelectionContainer>\n              <HeaderNetworkNotSupported />\n            </NetworkSelectionContainer>\n\n            <HeaderAccountPopover isCorrectNetworkConnected={false} />\n          </HeaderContent>\n\n          <AppConnectionFallbackContainer\n            layout=\"row\"\n            imgProps={{\n              className: 'sm:w-[300px]',\n              src: FixingSpaceship,\n              alt: 'Arbinaut fixing a spaceship'\n            }}\n          >\n            <MainNetworkNotSupported supportedNetworks={supportedNetworks} />\n          </AppConnectionFallbackContainer>\n        </>\n      )\n  }\n}\n\n// We're doing this as a workaround so users can select their preferred chain on WalletConnect.\n//\n// https://github.com/orgs/WalletConnect/discussions/2733\n// https://github.com/wagmi-dev/references/blob/main/packages/connectors/src/walletConnect.ts#L114\nconst searchParams = new URLSearchParams(window.location.search)\nconst targetChainKey = searchParams.get('walletConnectChain')\n\nconst { wagmiConfigProps, rainbowKitProviderProps } = getProps(targetChainKey)\n\n// Clear cache for everything related to WalletConnect v2.\n//\n// TODO: Remove this once the fix for the infinite loop / memory leak is identified.\nObject.keys(localStorage).forEach(key => {\n  if (key === 'wagmi.requestedChains' || key.startsWith('wc@2')) {\n    localStorage.removeItem(key)\n  }\n})\n\nexport default function App() {\n  const [overmind] = useState<Overmind<typeof config>>(createOvermind(config))\n\n  const [tosAccepted, setTosAccepted] =\n    useLocalStorage<string>(TOS_LOCALSTORAGE_KEY)\n  const [welcomeDialogProps, openWelcomeDialog] = useDialog()\n\n  const isTosAccepted = tosAccepted !== undefined\n\n  useEffect(() => {\n    if (!isTosAccepted) {\n      openWelcomeDialog()\n    }\n  }, [isTosAccepted, openWelcomeDialog])\n\n  function onClose(confirmed: boolean) {\n    // Only close after confirming (agreeing to terms)\n    if (confirmed) {\n      setTosAccepted('true')\n      welcomeDialogProps.onClose(confirmed)\n    }\n  }\n\n  return (\n    <Provider value={overmind}>\n      <ArbQueryParamProvider>\n        <WagmiConfig {...wagmiConfigProps}>\n          <RainbowKitProvider\n            theme={rainbowkitTheme}\n            {...rainbowKitProviderProps}\n          >\n            <WelcomeDialog {...welcomeDialogProps} onClose={onClose} />\n            <NetworkReady>\n              <AppContextProvider>\n                <Injector>{isTosAccepted && <AppContent />}</Injector>\n              </AppContextProvider>\n            </NetworkReady>\n          </RainbowKitProvider>\n        </WagmiConfig>\n      </ArbQueryParamProvider>\n    </Provider>\n  )\n}\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"names":["__webpack_exports__","Z","TransactionHistoryTab","AssetType","NodeBlockDeadlineStatusTypes","UseNetworksAndSignersStatus","WhiteListState","DepositStatus","ImportStatus","MaximumFractionDigits","ChainDomain","FastBridgeNames","DestinationAddressErrors","Panel","TransferReadinessRichErrorMessage","NetworkType","ImportTokenModalStatus","TableStatus","TargetChainKey","global","Button","forwardRef","param","ref","variant","loading","loadingProps","disabled","className","customClassName","children","props","jsx_runtime","jsx","button","type","twMerge","getClassNameForVariant","jsxs","div","concat","textLeft","showLoader","Loader","color","loaderColor","size","loaderSize","span","displayName","useDialog","params","resolveRef","useRef","isOpen","setIsOpen","useState","defaultIsOpen","didOpen","setDidOpen","openDialog","useCallback","Promise","resolve","current","closeDialog","confirmed","onCloseData","onClose","Dialog","isCustom","closeable","cancelButtonRef","Transition","appear","show","as","Fragment","getTransitionProps","HeadlessUIDialog","static","open","initialFocus","Title","title","onClick","XMarkIcon","aria-label","cancelButtonProps","actionButtonProps","actionButtonTitle","WelcomeDialog","confirmButtonRef","openConnectModal","useConnectModal","Image","src","alt","width","height","p","ExternalLink","href","error","errorToast","Sentry","BlockedDialog","ExclamationCircleIcon","address","toLowerCase","GET_HELP_LINK","initialState","layout","isTransferPanelVisible","isTransferring","isTransactionHistoryPanelVisible","isTransactionHistoryShowingCctpDeposits","transactionHistorySelectedTab","AppContext","createContext","reducer","state","action","payload","AppContextProvider","dispatch","useReducer","Provider","value","useAppContextState","useContext","useAppContextActions","dispatchContext","dispatchOverride","showCctpDepositsTransactions","showCctpWithdrawalsTransactions","setTransactionHistoryTab","setTransferring","openTransactionHistoryPanel","closeTransactionHistoryPanel","TokenType","deprecatedTxTypes","Set","txnTypeToLayer","txnType","updateStatus","status","txID","newState","index","findIndex","txn","transaction","console","warn","localStorageReducer","transactions","currentTxIds","map","tx","txsToAdd","filter","has","updateBlockNumber","blockNumber","updateResolvedTimestamp","timestamp","timestampResolved","updateTxnL1ToL2Msg","l1ToL2MsgData","previousL1ToL2MsgData","retryableCreationTxID","fetchingUpdate","stateForCache","window","localStorage","setItem","JSON","stringify","hooks_useTransactions","useEffect","cachedTransactions","getItem","parse","updateTxnL1ToL2MsgData","fetchAndUpdateEthDepositMessageStatus","ethDepositMessage","L1ToL2MessageStatus","NOT_YET_CREATED","l2DepositTxHash","isDeposited","EthDepositStatus","DEPOSITED","FUNDS_DEPOSITED_ON_L2","l2TxID","undefined","fetchAndUpdateL1ToL2MsgStatus","l1ToL2Msg","isEthDeposit","currentStatus","retryableCreationId","res","getSuccessfulRedeem","REDEEMED","l2TxReceipt","transactionHash","fetchAndUpdateL1ToL2MsgClassicStatus","isCompletedEthDeposit","l2TxHash","setTransactionSuccess","setTransactionBlock","setResolvedTimestamp","setTransactionFailure","useMemo","addTransaction","timestampCreated","Date","toISOString","addTransactions","timestampedTransactions","setDepositsInStore","transactionsMap","newTransactions","forEach","Object","values","clearPendingTransactions","setTransactionConfirmed","updateTransaction","txReceipt","log","removeTransaction","addFailedTransaction","useChainId","provider","chainId","setChainId","cancelled","updateChainId","network","getNetwork","merge","key","fetcher","config","cache","useSWRConfig","extendedFetcher","newBalances","oldData","get","unstable_serialize","data","useSWRNext","useBalance","walletAddress","walletAddressLowercased","queryKey","fetchErc20","_addresses","length","multiCaller","MultiCaller","fromProvider","addressesBalances","getTokenData","balanceOf","account","reduce","acc","balance","scope","setExtra","dataEth","mutate","updateEthBalance","useSWR","_walletAddress","getBalance","refreshInterval","shouldRetryOnError","errorRetryCount","errorRetryInterval","dataErc20","mutateErc20","use","updateErc20","addresses","balances","populateCache","result","currentData","revalidate","eth","erc20","CommonAddress","Ethereum","USDC","tokenMessengerContractAddress","ArbitrumOne","Goerli","ArbitrumGoerli","erc20DataCacheLocalStorageKey","getErc20DataCacheKey","getErc20DataCache","fetchErc20Data","cachedErc20Data","tokenData","name","symbol","decimals","erc20Data","getDefaultTokenName","lowercased","substring","getDefaultTokenSymbol","setErc20DataCache","e","isValidErc20","ERC20__factory","connect","all","totalSupply","err","fetchErc20Allowance","owner","spender","allowance","constants","getL1ERC20Address","erc20L2Address","l2Provider","erc20Bridger","Erc20Bridger","fetchErc20L1GatewayAddress","erc20L1Address","l1Provider","getL1GatewayAddress","fetchErc20L2GatewayAddress","getL2GatewayAddress","getL2ERC20Address","l1TokenIsDisabled","isTokenMainnetUSDC","tokenAddress","isTokenGoerliUSDC","isTokenArbitrumOneNativeUSDC","isTokenArbitrumGoerliNativeUSDC","isTokenUSDC","sanitizeTokenSymbol","tokenSymbol","options","isArbitrumOne","isArbitrumGoerli","isNetwork","chain","id","erc20DataToErc20BridgeToken","ERC20","listIds","ArbOneNativeUSDC","logoURI","L2NativeTokens","ChainId","ArbitrumNova","useIsConnectedToOrbitChain","useNetwork","isOrbitChain","useIsConnectedToArbitrum","isArbitrum","chainToWagmiChain","chainID","split","join","nativeCurrency","nativeTokenData","ether","rpcUrls","default","http","rpcUrl","public","sepolia","sepoliaDefault","rpcURLs","Sepolia","arbitrumSepolia","ArbitrumSepolia","blockExplorers","etherscan","url","explorerUrls","arbitrumNova","xaiTestnet","XaiTestnet","inspace","Inspace","stylusTestnet","StylusTestnet","localL1Network","Local","localL2Network","ArbitrumLocal","getWagmiChain","customChain","getCustomChainFromLocalStorageById","mainnet","arbitrum","goerli","arbitrumGoerli","chainQueryParams","isValidChainQueryParam","includes","supportedNetworkIds","getSupportedNetworks","AmountQueryParamEnum","useArbQueryParams","useQueryParams","sourceChain","ChainParam","destinationChain","amount","withDefault","AmountQueryParam","l2ChainId","NumberParam","token","StringParam","settingsOpen","BooleanParam","isMax","sanitizeAmountQueryParam","parsedAmount","replace","startsWith","isNaN","Number","String","Math","abs","encode","decode","amountStr","toString","getChainQueryParamForChain","customChains","getCustomChainsFromLocalStorage","find","valueString","decodeString","valueNumber","decodeNumber","getChainForChainKeyQueryParam","chainKeyQueryParam","chains","ArbQueryParamProvider","QueryParamProvider","adapter","NextAdapter","searchStringToObject","queryString","objectToSearchString","updateType","removeDefaultsFromUrl","AnalyticsNetworkNames","shouldTrackAnalytics","networkName","trackEvent","event","properties","posthog","capture","defaultStatus","ethereum","NetworksAndSignersContext","useNetworksAndSigners","context","getBaseUrl","urlObject","URL","protocol","hostname","NetworksAndSignersProvider","selectedL2ChainId","connector","isDisconnected","isConnected","useAccount","useProvider","setResult","tosAccepted","useLocalStorage","TOS_LOCALSTORAGE_KEY","isConnectedToArbitrum","isConnectedToOrbitChain","isTosAccepted","setQueryParams","walletName","getWalletName","connectorName","l1","l2","invocationCounter","update","thisInvocation","providerChainId","chainNotSupported","chainIdToDefaultL2ChainId","isSelectedL2ChainArbitrum","_selectedL2ChainId","providerSupportedL2","getParentChain","then","parentChain","isParentChainArbitrum","chainProvider","StaticJsonRpcProvider","getChain","partnerChainID","parentProvider","catch","getNetworkName","parentChainId","fallbackProps","fallback","useUpdateUSDCBalances","updateErc20L1Balance","updateErc20L2Balance","updateUSDCBalances","l1Address","getL1AddressFromAddress","nativeCurrencyEther","logoUrl","useNativeCurrency","useSWRImmutable","_provider","fetchNativeCurrency","ethBridger","EthBridger","nativeToken","parentChainProvider","getExecutedMessagesCacheKey","isClassicL2ToL1TransactionEvent","batchNumber","indexInBatch","position","getUniqueIdOrHashFromEvent","hash","anyEvent","uniqueId","TokenDisabledError","Error","constructor","msg","percentIncrease","num","increase","add","mul","useArbTokenBridge","bridgeTokens","setBridgeTokens","updateEthL1Balance","updateEthL2Balance","executedMessagesCache","setExecutedMessagesCache","pendingWithdrawalsMap","setPendingWithdrawalMap","l1NetworkID","l2NetworkID","useTransactions","depositEth","l1Signer","txLifecycle","depositRequest","getDepositRequest","from","gasLimit","estimateGas","txRequest","deposit","overrides","BigNumber","onTxSubmit","onTxError","message","utils","assetName","assetType","ETH","sender","destination","receipt","wait","onTxConfirm","getEthDeposits","updateEthBalances","withdrawEth","l2Signer","withdraw","destinationAddress","l2ToL1Events","getL2ToL1Events","l2ToL1EventResult","outgoingMessageState","OutgoingMessageState","UNCONFIRMED","l2ToL1EventResultPlus","nodeBlockDeadline","NODE_NOT_CREATED","oldPendingWithdrawalsMap","approveToken","updateTokenData","approveTokenL2","bridgeToken","l2Address","gatewayAddress","contract","functions","approve","MaxUint256","depositToken","getL1ToL2Messages","withdrawToken","isSmartContractAddress","getCode","addToken","erc20l1Address","l2ToL1EventDataResult","l2ToL1EventDataResultPlus","addTokensFromList","arbTokenList","listId","l1ChainID","l2ChainID","bridgeTokensToAdd","candidateUnbridgedTokensToAdd","tokens","extensions","bridgeInfo","isExtensions","obj","keys","every","push","l1AddressesOfBridgedTokens","l1TokenData","oldBridgeTokens","l1Addresses","l2Addresses","tokenToAdd","oldListIds","erc20L1orL2Address","lowercasedErc20L1orL2Address","maybeL1Address","erc20Params","isDisabled","l1AddressLowerCased","newBridgeTokens","addToExecutedMessagesCache","events","added","cacheKey","triggerOutbox","messageWriter","L2ToL1Message","fromEvent","execute","l2ToL1MsgData","rec","newPendingWithdrawalsMap","pendingWithdrawal","EXECUTED","addL2NativeToken","getL2NativeToken","isL2Native","removeTokensFromList","prevBridgeTokens","delete","listID","approveL2","setWithdrawalsInStore","pwMap","withdrawalTxns","previousPendingWithdrawalsMap","outgoingStateToString","CONFIRMED","getDepositStatus","L1_FAILURE","L1_PENDING","L2_PENDING","CREATION_FAILED","EXPIRED","L2_SUCCESS","L2_FAILURE","transformDeposit","direction","createdAt","getStandardizedTimestamp","resolvedAt","txId","asset","isWithdrawal","blockNum","depositStatus","transformWithdrawal","uniqueIdOrHash","EXECUTE_CALL_EXCEPTION","toNumber","ethers","ethBlockNum","filterTransactions","l1ChainId","txSender","txL1NetworkID","txL2NetworkID","isSenderWallet","matchesL1","matchesL2","isTokenDeposit","isDeposit","isPending","isCctp","isFailed","isCustomDestinationAddressTx","isWithdrawalReadyToClaim","isDepositReadyToRedeem","dateString","dayjs","format","getStandardizedTime","standatdisedTimestamp","getStandardizedDate","findMatchingL1TxForWithdrawal","outboxTransactions","_tx","withdrawalTxn","txUniqueId","_txUniqueId","eq","defaultState","arbTokenBridge","warningTokens","connectionState","ConnectionState","LOADING","l1NetworkChainId","l2NetworkChainId","verifying","selectedToken","isDepositMode","sortedTransactions","derived","s","getAccount","pendingTransactions","l1DepositsWithUntrackedL2Messages","failedRetryablesToRedeem","depositsTransformed","withdrawalsTransformed","withdrawals","mergedTransactions","_reverse","_sortBy","item","_isEmpty","unix","arbTokenBridgeLoaded","setConnectionState","app","setChainIds","setIsDepositMode","setSelectedToken","reset","newChainId","ALLOWED","setWarningTokens","setWhitelistState","setArbTokenBridgeLoaded","loaded","setArbTokenBridge","atb","actions","getPendingTransactions","getSortedTransactions","getFailedRetryablesToRedeem","namespaced","useAppState","createStateHook","useActions","createActionsHook","createEffectsHook","Alert","XCircleIcon","aria-hidden","InformationCircleIcon","ExclamationTriangleIcon","CheckCircleIcon","CreditCardIcon","h3","TokenDepositCheckDialog","textContent","br","ul","li","a","DOCS_DOMAIN","target","rel","u","b","ol","useERC20L1Address","eitherL1OrL2Address","isValidating","_ref","isLoading","SafeImage","imgProps","validImageSrc","setValidImageSrc","image","sanitizedImageSrc","sanitizeImageSrc","onerror","onload","img","grumpy_cat","uniswap","gemini","cmc","BRIDGE_TOKEN_LISTS","originChainID","isDefault","isArbitrumTokenTokenList","UniswapLogo","GeminiLogo","CMCLogo","listIdsToNames","bridgeTokenList","validateTokenList","ajv","Ajv","addFormats","validate","compile","schema","tokenList","addBridgeTokenListToBridge","fetchTokenListFromURL","isValid","tokenListURL","axios","headers","useTokenLists","forL2ChainId","_forL2ChainId","requestListArray","responses","tokenListsWithBridgeTokenListId","bridgeTokenListId","list","useTokensFromLists","l1Network","l2Network","tokenLists","stringifiedChainId","accAddress","l1Bridge","addressOnL1","useTokensFromUser","storage","_address","TokenImportDialog","tokensFromUser","latestTokensFromUser","useLatest","tokensFromLists","latestTokensFromLists","latestBridgeTokens","setStatus","isImportingToken","setIsImportingToken","tokenToImport","setTokenToImport","isL1AddressLoading","modalTitle","style","getL1TokenDataFromL1Address","searchForTokenInLists","currentBridgeTokens","found","l1Token","selectToken","_token","storeNewToken","newToken","ex","warningToast","searchResult1","foundToken","GrumpyCat","getExplorerUrl","Tippy","theme","content","Checkbox","Switch","Group","checked","CheckIcon","Label","label","useETHPrice","usd","ethToUSD","safeETHPrice","etherValue","ethPrice","formatUSD","formattedValue","toLocaleString","minimumFractionDigits","isInteger","maximumFractionDigits","formatNumber","number","Intl","NumberFormat","formatAmount","isBigNumber","parseFloat","suffix","isShortSymbol","minDisplayValue","pow","repeat","notation","useGasPrice","gasPrice","getGasPrice","MessageTransmitterAbi","inputs","internalType","stateMutability","anonymous","indexed","outputs","TokenMessengerAbi","contracts","targetChainDomain","targetChainId","usdcContractAddress","messageTransmitterContractAddress","attestationApiUrl","tokenMinterContractAddress","getContracts","useCCTP","sourceChainId","depositForBurn","signer","recipient","mintRecipient","prepareWriteContract","abi","functionName","args","writeContract","fetchAttestation","attestationHash","response","fetch","method","accept","attestationResponse","json","waitForAttestation","attestation","r","setTimeout","receiveMessage","messageBytes","approveForBurn","approveTokenEstimateGas","l1GatewayAddress","approveCctpEstimateGas","getChainLayerByChainId","isEthereumMainnetOrTestnet","useChainLayers","parentLayer","layer","shortenAddress","addressLength","shortenTxHash","txHash","txHashLength","isTestingEnvironment","Cypress","createBlockExplorerUrlForToken","explorerLink","pathname","TokenApprovalDialog","allowanceParsed","isEthereumMainnet","isTestnet","useSigner","setChecked","estimatedGas","setEstimatedGas","contractAddress","setContractAddress","estimatedGasFees","approvalFeeText","getEstimatedGas","gasEstimate","getContractAddress","displayAllowanceWarning","isZero","noteMessage","stopPropagation","onChange","TOKEN_APPROVAL_ARTICLE_LINK","TabButton","Tab","BridgesTable","favorites","setFavorites","bridgeName","selectedNonCanonicalToken","bridge","isFavorite","sortedFastBridges","bridgeList","sort","isFavoriteA","isFavoriteB","table","thead","tr","th","tbody","td","preventDefault","favorite","StarIconSolid","StarIconOutline","imageSrc","ArrowTopRightOnSquareIcon","hop","celer","connext","across","stargate","synapse","getFastBridges","to","chainIdToSlug","getBridgeDeepLink","Hop","Celer","Connext","Across","Stargate","Synapse","fastBridgeName","SpecialTokenSymbol","NonCanonicalTokenNames","NonCanonicalTokenAddresses","NonCanonicalTokensBridgeInfo","supportedBridges","learnMoreUrl","bridgeUrl","USDC_LEARN_MORE_LINK","USDCFastBridges","getHref","transferMode","fromTokenAddress","toTokenAddress","WithdrawalConfirmationDialog","fastBridges","checkbox1Checked","setCheckbox1Checked","checkbox2Checked","setCheckbox2Checked","confirmationSeconds","getBlockTime","getConfirmPeriodBlocks","confirmationDays","ceil","confirmationPeriod","confirmationHours","closeWithReset","List","CONFIRMATION_PERIOD_ARTICLE_LINK","getCalendarUrl","withdrawalDate","parsedWithdrawalDate","DepositConfirmationDialog","Tooltip","wrapperClassName","useDebouncedValue","delay","debouncedValue","setDebouncedValue","handler","clearTimeout","fetchFallbackGasEstimates","inboxAddress","l1BaseFee","inbox","Inbox__factory","estimatedL2SubmissionCost","calculateRetryableSubmissionFee","estimatedL1Gas","estimatedL2Gas","allowanceIsInsufficient","l1Gateway","allowanceForL1Gateway","lt","depositTokenEstimateGas","ethBridge","retryableData","retryableGasOverrides","maxSubmissionCost","fetchFallbackGasEstimatesForOrbitChainWithCustomFeeToken","customFeeTokenAllowanceIsInsufficient","customFeeTokenAllowanceForInbox","depositEthEstimateGas","customFeeToken","withdrawTokenEstimateGas","withdrawalRequest","getWithdrawalRequest","nodeInterface","NodeInterface__factory","NODE_INTERFACE_ADDRESS","gasComponents","callStatic","gasEstimateComponents","gasEstimateForL1","estimatedTotalGas","sub","withdrawEthEstimateGas","depositGasFeeTooltip","l1NetworkName","l2NetworkName","depositToOrbit","L1","L2","Orbit","TransferPanelSummaryContainer","TransferPanelSummary","gasSummary","estimatedL1GasFees","estimatedL2GasFees","parentChainNativeCurrency","layerGasFeeTooltipContent","isDepositToOrbitChain","isBridgingETH","showPrice","showBreakdown","sameNativeCurrency","estimatedTotalGasFees","bgClassName","addressIsSmartContract","_","addressIsDenylisted","denylistResponse","getAPIBaseUrl","useAccountType","isSmartContractWallet","isEOA","DestinationAddressWarnings","useDestinationAddressStore","create","set","setError","setDestinationAddress","getDestinationAddressError","isAddress","getDestinationAddressWarning","destinationProvider","destinationIsSmartContract","AdvancedSettings","collapsed","setCollapsed","inputLocked","setInputLocked","warning","setWarning","updateError","isSubscribed","updateWarning","collapsible","ChevronDownIcon","strokeWidth","input","placeholder","spellCheck","trim","LockClosedIcon","LockOpenIcon","ArrowDownTrayIcon","variants","blue","yellow","green","red","gray","StatusBadge","tokenListIdsToNames","ids","tokenListId","TokenLogoFallback","BlockExplorerTokenLink","TokenRow","isLoadingAccountType","isSmallScreen","useMedia","tokenName","sanitizeTokenName","isL2NativeToken","tokenIsArbOneNativeUSDC","tokenIsArbGoerliNativeUSDC","ethL1Balance","erc20L1Balances","ethL2Balance","erc20L2Balances","tokenLogoURI","tokenBalance","isArbitrumToken","isPotentialFakeArbitrumToken","tokenListInfo","listIdsSize","listIdsArray","Array","firstList","slice","more","tokenIsAddedToTheBridge","tokenHasL2Address","tokenIsBridgeable","isCustomFeeTokenRow","arbitrumTokenTooltipContent","tokenBalanceContent","minHeight","ARB_ONE_NATIVE_USDC_TOKEN","ARB_GOERLI_NATIVE_USDC_TOKEN","TokenListsPanel","listsToShow","toggleTokenList","isActive","some","NATIVE_CURRENCY_IDENTIFIER","TokensPanel","onTokenSelected","L1Provider","L2Provider","isLarge","setNewToken","errorMessage","setErrorMessage","isAddingToken","setIsAddingToken","numberOfRows","tokensToShow","tokenSearch","tokenAddresses","SPECIAL_ARBITRUM_TOKEN_TOKEN_LIST_ID","gt","address1","address2","bal1","bal2","isSuccessful","addNewToken","form","onSubmit","MagnifyingGlassIcon","data-cy","AutoSizer","disableHeight","rowCount","rowHeight","rowRenderer","virtualizedProps","TokenSearch","close","onImportToken","isFetchingTokenLists","currentPanel","setCurrentPanel","isNativeUSDC","ArrowSmallLeftIcon","TokenButton","tokenImportDialogProps","openTokenImportDialog","tokenLogo","selectedAddress","CONNECTED","logo","importToken","Popover","MaxButton","rest","TransferPanelMainInput","maxButtonProps","visible","maxButtonVisible","restMaxButtonProps","inputMode","useIsSwitchingL2Chain","l2ChainIdSearchParam","isUserRejectedError","code","handleSwitchNetworkNotSupported","attemptedChainId","isSwitchingNetworkBeforeTx","targetTxName","handleSwitchNetworkError","useSwitchNetworkWithConfig","arguments","useSwitchNetwork","throwForSwitchChainNotSupported","onMutate","onError","NetworkListbox","buttonClassName","isArbitrumNova","isXaiTestnet","isStylusTestnet","isInspace","getOptionClassName","Listbox","leave","leaveFrom","leaveTo","Options","option","Option","getNetworkLogo","OneNovaTransferDialog","destinationChainId","sourceNetworkSlug","destinationNetworkSlug","bridgeDeepLink","fastBridgeList","getInsufficientFundsErrorMessage","getInsufficientFundsForGasFeesErrorMessage","SwitchNetworksButton","ArrowsUpDownIcon","CustomAddressBanner","customAddress","bannerClassName","NetworkContainer","backgroundImage","backgroundClassName","showCustomAddressBanner","StyledLoader","ETHBalance","prefix","TokenBalance","forToken","on","tokenSymbolOverride","isParentChain","isERC20BridgeToken","hasOwnProperty","BalancesContainer","NetworkListboxPlusBalancesContainer","TransferPanelMain","setAmount","switchNetworkAsync","l1GasPrice","l2GasPrice","destinationAddressOrWalletAddress","l1WalletAddress","l2WalletAddress","updateErc20L1Balances","updateErc20L2Balances","isSwitchingL2Chain","customFeeTokenBalances","selectedTokenBalances","externalFrom","externalTo","setFrom","setTo","loadingMaxAmount","setLoadingMaxAmount","withdrawOnlyDialogProps","openWithdrawOnlyDialog","oneNovaTransferDialogProps","openOneNovaTransferDialog","oneNovaTransferDestinationNetworkId","setOneNovaTransferDestinationNetworkId","isMaxAmount","MAX","showUSDCSpecificInfo","weiValue","setMaxAmount","customFeeTokenL1Balance","nativeCurrencyBalance","nativeCurrencyBalanceFloat","maxAmount","ethBalance","errorMessageElement","GAS_ESTIMATION_FAILURE","TOKEN_WITHDRAW_ONLY","TOKEN_TRANSFER_DISABLED","switchNetworksOnTransferPanel","isArbOneUSDC","isArbGoerliUSDC","commonUSDC","networkListboxProps","getL2ChainIds","mapChainToDefaultPartnerChain","customOrbitChain","updatePreferredL2Chain","modifyOptions","selectedChainId","isFromOrbitChain","isToOrbitChain","isSelectedArbitrumChain","isSourceChainList","isDestinationChainList","isSameAsSourceChain","isSameAsDestinationChain","fromOptions","toOptions","shouldOpenOneNovaDialog","selectedChainIds","isOrbitChainSelected","defaultPartnerChain","isOrbitChainCurrentlySelected","isConnectedToEthereum","ETH_BALANCE_ARTICLE_LINK","L2ApproveTokens","USDCDepositConfirmationDialogCheckbox","checkboxesChecked","onAllCheckboxesCheched","isBridgingNativeUSDC","setCheckboxesChecked","prevCheckboxesState","nativeEvent","stopImmediatePropagation","useCCTPIsBlocked","CctpTabContent","toNetworkName","isCctpBlocked","isLoadingIsCctpBlocked","CCTP_DOCUMENTATION","USDCDepositConfirmationDialog","allCheckboxesCheched","setAllCheckboxesChecked","USDCFastBridge","USDCWithdrawalConfirmationDialogCheckbox","USDCWithdrawalConfirmationDialog","approveCustomFeeTokenEstimateGas","approveCustomFeeTokenForGatewayEstimateGas","approveCustomFeeTokenForInboxEstimateGas","getApproveFeeTokenRequest","CustomFeeTokenApprovalDialog","TokenMinterAbi","mapCCTPTransfer","cctpTransfer","messageSent","fetchCCTP","pageNumber","pageSize","urlParams","URLSearchParams","sanitizeQueryParams","parsedResponse","pending","completed","transfer","fetchCCTPDeposits","fetchCCTPWithdrawals","getAttestationHashAndMessageFromReceipt","eventTopic","logs","l","topics","getBlockBeforeConfirmation","getUsdcTokenAddressFromSourceChainId","getUSDCAddresses","parseTransferToMergedTransaction","receiveMessageTransactionHash","messageReceived","parseInt","blockTimestamp","getSourceChainIdFromSourceDomain","sourceDomain","CCTP_DEFAULT_STATE","cctpData","receiveMessageTimestamp","parseSWRResponse","pendingDeposit","completedDeposit","useCCTPDeposits","enabled","_l1ChainId","_pageNumber","_pageSize","deposits","useCCTPWithdrawals","useCctpStore","transfers","transfersIds","resetTransfers","setTransfers","previousTransfersMap","t1","t2","isAfter","transfersMap","updateTransfer","prevTransfer","prevState","useCctpState","pendingIds","completedIds","depositIds","withdrawalIds","useCctpFetching","isL1Ethereum","isGoerli","isL1Goerli","isL2ArbitrumOne","isL2ArbitrumGoerli","isValidChainPair","isLoadingDeposits","depositsError","mutateDeposits","isLoadingWithdrawals","withdrawalsError","mutateWithdrawals","setPendingTransfer","existingTransfer","txData","resultCctpData","resultTxData","useClaimCctp","isClaiming","setIsClaiming","claim","receiveTx","receiveReceiptTx","now","getTargetChainIdFromSourceChain","currentNetworkName","accountType","complete","getL1ChainIdFromSourceChain","useRemainingTime","l1SourceChain","requiredL1BlocksBeforeConfirmation","blockTime","remainingTime","setRemainingTime","canBeClaimedDate","setCanBeClaimedDate","isConfirmed","setIsConfirmed","useInterval","fromNow","withdrawOnlyTokens","l2CustomAddr","transferDisabledTokens","ready","transferReady","withdrawal","notReady","isAllowedL2","l1TokenAddress","l2TokenAddress","amountNeeded","gte","networkConnectionWarningToast","TransferPanel","tokenFromSearchParams","useTokenFromSearchParams","tokenDepositCheckDialogType","setTokenDepositCheckDialogType","importTokenModalStatus","setImportTokenModalStatus","IDLE","showSCWalletTooltip","setShowSCWalletTooltip","latestConnectedProvider","networksAndSigners","latestNetworksAndSigners","latestEth","latestToken","depositButtonColorClassName","withdrawalButtonColorClassName","useStyles","isParentChainArbitrumNova","newAmount","tokenCheckDialogProps","openTokenCheckDialog","tokenApprovalDialogProps","openTokenApprovalDialog","customFeeTokenApprovalDialogProps","openCustomFeeTokenApprovalDialog","withdrawalConfirmationDialogProps","openWithdrawalConfirmationDialog","depositConfirmationDialogProps","openDepositConfirmationDialog","usdcWithdrawalConfirmationDialogProps","openUSDCWithdrawalConfirmationDialog","usdcDepositConfirmationDialogProps","openUSDCDepositConfirmationDialog","setAllowance","setIsCctp","clearAmountInput","useImportTokenModal","L1_CONNECTED","L2_CONNECTED","OPEN","ethL1BalanceFloat","ethL2BalanceFloat","selectedTokenL1BalanceFloat","selectedTokenL2BalanceFloat","isL2NativeUSDC","selectedTokenL2Address","customFeeTokenL1BalanceFloat","isBridgingANewStandardToken","isUnbridgedToken","isNonCanonicalToken","dialogType","getDialogType","isUserAddedToken","waitForInput","approveCustomFeeTokenForInbox","amountBigNumber","approveCustomFeeTokenTx","approveFeeToken","approveCustomFeeTokenForGateway","customFeeTokenAllowanceForL1Gateway","amountSafe","showDelayedSCTxRequest","transferCctp","currentNetwork","isConnectedToTheWrongChain","switchTargetChainId","_error_message","_error_message1","depositForBurnTx","primaryButtonClicked","burnLimit","fetchPerMessageBurnLimit","readContract","lte","formatedLimit","newTransfer","CCTP","depositTxReceipt","signerUndefinedError","hasBothSigners","destinationAddressError","ethereumOrOrbitPairsSelected","warningToken","description","getWarningTokenDescription","warningTokenType","alert","isParentChainEthereum","connectedChainID","amountRaw","l2RoutedAddress","approved","DEPOSITS","tokenRequiresApprovalOnL2","allowed","WITHDRAWALS","shouldRunGasEstimation","balanceFloat","useGasSummary","amountDebounced","estimateGasResult","useTransferReadiness","getSmartContractWalletNativeCurrencyTransfersNotSupportedErrorMessage","ethBalanceFloat","selectedTokenBalanceFloat","customFeeTokenBalanceFloat","selectedTokenIsWithdrawOnly","selectedTokenIsDisabled","total","isSummaryVisible","useSummaryVisibility","depositReady","withdrawalReady","gasEstimationStatus","background","backgroundSize","backgroundRepeat","backgroundPosition","CLOSED","placement","maxWidth","onClickOutside","getRetryableTicket","l1TxHash","l1TxReceipt","L1TransactionReceipt","getTransactionReceipt","retryableTicket","m","getRetryableTicketExpiration","isLoadingError","isExpired","daysUntilExpired","expirationDate","expiryDateResponse","getTimeout","diff","useRedeemRetryable","isRedeeming","setIsRedeeming","redeem","DepositCountdown","whenCreated","minutesRemaining","getEstimatedDepositDurationInMinutes","TransactionsTableCustomAddressLabel","CustomAddressTxExplorer","useClaimWithdrawal","GetHelpButton","TransactionsTableRowAction","isError","switchNetwork","claimCctp","isClaimingCctp","currentChainIsValid","isWithdrawalSourceOrbitChain","isClaimButtonDisabled","getHelpOnError","isTxOlderThan7Days","EllipsisVerticalIcon","DepositRowStatus","DepositRowTime","TransactionDateTime","standardizedDate","DepositRowTxID","TransactionsTableDepositRow","isRedeemButtonDisabled","showRedeemRetryableButton","showRetryableExpiredText","customAddressTxPadding","data-testid","getTxConfirmationDate","confirmNodeMinutes","WithdrawalCountdown","isLargeScreen","createdAtDate","txConfirmationDate","minutesLeft","getTxConfirmationRemainingMinutes","max","timeLeftText","ClaimableRowStatus","matchingL1Tx","ClaimableRowTime","claimedTx","ClaimedTxInfo","isSourceChainArbitrum","toNetworkId","isExecuted","isBeingClaimed","ClaimableRowTxID","fromNetworkId","TransactionsTableClaimableRow","isSourceChainIdEthereum","isSourceChainIdArbitrum","NoDataOverlay","EmptyTableRow","TableBodyLoading","TableBodyError","TableActionHeader","pageParams","setPageParams","showSearch","layerType","searchString","setSearchString","noMoreRecordsInNextPage","disableNextBtn","disablePrevBtn","hidePaginationBtns","searchStringDebounced","trimmedSearchString","search","prevParams","showDebounceLoader","ChevronLeftIcon","ChevronRightIcon","colSpan","TransactionsTableHeader","explorerClassName","isDifferentSenderTx","isCustomDestinationTx","explorerChainId","TransactionsTable","locallyStoredTransactions","localTransactionsKey","_transactions","subgraphTransactions","noTransactionInSubgraph","firstSubgraphTransactionTimestamp","newerTransactions","isMatchingTab","pendingTxCreationDate","isTxAfterSubgraphTxs","reverse","locallyStoredTransactionsMap","localTxMap","Map","noSearchResults","isLastRow","locallyStoredTransaction","finalTx","DepositCardPending","DepositCardContainer","DepositL1TxStatus","DepositL2TxStatus","DepositCardL1Failure","copyToClipboard","useCopyToClipboard","DocumentDuplicateIcon","DepositCardCreationFailure","DepositCardL2Failure","retryableExpiryDays","setRetryableExpiryDays","days","updateRetryableTicketExpirationDate","retryableExpiryDaysText","remainingDays","borderColor","DepositCard","ClaimableCardConfirmed","WithdrawalCardContainer","WithdrawalL1TxStatus","WithdrawalL2TxStatus","ClaimableCardUnconfirmed","l1Tx","WithdrawalCard","PendingDepositWarning","Disclosure","enter","enterFrom","enterTo","strong","getOtherL2NetworkChainId","MergedTransactionCard","motion","motionDivProps","PendingTransactions","FailedTransactionsWarning","numFailedTransactions","daysPassedSinceFailure","TransactionsTableSwitch","tabs","handleClick","text","TransactionsTableCctp","hasError","ERROR","SUCCESS","startIndex","prevPageParams","CustomMessageWarning","TransactionHistory","depositsPageParams","withdrawalsPageParams","depositsData","depositsLoading","withdrawalsData","withdrawalsLoading","setDepositsPageParams","setWithdrawalsPageParams","pendingIdsCctp","transfersCctp","cctpDepositsError","cctpWithdrawalsError","pendingCctpTransactions","pendingId","Boolean","failedTransactions","roundedTabClasses","handleSmartContractWalletTxHistoryTab","isCctpTab","displayCctp","selectedIndex","transformedDeposits","transformedWithdrawals","SidePanel","heading","panelClassNameOverrides","duration","fetchDepositsFromSubgraph","receiver","fromBlock","toBlock","page","L1SubgraphClient","ApolloClient","link","HttpLink","uri","InMemoryCache","L2SubgraphClient","fetchBlockNumberFromSubgraph","chainType","subgraphClient","getL2SubgraphClient","getL1SubgraphClient","queryResult","query","gql","_meta","block","tryFetchLatestSubgraphBlockNumber","shouldIncludeSentTxs","isConnectedToParentChain","shouldIncludeReceivedTxs","fetchDeposits","latestL1BlockNumber","getBlockNumber","depositsFromSubgraph","mappedDepositsFromSubgraph","assetDetails","ethValue","tokenAmount","tokenDecimals","blockCreatedAt","isClassic","updateAdditionalDepositData","depositTx","getBlock","getL1ToL2MessageDataFromL1TxHash","depositTxId","updateClassicDepositStatusData","updateETHDepositStatusData","updateTokenDepositStatusData","l2BlockNum","getTransaction","updatedDepositTx","completeDepositTx","getClassicDepositMessage","getL1ToL2MessagesClassic","getNitroDepositMessage","safeIsClassic","fetchCompleteDepositData","depositParams","depositsWithoutStatuses","pendingDepositsMap","completeDepositData","completeTxData","pendingDeposits","useDeposits","isAccountTypeLoading","includeSentTxs","includeReceivedTxs","depositPageParams","_l1Provider","_l2Provider","_searchString","updateAdditionalWithdrawalData","withdrawalTx","l2toL1TxWithDeadline","attachNodeBlockDeadlineToEvent","attachTimestampToTokenWithdrawal","L2TransactionReceipt","mapETHWithdrawalToL2ToL1EventResult","callvalue","getOutgoingMessageState","caller","messageReader","L2ToL1MessageReader","firstExecutableBlock","getFirstExecutableBlock","mapTokenWithdrawalFromEventLogsToL2ToL1EventResult","signatureHash","_amount","mapWithdrawalToL2ToL1EventResult","fetchWithdrawalsFromSubgraph","fetchTokenWithdrawalsFromEventLogs","l2GatewayAddresses","promises","getL2WithdrawalEvents","flat","fetchL2Gateways","getL2Network","l2ERC20Gateway","l2CustomGateway","l2WethGateway","tokenBridge","gatewaysToUse","l2ArbReverseGateway","l2ArbReverseGatewayAddresses","l2DaiGateway","l2DaiGatewayAddresses","l2wstETHGateway","l2wstETHGatewayAddresses","l2LptGateway","l2LptGatewayAddresses","sortByTimestampDescending","aTimestamp","bTimestamp","fetchWithdrawals","latestSubgraphBlockNumber","withdrawalsFromSubgraph","ethWithdrawalsFromEventLogs","tokenWithdrawalsFromEventLogs","fetchETHWithdrawalsFromEventLogs","currentPageStart","currentPageEnd","tokenWithdrawalsFromEventLogsWithTimestamp","paginatedWithdrawalsFromEventLogs","paginatedTokenWithdrawalsFromEventLogs","paginatedEthWithdrawalsFromEventLogs","mappedTokenWithdrawalsFromEventLogs","l2ToL1Txns","fetchCompleteWithdrawalData","withdrawalsWithoutStatuses","pendingWithdrawalMap","completeWithdrawalData","msgA","msgB","pendingWithdrawals","useWithdrawals","withdrawalPageParams","TransactionStatusInfo","numWithdrawalsReadyToClaim","numRetryablesToRedeem","pageElement","emptyData","tps","fetchNetworkTPS","canFetchTPS","explorerUrl","finalUrl","encodeURIComponent","html","$","load","tpsElement","useNetworkTPS","_l2ChainId","statsLocalStorageKey","getActivityThresholdL1","getActivityThresholdL2","ArbitrumStats","setIsArbitrumStatsVisible","currentL1BlockNumber","useBlockNumber","watch","currentL2BlockNumber","tpsData","tpsLoading","currentL1GasPrice","currentL1GasPriceGwei","currentL1Activity","currentL2GasPrice","currentL2GasPriceGwei","currentL2Activity","toFixed","classicThemeKey","THEME_CONFIG","useTheme","setTheme","document","body","orbitConfigsLocalStorageKey","zAddress","z","string","refine","zChainId","int","positive","zParentChainId","supportedCustomOrbitParentChains","zContract","object","customGateway","multicall","proxyAdmin","router","standardGateway","weth","wethGateway","ZodOrbitConfig","chainInfo","minL2BaseFee","nonnegative","networkFeeReceiver","infrastructureFeeCollector","batchPoster","staker","chainOwner","chainName","optional","coreContracts","rollup","outbox","adminProxy","sequencerInbox","validatorWalletCreator","tokenBridgeContracts","l2Contracts","l3Contracts","getOrbitConfigsFromLocalStorage","configs","fetchNativeToken","nativeTokenIsEther","AddCustomChain","chainJson","setChainJson","addingChain","setAddingChain","onAddChain","confirmPeriodBlocks","retryableLifetimeSeconds","nitroGenesisBlock","nitroGenesisL1Block","depositTimeout","l1CustomGateway","l1ERC20Gateway","l1GatewayRouter","l1MultiCall","l1ProxyAdmin","l1Weth","l1WethGateway","l2GatewayRouter","l2Multicall","l2ProxyAdmin","l2Weth","addCustomChain","saveCustomChainToLocalStorage","saveOrbitConfigToLocalStorage","location","reload","textarea","pre","EllipsisHorizontalIcon","removeCustomChainFromLocalStorage","removeOrbitConfigFromLocalStorage","newConfigs","getOrbitConfigFromLocalStorageById","download","Radio","orientation","RadioGroup","Description","HeadlessSwitch","testnetModeLocalStorageKey","SectionTitle","SettingsDialog","isConnectedToTestnet","isArbitrumStatsVisible","isTestnetMode","setIsTestnetMode","_selectedTheme","enableTestnetMode","disableTestnetMode","ORBIT_QUICKSTART_LINK","initial","opacity","scale","animate","exit","MainContent","AnimatePresence","ArbTokenBridgeStoreSync","tokenBridgeParams","BalanceUpdater","latestTokenBridge","interval","setInterval","clearInterval","callback","savedCallback","savedTimer","forceTrigger","PendingTransactionsUpdater","updateCctpTransactions","useUpdateCctpTransactions","receipts","checkAndUpdatePendingTransactions","info","txReceipts","i","forceTriggerUpdate","RetryableTxnsIncluder","fetchAndUpdateDepositStatus","depositAssetType","checkAndUpdateFailedRetryables","checkAndAddMissingL1ToL2Messages","forceTriggerUpdateFailedRetryables","TokenListSyncer","tokenListsToSet","HeaderNetworkLoadingIndicator","HeaderNetworkInformation","unsupported","udInfoDefaults","CustomBoringAvatar","BoringAvatar","colors","tryLookupUDName","UDresolution","Resolution","fromEthersProvider","uns","locations","Layer1","Layer2","HeaderAccountPopover","ensName","isCorrectNetworkConnected","disconnect","useDisconnect","showCopied","setShowCopied","udInfo","setUDInfo","useEnsName","ensAvatar","useEnsAvatar","resolveUdName","udName","accountShort","headerItemsClassName","role","DocumentTextIcon","Cog6ToothIcon","ArrowLeftOnRectangleIcon","NetworkSelectionContainer","windowSize","useWindowSize","isLgScreen","supportedNetworks","l1Networks","l2Networks","orbitNetworks","finalNetworks","networks","networkType","onKeyDown","keyCode","NetworkButtonAndConnectButton","connected","chainUnsupported","openChainModal","PlusCircleIcon","HeaderConnectWalletButtonWrapper","HeaderConnectWalletButton","ConnectButton","Custom","mounted","NotificationContainer","Notification","infoIcon","mode","NitroDevnetNotification","Notifications","networkButtonsStyles","btnThemeClass","MainNetworkNotSupported","HeaderNetworkNotSupported","chainList","local","arbitrumLocal","projectId","process","appInfo","appName","isBlocked","searchParams","ok","blocked","accountIsBlocked","rainbowkitTheme","darkTheme","accentColor","fonts","AppContent","headerOverridesProps","SEQUENCER_UPDATE","NETWORK_ERROR","HeaderOverrides","HeaderContent","Injector","useAccountIsBlocked","setTokenBridgeParams","initBridge","selectedTokenAddress","NetworkReady","ConnectionFallback","AppConnectionFallbackContainer","NOT_CONNECTED","NOT_SUPPORTED","FixingSpaceship","targetChainKey","wagmiConfigProps","rainbowKitProviderProps","getProps","configureChains","getChains","getChainId","others","infuraProvider","apiKey","publicProvider","wallets","getDefaultWallets","connectors","connectorsForWallets","groupName","trustWallet","client","createClient","autoConnect","App","overmind","createOvermind","setTosAccepted","welcomeDialogProps","openWelcomeDialog","WagmiConfig","RainbowKitProvider","removeItem"],"sourceRoot":""}