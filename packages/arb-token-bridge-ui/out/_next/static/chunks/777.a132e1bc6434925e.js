(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{9437:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=c(85457);function writeUint16BE(t,i,c){return void 0===i&&(i=new Uint8Array(2)),void 0===c&&(c=0),i[c+0]=t>>>8,i[c+1]=t>>>0,i}function writeUint16LE(t,i,c){return void 0===i&&(i=new Uint8Array(2)),void 0===c&&(c=0),i[c+0]=t>>>0,i[c+1]=t>>>8,i}function readInt32BE(t,i){return void 0===i&&(i=0),t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]}function readUint32BE(t,i){return void 0===i&&(i=0),(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3])>>>0}function readInt32LE(t,i){return void 0===i&&(i=0),t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]}function readUint32LE(t,i){return void 0===i&&(i=0),(t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i])>>>0}function writeUint32BE(t,i,c){return void 0===i&&(i=new Uint8Array(4)),void 0===c&&(c=0),i[c+0]=t>>>24,i[c+1]=t>>>16,i[c+2]=t>>>8,i[c+3]=t>>>0,i}function writeUint32LE(t,i,c){return void 0===i&&(i=new Uint8Array(4)),void 0===c&&(c=0),i[c+0]=t>>>0,i[c+1]=t>>>8,i[c+2]=t>>>16,i[c+3]=t>>>24,i}function writeUint64BE(t,i,c){return void 0===i&&(i=new Uint8Array(8)),void 0===c&&(c=0),writeUint32BE(t/4294967296>>>0,i,c),writeUint32BE(t>>>0,i,c+4),i}function writeUint64LE(t,i,c){return void 0===i&&(i=new Uint8Array(8)),void 0===c&&(c=0),writeUint32LE(t>>>0,i,c),writeUint32LE(t/4294967296>>>0,i,c+4),i}i.readInt16BE=function(t,i){return void 0===i&&(i=0),(t[i+0]<<8|t[i+1])<<16>>16},i.readUint16BE=function(t,i){return void 0===i&&(i=0),(t[i+0]<<8|t[i+1])>>>0},i.readInt16LE=function(t,i){return void 0===i&&(i=0),(t[i+1]<<8|t[i])<<16>>16},i.readUint16LE=function(t,i){return void 0===i&&(i=0),(t[i+1]<<8|t[i])>>>0},i.writeUint16BE=writeUint16BE,i.writeInt16BE=writeUint16BE,i.writeUint16LE=writeUint16LE,i.writeInt16LE=writeUint16LE,i.readInt32BE=readInt32BE,i.readUint32BE=readUint32BE,i.readInt32LE=readInt32LE,i.readUint32LE=readUint32LE,i.writeUint32BE=writeUint32BE,i.writeInt32BE=writeUint32BE,i.writeUint32LE=writeUint32LE,i.writeInt32LE=writeUint32LE,i.readInt64BE=function(t,i){void 0===i&&(i=0);var c=readInt32BE(t,i),l=readInt32BE(t,i+4);return 4294967296*c+l-(l>>31)*4294967296},i.readUint64BE=function(t,i){return void 0===i&&(i=0),4294967296*readUint32BE(t,i)+readUint32BE(t,i+4)},i.readInt64LE=function(t,i){void 0===i&&(i=0);var c=readInt32LE(t,i);return 4294967296*readInt32LE(t,i+4)+c-(c>>31)*4294967296},i.readUint64LE=function(t,i){void 0===i&&(i=0);var c=readUint32LE(t,i);return 4294967296*readUint32LE(t,i+4)+c},i.writeUint64BE=writeUint64BE,i.writeInt64BE=writeUint64BE,i.writeUint64LE=writeUint64LE,i.writeInt64LE=writeUint64LE,i.readUintBE=function(t,i,c){if(void 0===c&&(c=0),t%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(t/8>i.length-c)throw Error("readUintBE: array is too short for the given bitLength");for(var l=0,_=1,v=t/8+c-1;v>=c;v--)l+=i[v]*_,_*=256;return l},i.readUintLE=function(t,i,c){if(void 0===c&&(c=0),t%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(t/8>i.length-c)throw Error("readUintLE: array is too short for the given bitLength");for(var l=0,_=1,v=c;v<c+t/8;v++)l+=i[v]*_,_*=256;return l},i.writeUintBE=function(t,i,c,_){if(void 0===c&&(c=new Uint8Array(t/8)),void 0===_&&(_=0),t%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!l.isSafeInteger(i))throw Error("writeUintBE value must be an integer");for(var v=1,I=t/8+_-1;I>=_;I--)c[I]=i/v&255,v*=256;return c},i.writeUintLE=function(t,i,c,_){if(void 0===c&&(c=new Uint8Array(t/8)),void 0===_&&(_=0),t%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!l.isSafeInteger(i))throw Error("writeUintLE value must be an integer");for(var v=1,I=_;I<_+t/8;I++)c[I]=i/v&255,v*=256;return c},i.readFloat32BE=function(t,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(i)},i.readFloat32LE=function(t,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(i,!0)},i.readFloat64BE=function(t,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(i)},i.readFloat64LE=function(t,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(i,!0)},i.writeFloat32BE=function(t,i,c){return void 0===i&&(i=new Uint8Array(4)),void 0===c&&(c=0),new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(c,t),i},i.writeFloat32LE=function(t,i,c){return void 0===i&&(i=new Uint8Array(4)),void 0===c&&(c=0),new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(c,t,!0),i},i.writeFloat64BE=function(t,i,c){return void 0===i&&(i=new Uint8Array(8)),void 0===c&&(c=0),new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(c,t),i},i.writeFloat64LE=function(t,i,c){return void 0===i&&(i=new Uint8Array(8)),void 0===c&&(c=0),new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(c,t,!0),i}},13832:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=c(9437),_=c(52887);function streamXOR(t,i,c,v,I){if(void 0===I&&(I=0),32!==t.length)throw Error("ChaCha: key size must be 32 bytes");if(v.length<c.length)throw Error("ChaCha: destination is shorter than source");if(0===I){if(8!==i.length&&12!==i.length)throw Error("ChaCha nonce must be 8 or 12 bytes");U=(N=new Uint8Array(16)).length-i.length,N.set(i,U)}else{if(16!==i.length)throw Error("ChaCha nonce with counter must be 16 bytes");N=i,U=I}for(var N,U,M=new Uint8Array(64),k=0;k<c.length;k+=64){!function(t,i,c){for(var _=c[3]<<24|c[2]<<16|c[1]<<8|c[0],v=c[7]<<24|c[6]<<16|c[5]<<8|c[4],I=c[11]<<24|c[10]<<16|c[9]<<8|c[8],N=c[15]<<24|c[14]<<16|c[13]<<8|c[12],U=c[19]<<24|c[18]<<16|c[17]<<8|c[16],M=c[23]<<24|c[22]<<16|c[21]<<8|c[20],k=c[27]<<24|c[26]<<16|c[25]<<8|c[24],B=c[31]<<24|c[30]<<16|c[29]<<8|c[28],W=i[3]<<24|i[2]<<16|i[1]<<8|i[0],J=i[7]<<24|i[6]<<16|i[5]<<8|i[4],X=i[11]<<24|i[10]<<16|i[9]<<8|i[8],Q=i[15]<<24|i[14]<<16|i[13]<<8|i[12],er=1634760805,es=857760878,ea=2036477234,eo=1797285236,ec=_,el=v,eh=I,ef=N,ed=U,ep=M,e_=k,eg=B,ey=W,ev=J,em=X,eb=Q,ew=0;ew<20;ew+=2)ey^=er=er+ec|0,ec^=ed=ed+(ey=ey>>>16|ey<<16)|0,ec=ec>>>20|ec<<12,ev^=es=es+el|0,el^=ep=ep+(ev=ev>>>16|ev<<16)|0,el=el>>>20|el<<12,em^=ea=ea+eh|0,eh^=e_=e_+(em=em>>>16|em<<16)|0,eh=eh>>>20|eh<<12,eb^=eo=eo+ef|0,ef^=eg=eg+(eb=eb>>>16|eb<<16)|0,ef=ef>>>20|ef<<12,em^=ea=ea+eh|0,eh^=e_=e_+(em=em>>>24|em<<8)|0,eh=eh>>>25|eh<<7,eb^=eo=eo+ef|0,ef^=eg=eg+(eb=eb>>>24|eb<<8)|0,ef=ef>>>25|ef<<7,ev^=es=es+el|0,el^=ep=ep+(ev=ev>>>24|ev<<8)|0,el=el>>>25|el<<7,ey^=er=er+ec|0,ec^=ed=ed+(ey=ey>>>24|ey<<8)|0,ec=ec>>>25|ec<<7,eb^=er=er+el|0,el^=e_=e_+(eb=eb>>>16|eb<<16)|0,el=el>>>20|el<<12,ey^=es=es+eh|0,eh^=eg=eg+(ey=ey>>>16|ey<<16)|0,eh=eh>>>20|eh<<12,ev^=ea=ea+ef|0,ef^=ed=ed+(ev=ev>>>16|ev<<16)|0,ef=ef>>>20|ef<<12,em^=eo=eo+ec|0,ec^=ep=ep+(em=em>>>16|em<<16)|0,ec=ec>>>20|ec<<12,ev^=ea=ea+ef|0,ef^=ed=ed+(ev=ev>>>24|ev<<8)|0,ef=ef>>>25|ef<<7,em^=eo=eo+ec|0,ec^=ep=ep+(em=em>>>24|em<<8)|0,ec=ec>>>25|ec<<7,ey^=es=es+eh|0,eh^=eg=eg+(ey=ey>>>24|ey<<8)|0,eh=eh>>>25|eh<<7,eb^=er=er+el|0,el^=e_=e_+(eb=eb>>>24|eb<<8)|0,el=el>>>25|el<<7;l.writeUint32LE(er+1634760805|0,t,0),l.writeUint32LE(es+857760878|0,t,4),l.writeUint32LE(ea+2036477234|0,t,8),l.writeUint32LE(eo+1797285236|0,t,12),l.writeUint32LE(ec+_|0,t,16),l.writeUint32LE(el+v|0,t,20),l.writeUint32LE(eh+I|0,t,24),l.writeUint32LE(ef+N|0,t,28),l.writeUint32LE(ed+U|0,t,32),l.writeUint32LE(ep+M|0,t,36),l.writeUint32LE(e_+k|0,t,40),l.writeUint32LE(eg+B|0,t,44),l.writeUint32LE(ey+W|0,t,48),l.writeUint32LE(ev+J|0,t,52),l.writeUint32LE(em+X|0,t,56),l.writeUint32LE(eb+Q|0,t,60)}(M,N,t);for(var B=k;B<k+64&&B<c.length;B++)v[B]=c[B]^M[B-k];!function(t,i,c){for(var l=1;c--;)l=l+(255&t[i])|0,t[i]=255&l,l>>>=8,i++;if(l>0)throw Error("ChaCha: counter overflow")}(N,0,U)}return _.wipe(M),0===I&&_.wipe(N),v}i.streamXOR=streamXOR,i.stream=function(t,i,c,l){return void 0===l&&(l=0),_.wipe(c),streamXOR(t,i,c,c,l)}},42934:function(t,i,c){"use strict";var l=c(13832),_=c(19780),v=c(52887),I=c(9437),N=c(3283);i.Cv=32,i.WH=12,i.pg=16;var U=new Uint8Array(16),M=function(){function ChaCha20Poly1305(t){if(this.nonceLength=i.WH,this.tagLength=i.pg,t.length!==i.Cv)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return ChaCha20Poly1305.prototype.seal=function(t,i,c,_){if(t.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var I,N=new Uint8Array(16);N.set(t,N.length-t.length);var U=new Uint8Array(32);l.stream(this._key,N,U,4);var M=i.length+this.tagLength;if(_){if(_.length!==M)throw Error("ChaCha20Poly1305: incorrect destination length");I=_}else I=new Uint8Array(M);return l.streamXOR(this._key,N,i,I,4),this._authenticate(I.subarray(I.length-this.tagLength,I.length),U,I.subarray(0,I.length-this.tagLength),c),v.wipe(N),I},ChaCha20Poly1305.prototype.open=function(t,i,c,_){if(t.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(i.length<this.tagLength)return null;var I,U=new Uint8Array(16);U.set(t,U.length-t.length);var M=new Uint8Array(32);l.stream(this._key,U,M,4);var k=new Uint8Array(this.tagLength);if(this._authenticate(k,M,i.subarray(0,i.length-this.tagLength),c),!N.equal(k,i.subarray(i.length-this.tagLength,i.length)))return null;var B=i.length-this.tagLength;if(_){if(_.length!==B)throw Error("ChaCha20Poly1305: incorrect destination length");I=_}else I=new Uint8Array(B);return l.streamXOR(this._key,U,i.subarray(0,i.length-this.tagLength),I,4),v.wipe(U),I},ChaCha20Poly1305.prototype.clean=function(){return v.wipe(this._key),this},ChaCha20Poly1305.prototype._authenticate=function(t,i,c,l){var N=new _.Poly1305(i);l&&(N.update(l),l.length%16>0&&N.update(U.subarray(l.length%16))),N.update(c),c.length%16>0&&N.update(U.subarray(c.length%16));var M=new Uint8Array(8);l&&I.writeUint64LE(l.length,M),N.update(M),I.writeUint64LE(c.length,M),N.update(M);for(var k=N.digest(),B=0;B<k.length;B++)t[B]=k[B];N.clean(),v.wipe(k),v.wipe(M)},ChaCha20Poly1305}();i.OK=M},3283:function(t,i){"use strict";function compare(t,i){if(t.length!==i.length)return 0;for(var c=0,l=0;l<t.length;l++)c|=t[l]^i[l];return 1&c-1>>>8}Object.defineProperty(i,"__esModule",{value:!0}),i.select=function(t,i,c){return~(t-1)&i|t-1&c},i.lessOrEqual=function(t,i){return(0|t)-(0|i)-1>>>31&1},i.compare=compare,i.equal=function(t,i){return 0!==t.length&&0!==i.length&&0!==compare(t,i)}},27728:function(t,i,c){"use strict";i.Xx=i._w=i.aP=i.KS=i.jQ=void 0,c(81293);let l=c(46756);function gf(t){let i=new Float64Array(16);if(t)for(let c=0;c<t.length;c++)i[c]=t[c];return i}c(52887),i.jQ=64,i.KS=64,i.aP=32;let _=new Uint8Array(32);_[0]=9;let v=gf(),I=gf([1]),N=(gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),U=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),M=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);function set25519(t,i){for(let c=0;c<16;c++)t[c]=0|i[c]}function car25519(t){let i=1;for(let c=0;c<16;c++){let l=t[c]+i+65535;i=Math.floor(l/65536),t[c]=l-65536*i}t[0]+=i-1+37*(i-1)}function sel25519(t,i,c){let l=~(c-1);for(let c=0;c<16;c++){let _=l&(t[c]^i[c]);t[c]^=_,i[c]^=_}}function pack25519(t,i){let c=gf(),l=gf();for(let t=0;t<16;t++)l[t]=i[t];car25519(l),car25519(l),car25519(l);for(let t=0;t<2;t++){c[0]=l[0]-65517;for(let t=1;t<15;t++)c[t]=l[t]-65535-(c[t-1]>>16&1),c[t-1]&=65535;c[15]=l[15]-32767-(c[14]>>16&1);let t=c[15]>>16&1;c[14]&=65535,sel25519(l,c,1-t)}for(let i=0;i<16;i++)t[2*i]=255&l[i],t[2*i+1]=l[i]>>8}gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function add(t,i,c){for(let l=0;l<16;l++)t[l]=i[l]+c[l]}function sub(t,i,c){for(let l=0;l<16;l++)t[l]=i[l]-c[l]}function mul(t,i,c){let l,_,v=0,I=0,N=0,U=0,M=0,k=0,B=0,W=0,J=0,X=0,Q=0,er=0,es=0,ea=0,eo=0,ec=0,el=0,eh=0,ef=0,ed=0,ep=0,e_=0,eg=0,ey=0,ev=0,em=0,eb=0,ew=0,eE=0,eD=0,eS=0,eI=c[0],ex=c[1],eC=c[2],eO=c[3],eP=c[4],eA=c[5],eN=c[6],eR=c[7],ej=c[8],eT=c[9],eU=c[10],eL=c[11],eM=c[12],ek=c[13],ez=c[14],e$=c[15];v+=(l=i[0])*eI,I+=l*ex,N+=l*eC,U+=l*eO,M+=l*eP,k+=l*eA,B+=l*eN,W+=l*eR,J+=l*ej,X+=l*eT,Q+=l*eU,er+=l*eL,es+=l*eM,ea+=l*ek,eo+=l*ez,ec+=l*e$,I+=(l=i[1])*eI,N+=l*ex,U+=l*eC,M+=l*eO,k+=l*eP,B+=l*eA,W+=l*eN,J+=l*eR,X+=l*ej,Q+=l*eT,er+=l*eU,es+=l*eL,ea+=l*eM,eo+=l*ek,ec+=l*ez,el+=l*e$,N+=(l=i[2])*eI,U+=l*ex,M+=l*eC,k+=l*eO,B+=l*eP,W+=l*eA,J+=l*eN,X+=l*eR,Q+=l*ej,er+=l*eT,es+=l*eU,ea+=l*eL,eo+=l*eM,ec+=l*ek,el+=l*ez,eh+=l*e$,U+=(l=i[3])*eI,M+=l*ex,k+=l*eC,B+=l*eO,W+=l*eP,J+=l*eA,X+=l*eN,Q+=l*eR,er+=l*ej,es+=l*eT,ea+=l*eU,eo+=l*eL,ec+=l*eM,el+=l*ek,eh+=l*ez,ef+=l*e$,M+=(l=i[4])*eI,k+=l*ex,B+=l*eC,W+=l*eO,J+=l*eP,X+=l*eA,Q+=l*eN,er+=l*eR,es+=l*ej,ea+=l*eT,eo+=l*eU,ec+=l*eL,el+=l*eM,eh+=l*ek,ef+=l*ez,ed+=l*e$,k+=(l=i[5])*eI,B+=l*ex,W+=l*eC,J+=l*eO,X+=l*eP,Q+=l*eA,er+=l*eN,es+=l*eR,ea+=l*ej,eo+=l*eT,ec+=l*eU,el+=l*eL,eh+=l*eM,ef+=l*ek,ed+=l*ez,ep+=l*e$,B+=(l=i[6])*eI,W+=l*ex,J+=l*eC,X+=l*eO,Q+=l*eP,er+=l*eA,es+=l*eN,ea+=l*eR,eo+=l*ej,ec+=l*eT,el+=l*eU,eh+=l*eL,ef+=l*eM,ed+=l*ek,ep+=l*ez,e_+=l*e$,W+=(l=i[7])*eI,J+=l*ex,X+=l*eC,Q+=l*eO,er+=l*eP,es+=l*eA,ea+=l*eN,eo+=l*eR,ec+=l*ej,el+=l*eT,eh+=l*eU,ef+=l*eL,ed+=l*eM,ep+=l*ek,e_+=l*ez,eg+=l*e$,J+=(l=i[8])*eI,X+=l*ex,Q+=l*eC,er+=l*eO,es+=l*eP,ea+=l*eA,eo+=l*eN,ec+=l*eR,el+=l*ej,eh+=l*eT,ef+=l*eU,ed+=l*eL,ep+=l*eM,e_+=l*ek,eg+=l*ez,ey+=l*e$,X+=(l=i[9])*eI,Q+=l*ex,er+=l*eC,es+=l*eO,ea+=l*eP,eo+=l*eA,ec+=l*eN,el+=l*eR,eh+=l*ej,ef+=l*eT,ed+=l*eU,ep+=l*eL,e_+=l*eM,eg+=l*ek,ey+=l*ez,ev+=l*e$,Q+=(l=i[10])*eI,er+=l*ex,es+=l*eC,ea+=l*eO,eo+=l*eP,ec+=l*eA,el+=l*eN,eh+=l*eR,ef+=l*ej,ed+=l*eT,ep+=l*eU,e_+=l*eL,eg+=l*eM,ey+=l*ek,ev+=l*ez,em+=l*e$,er+=(l=i[11])*eI,es+=l*ex,ea+=l*eC,eo+=l*eO,ec+=l*eP,el+=l*eA,eh+=l*eN,ef+=l*eR,ed+=l*ej,ep+=l*eT,e_+=l*eU,eg+=l*eL,ey+=l*eM,ev+=l*ek,em+=l*ez,eb+=l*e$,es+=(l=i[12])*eI,ea+=l*ex,eo+=l*eC,ec+=l*eO,el+=l*eP,eh+=l*eA,ef+=l*eN,ed+=l*eR,ep+=l*ej,e_+=l*eT,eg+=l*eU,ey+=l*eL,ev+=l*eM,em+=l*ek,eb+=l*ez,ew+=l*e$,ea+=(l=i[13])*eI,eo+=l*ex,ec+=l*eC,el+=l*eO,eh+=l*eP,ef+=l*eA,ed+=l*eN,ep+=l*eR,e_+=l*ej,eg+=l*eT,ey+=l*eU,ev+=l*eL,em+=l*eM,eb+=l*ek,ew+=l*ez,eE+=l*e$,eo+=(l=i[14])*eI,ec+=l*ex,el+=l*eC,eh+=l*eO,ef+=l*eP,ed+=l*eA,ep+=l*eN,e_+=l*eR,eg+=l*ej,ey+=l*eT,ev+=l*eU,em+=l*eL,eb+=l*eM,ew+=l*ek,eE+=l*ez,eD+=l*e$,ec+=(l=i[15])*eI,el+=l*ex,eh+=l*eC,ef+=l*eO,ed+=l*eP,ep+=l*eA,e_+=l*eN,eg+=l*eR,ey+=l*ej,ev+=l*eT,em+=l*eU,eb+=l*eL,ew+=l*eM,eE+=l*ek,eD+=l*ez,eS+=l*e$,v+=38*el,I+=38*eh,N+=38*ef,U+=38*ed,M+=38*ep,k+=38*e_,B+=38*eg,W+=38*ey,J+=38*ev,X+=38*em,Q+=38*eb,er+=38*ew,es+=38*eE,ea+=38*eD,eo+=38*eS,_=Math.floor((l=v+(_=1)+65535)/65536),v=l-65536*_,_=Math.floor((l=I+_+65535)/65536),I=l-65536*_,_=Math.floor((l=N+_+65535)/65536),N=l-65536*_,_=Math.floor((l=U+_+65535)/65536),U=l-65536*_,_=Math.floor((l=M+_+65535)/65536),M=l-65536*_,_=Math.floor((l=k+_+65535)/65536),k=l-65536*_,_=Math.floor((l=B+_+65535)/65536),B=l-65536*_,_=Math.floor((l=W+_+65535)/65536),W=l-65536*_,_=Math.floor((l=J+_+65535)/65536),J=l-65536*_,_=Math.floor((l=X+_+65535)/65536),X=l-65536*_,_=Math.floor((l=Q+_+65535)/65536),Q=l-65536*_,_=Math.floor((l=er+_+65535)/65536),er=l-65536*_,_=Math.floor((l=es+_+65535)/65536),es=l-65536*_,_=Math.floor((l=ea+_+65535)/65536),ea=l-65536*_,_=Math.floor((l=eo+_+65535)/65536),eo=l-65536*_,_=Math.floor((l=ec+_+65535)/65536),ec=l-65536*_,v+=_-1+37*(_-1),_=Math.floor((l=v+(_=1)+65535)/65536),v=l-65536*_,_=Math.floor((l=I+_+65535)/65536),I=l-65536*_,_=Math.floor((l=N+_+65535)/65536),N=l-65536*_,_=Math.floor((l=U+_+65535)/65536),U=l-65536*_,_=Math.floor((l=M+_+65535)/65536),M=l-65536*_,_=Math.floor((l=k+_+65535)/65536),k=l-65536*_,_=Math.floor((l=B+_+65535)/65536),B=l-65536*_,_=Math.floor((l=W+_+65535)/65536),W=l-65536*_,_=Math.floor((l=J+_+65535)/65536),J=l-65536*_,_=Math.floor((l=X+_+65535)/65536),X=l-65536*_,_=Math.floor((l=Q+_+65535)/65536),Q=l-65536*_,_=Math.floor((l=er+_+65535)/65536),er=l-65536*_,_=Math.floor((l=es+_+65535)/65536),es=l-65536*_,_=Math.floor((l=ea+_+65535)/65536),ea=l-65536*_,_=Math.floor((l=eo+_+65535)/65536),eo=l-65536*_,_=Math.floor((l=ec+_+65535)/65536),ec=l-65536*_,v+=_-1+37*(_-1),t[0]=v,t[1]=I,t[2]=N,t[3]=U,t[4]=M,t[5]=k,t[6]=B,t[7]=W,t[8]=J,t[9]=X,t[10]=Q,t[11]=er,t[12]=es,t[13]=ea,t[14]=eo,t[15]=ec}function edadd(t,i){let c=gf(),l=gf(),_=gf(),v=gf(),I=gf(),U=gf(),M=gf(),k=gf(),B=gf();sub(c,t[1],t[0]),sub(B,i[1],i[0]),mul(c,c,B),add(l,t[0],t[1]),add(B,i[0],i[1]),mul(l,l,B),mul(_,t[3],i[3]),mul(_,_,N),mul(v,t[2],i[2]),add(v,v,v),sub(I,l,c),sub(U,v,_),add(M,v,_),add(k,l,c),mul(t[0],I,U),mul(t[1],k,M),mul(t[2],M,U),mul(t[3],I,k)}function cswap(t,i,c){for(let l=0;l<4;l++)sel25519(t[l],i[l],c)}function pack(t,i){let c=gf(),l=gf(),_=gf();(function(t,i){let c;let l=gf();for(c=0;c<16;c++)l[c]=i[c];for(c=253;c>=0;c--)mul(l,l,l),2!==c&&4!==c&&mul(l,l,i);for(c=0;c<16;c++)t[c]=l[c]})(_,i[2]),mul(c,i[0],_),mul(l,i[1],_),pack25519(t,l),t[31]^=function(t){let i=new Uint8Array(32);return pack25519(i,t),1&i[0]}(c)<<7}function scalarbase(t,i){let c=[gf(),gf(),gf(),gf()];set25519(c[0],U),set25519(c[1],M),set25519(c[2],I),mul(c[3],U,M),function(t,i,c){set25519(t[0],v),set25519(t[1],I),set25519(t[2],I),set25519(t[3],v);for(let l=255;l>=0;--l){let _=c[l/8|0]>>(7&l)&1;cswap(t,i,_),edadd(i,t),edadd(t,t),cswap(t,i,_)}}(t,c,i)}i._w=function(t){if(t.length!==i.aP)throw Error(`ed25519: seed must be ${i.aP} bytes`);let c=(0,l.hash)(t);c[0]&=248,c[31]&=127,c[31]|=64;let _=new Uint8Array(32),v=[gf(),gf(),gf(),gf()];scalarbase(v,c),pack(_,v);let I=new Uint8Array(64);return I.set(t),I.set(_,32),{publicKey:_,secretKey:I}};let k=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(t,i){let c,l,_,v;for(l=63;l>=32;--l){for(c=0,_=l-32,v=l-12;_<v;++_)i[_]+=c-16*i[l]*k[_-(l-32)],c=Math.floor((i[_]+128)/256),i[_]-=256*c;i[_]+=c,i[l]=0}for(_=0,c=0;_<32;_++)i[_]+=c-(i[31]>>4)*k[_],c=i[_]>>8,i[_]&=255;for(_=0;_<32;_++)i[_]-=c*k[_];for(l=0;l<32;l++)i[l+1]+=i[l]>>8,t[l]=255&i[l]}function reduce(t){let i=new Float64Array(64);for(let c=0;c<64;c++)i[c]=t[c];for(let i=0;i<64;i++)t[i]=0;modL(t,i)}i.Xx=function(t,i){let c=new Float64Array(64),_=[gf(),gf(),gf(),gf()],v=(0,l.hash)(t.subarray(0,32));v[0]&=248,v[31]&=127,v[31]|=64;let I=new Uint8Array(64);I.set(v.subarray(32),32);let N=new l.SHA512;N.update(I.subarray(32)),N.update(i);let U=N.digest();N.clean(),reduce(U),scalarbase(_,U),pack(I,_),N.reset(),N.update(I.subarray(0,32)),N.update(t.subarray(32)),N.update(i);let M=N.digest();reduce(M);for(let t=0;t<32;t++)c[t]=U[t];for(let t=0;t<32;t++)for(let i=0;i<32;i++)c[t+i]+=M[t]*v[i];return modL(I.subarray(32),c),I}},7:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isSerializableHash=function(t){return void 0!==t.saveState&&void 0!==t.restoreState&&void 0!==t.cleanSavedState}},71133:function(t,i,c){"use strict";var l=c(56169),_=c(52887),v=function(){function HKDF(t,i,c,_){void 0===c&&(c=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=_;var v=l.hmac(this._hash,c,i);this._hmac=new l.HMAC(t,v),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return HKDF.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(0===t)throw Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},HKDF.prototype.expand=function(t){for(var i=new Uint8Array(t),c=0;c<i.length;c++)this._bufpos===this._buffer.length&&this._fillBuffer(),i[c]=this._buffer[this._bufpos++];return i},HKDF.prototype.clean=function(){this._hmac.clean(),_.wipe(this._buffer),_.wipe(this._counter),this._bufpos=0},HKDF}();i.t=v},56169:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=c(7),_=c(3283),v=c(52887),I=function(){function HMAC(t,i){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var c=new Uint8Array(this.blockSize);i.length>this.blockSize?this._inner.update(i).finish(c).clean():c.set(i);for(var _=0;_<c.length;_++)c[_]^=54;this._inner.update(c);for(var _=0;_<c.length;_++)c[_]^=106;this._outer.update(c),l.isSerializableHash(this._inner)&&l.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),v.wipe(c)}return HMAC.prototype.reset=function(){if(!l.isSerializableHash(this._inner)||!l.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},HMAC.prototype.clean=function(){l.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),l.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},HMAC.prototype.update=function(t){return this._inner.update(t),this},HMAC.prototype.finish=function(t){return this._finished?this._outer.finish(t):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0),this},HMAC.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},HMAC.prototype.saveState=function(){if(!l.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},HMAC.prototype.restoreState=function(t){if(!l.isSerializableHash(this._inner)||!l.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},HMAC.prototype.cleanSavedState=function(t){if(!l.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},HMAC}();i.HMAC=I,i.hmac=function(t,i,c){var l=new I(t,i);l.update(c);var _=l.digest();return l.clean(),_},i.equal=_.equal},85457:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mul=Math.imul||function(t,i){var c=65535&t,l=65535&i;return c*l+((t>>>16&65535)*l+c*(i>>>16&65535)<<16>>>0)|0},i.add=function(t,i){return t+i|0},i.sub=function(t,i){return t-i|0},i.rotl=function(t,i){return t<<i|t>>>32-i},i.rotr=function(t,i){return t<<32-i|t>>>i},i.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},i.MAX_SAFE_INTEGER=9007199254740991,i.isSafeInteger=function(t){return i.isInteger(t)&&t>=-i.MAX_SAFE_INTEGER&&t<=i.MAX_SAFE_INTEGER}},19780:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=c(3283),_=c(52887);i.DIGEST_LENGTH=16;var v=function(){function Poly1305(t){this.digestLength=i.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=t[0]|t[1]<<8;this._r[0]=8191&c;var l=t[2]|t[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var _=t[4]|t[5]<<8;this._r[2]=(l>>>10|_<<6)&7939;var v=t[6]|t[7]<<8;this._r[3]=(_>>>7|v<<9)&8191;var I=t[8]|t[9]<<8;this._r[4]=(v>>>4|I<<12)&255,this._r[5]=I>>>1&8190;var N=t[10]|t[11]<<8;this._r[6]=(I>>>14|N<<2)&8191;var U=t[12]|t[13]<<8;this._r[7]=(N>>>11|U<<5)&8065;var M=t[14]|t[15]<<8;this._r[8]=(U>>>8|M<<8)&8191,this._r[9]=M>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return Poly1305.prototype._blocks=function(t,i,c){for(var l=this._fin?0:2048,_=this._h[0],v=this._h[1],I=this._h[2],N=this._h[3],U=this._h[4],M=this._h[5],k=this._h[6],B=this._h[7],W=this._h[8],J=this._h[9],X=this._r[0],Q=this._r[1],er=this._r[2],es=this._r[3],ea=this._r[4],eo=this._r[5],ec=this._r[6],el=this._r[7],eh=this._r[8],ef=this._r[9];c>=16;){var ed,ep=t[i+0]|t[i+1]<<8;_+=8191&ep;var e_=t[i+2]|t[i+3]<<8;v+=(ep>>>13|e_<<3)&8191;var eg=t[i+4]|t[i+5]<<8;I+=(e_>>>10|eg<<6)&8191;var ey=t[i+6]|t[i+7]<<8;N+=(eg>>>7|ey<<9)&8191;var ev=t[i+8]|t[i+9]<<8;U+=(ey>>>4|ev<<12)&8191,M+=ev>>>1&8191;var em=t[i+10]|t[i+11]<<8;k+=(ev>>>14|em<<2)&8191;var eb=t[i+12]|t[i+13]<<8;B+=(em>>>11|eb<<5)&8191;var ew=t[i+14]|t[i+15]<<8;W+=(eb>>>8|ew<<8)&8191,J+=ew>>>5|l;var eE=0;eE=(ed=0+_*X+v*(5*ef)+I*(5*eh)+N*(5*el)+U*(5*ec))>>>13,ed&=8191,ed+=M*(5*eo)+k*(5*ea)+B*(5*es)+W*(5*er)+J*(5*Q),eE+=ed>>>13,ed&=8191;var eD=eE;eD+=_*Q+v*X+I*(5*ef)+N*(5*eh)+U*(5*el),eE=eD>>>13,eD&=8191,eD+=M*(5*ec)+k*(5*eo)+B*(5*ea)+W*(5*es)+J*(5*er),eE+=eD>>>13,eD&=8191;var eS=eE;eS+=_*er+v*Q+I*X+N*(5*ef)+U*(5*eh),eE=eS>>>13,eS&=8191,eS+=M*(5*el)+k*(5*ec)+B*(5*eo)+W*(5*ea)+J*(5*es),eE+=eS>>>13,eS&=8191;var eI=eE;eI+=_*es+v*er+I*Q+N*X+U*(5*ef),eE=eI>>>13,eI&=8191,eI+=M*(5*eh)+k*(5*el)+B*(5*ec)+W*(5*eo)+J*(5*ea),eE+=eI>>>13,eI&=8191;var ex=eE;ex+=_*ea+v*es+I*er+N*Q+U*X,eE=ex>>>13,ex&=8191,ex+=M*(5*ef)+k*(5*eh)+B*(5*el)+W*(5*ec)+J*(5*eo),eE+=ex>>>13,ex&=8191;var eC=eE;eC+=_*eo+v*ea+I*es+N*er+U*Q,eE=eC>>>13,eC&=8191,eC+=M*X+k*(5*ef)+B*(5*eh)+W*(5*el)+J*(5*ec),eE+=eC>>>13,eC&=8191;var eO=eE;eO+=_*ec+v*eo+I*ea+N*es+U*er,eE=eO>>>13,eO&=8191,eO+=M*Q+k*X+B*(5*ef)+W*(5*eh)+J*(5*el),eE+=eO>>>13,eO&=8191;var eP=eE;eP+=_*el+v*ec+I*eo+N*ea+U*es,eE=eP>>>13,eP&=8191,eP+=M*er+k*Q+B*X+W*(5*ef)+J*(5*eh),eE+=eP>>>13,eP&=8191;var eA=eE;eA+=_*eh+v*el+I*ec+N*eo+U*ea,eE=eA>>>13,eA&=8191,eA+=M*es+k*er+B*Q+W*X+J*(5*ef),eE+=eA>>>13,eA&=8191;var eN=eE;eN+=_*ef+v*eh+I*el+N*ec+U*eo,eE=eN>>>13,eN&=8191,eN+=M*ea+k*es+B*er+W*Q+J*X,eE+=eN>>>13,eN&=8191,ed=8191&(eE=(eE=(eE<<2)+eE|0)+ed|0),eE>>>=13,eD+=eE,_=ed,v=eD,I=eS,N=eI,U=ex,M=eC,k=eO,B=eP,W=eA,J=eN,i+=16,c-=16}this._h[0]=_,this._h[1]=v,this._h[2]=I,this._h[3]=N,this._h[4]=U,this._h[5]=M,this._h[6]=k,this._h[7]=B,this._h[8]=W,this._h[9]=J},Poly1305.prototype.finish=function(t,i){void 0===i&&(i=0);var c,l,_,v,I=new Uint16Array(10);if(this._leftover){for(v=this._leftover,this._buffer[v++]=1;v<16;v++)this._buffer[v]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(c=this._h[1]>>>13,this._h[1]&=8191,v=2;v<10;v++)this._h[v]+=c,c=this._h[v]>>>13,this._h[v]&=8191;for(this._h[0]+=5*c,c=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=c,c=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=c,I[0]=this._h[0]+5,c=I[0]>>>13,I[0]&=8191,v=1;v<10;v++)I[v]=this._h[v]+c,c=I[v]>>>13,I[v]&=8191;for(I[9]-=8192,l=(1^c)-1,v=0;v<10;v++)I[v]&=l;for(v=0,l=~l;v<10;v++)this._h[v]=this._h[v]&l|I[v];for(v=1,this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,_=this._h[0]+this._pad[0],this._h[0]=65535&_;v<8;v++)_=(this._h[v]+this._pad[v]|0)+(_>>>16)|0,this._h[v]=65535&_;return t[i+0]=this._h[0]>>>0,t[i+1]=this._h[0]>>>8,t[i+2]=this._h[1]>>>0,t[i+3]=this._h[1]>>>8,t[i+4]=this._h[2]>>>0,t[i+5]=this._h[2]>>>8,t[i+6]=this._h[3]>>>0,t[i+7]=this._h[3]>>>8,t[i+8]=this._h[4]>>>0,t[i+9]=this._h[4]>>>8,t[i+10]=this._h[5]>>>0,t[i+11]=this._h[5]>>>8,t[i+12]=this._h[6]>>>0,t[i+13]=this._h[6]>>>8,t[i+14]=this._h[7]>>>0,t[i+15]=this._h[7]>>>8,this._finished=!0,this},Poly1305.prototype.update=function(t){var i,c=0,l=t.length;if(this._leftover){(i=16-this._leftover)>l&&(i=l);for(var _=0;_<i;_++)this._buffer[this._leftover+_]=t[c+_];if(l-=i,c+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(i=l-l%16,this._blocks(t,c,i),c+=i,l-=i),l){for(var _=0;_<l;_++)this._buffer[this._leftover+_]=t[c+_];this._leftover+=l}return this},Poly1305.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},Poly1305.prototype.clean=function(){return _.wipe(this._buffer),_.wipe(this._r),_.wipe(this._h),_.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},Poly1305}();i.Poly1305=v,i.oneTimeAuth=function(t,i){var c=new v(t);c.update(i);var l=c.digest();return c.clean(),l},i.equal=function(t,c){return t.length===i.DIGEST_LENGTH&&c.length===i.DIGEST_LENGTH&&l.equal(t,c)}},81293:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.randomStringForEntropy=i.randomString=i.randomUint32=i.randomBytes=i.defaultRandomSource=void 0;let l=c(5147),_=c(9437),v=c(52887);function randomBytes(t,c=i.defaultRandomSource){return c.randomBytes(t)}i.defaultRandomSource=new l.SystemRandomSource,i.randomBytes=randomBytes,i.randomUint32=function(t=i.defaultRandomSource){let c=randomBytes(4,t),l=(0,_.readUint32LE)(c);return(0,v.wipe)(c),l};let I="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function randomString(t,c=I,l=i.defaultRandomSource){if(c.length<2)throw Error("randomString charset is too short");if(c.length>256)throw Error("randomString charset is too long");let _="",N=c.length,U=256-256%N;for(;t>0;){let i=randomBytes(Math.ceil(256*t/U),l);for(let l=0;l<i.length&&t>0;l++){let v=i[l];v<U&&(_+=c.charAt(v%N),t--)}(0,v.wipe)(i)}return _}i.randomString=randomString,i.randomStringForEntropy=function(t,c=I,l=i.defaultRandomSource){let _=Math.ceil(t/(Math.log(c.length)/Math.LN2));return randomString(_,c,l)}},82017:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BrowserRandomSource=void 0,i.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let i=new Uint8Array(t);for(let t=0;t<i.length;t+=65536)this._crypto.getRandomValues(i.subarray(t,t+Math.min(i.length-t,65536)));return i}}},17879:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.NodeRandomSource=void 0;let l=c(52887);i.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let t=c(75477);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let i=this._crypto.randomBytes(t);if(i.length!==t)throw Error("NodeRandomSource: got fewer bytes than requested");let c=new Uint8Array(t);for(let t=0;t<c.length;t++)c[t]=i[t];return(0,l.wipe)(i),c}}},5147:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SystemRandomSource=void 0;let l=c(82017),_=c(17879);i.SystemRandomSource=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new l.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new _.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},49013:function(t,i,c){"use strict";var l=c(9437),_=c(52887);i.k=32,i.cn=64;var v=function(){function SHA256(){this.digestLength=i.k,this.blockSize=i.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return SHA256.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},SHA256.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},SHA256.prototype.clean=function(){_.wipe(this._buffer),_.wipe(this._temp),this.reset()},SHA256.prototype.update=function(t,i){if(void 0===i&&(i=t.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var c=0;if(this._bytesHashed+=i,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&i>0;)this._buffer[this._bufferLength++]=t[c++],i--;this._bufferLength===this.blockSize&&(hashBlocks(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(i>=this.blockSize&&(c=hashBlocks(this._temp,this._state,t,c,i),i%=this.blockSize);i>0;)this._buffer[this._bufferLength++]=t[c++],i--;return this},SHA256.prototype.finish=function(t){if(!this._finished){var i=this._bytesHashed,c=this._bufferLength,_=i%64<56?64:128;this._buffer[c]=128;for(var v=c+1;v<_-8;v++)this._buffer[v]=0;l.writeUint32BE(i/536870912|0,this._buffer,_-8),l.writeUint32BE(i<<3,this._buffer,_-4),hashBlocks(this._temp,this._state,this._buffer,0,_),this._finished=!0}for(var v=0;v<this.digestLength/4;v++)l.writeUint32BE(this._state[v],t,4*v);return this},SHA256.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},SHA256.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},SHA256.prototype.restoreState=function(t){return this._state.set(t.state),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},SHA256.prototype.cleanSavedState=function(t){_.wipe(t.state),t.buffer&&_.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},SHA256}();i.mE=v;var I=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function hashBlocks(t,i,c,_,v){for(;v>=64;){for(var N=i[0],U=i[1],M=i[2],k=i[3],B=i[4],W=i[5],J=i[6],X=i[7],Q=0;Q<16;Q++){var er=_+4*Q;t[Q]=l.readUint32BE(c,er)}for(var Q=16;Q<64;Q++){var es=t[Q-2],ea=(es>>>17|es<<15)^(es>>>19|es<<13)^es>>>10,eo=((es=t[Q-15])>>>7|es<<25)^(es>>>18|es<<14)^es>>>3;t[Q]=(ea+t[Q-7]|0)+(eo+t[Q-16]|0)}for(var Q=0;Q<64;Q++){var ea=(((B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7))+(B&W^~B&J)|0)+(X+(I[Q]+t[Q]|0)|0)|0,eo=((N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10))+(N&U^N&M^U&M)|0;X=J,J=W,W=B,B=k+ea|0,k=M,M=U,U=N,N=ea+eo|0}i[0]+=N,i[1]+=U,i[2]+=M,i[3]+=k,i[4]+=B,i[5]+=W,i[6]+=J,i[7]+=X,_+=64,v-=64}return _}i.vp=function(t){var i=new v;i.update(t);var c=i.digest();return i.clean(),c}},46756:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=c(9437),_=c(52887);i.DIGEST_LENGTH=64,i.BLOCK_SIZE=128;var v=function(){function SHA512(){this.digestLength=i.DIGEST_LENGTH,this.blockSize=i.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return SHA512.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},SHA512.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},SHA512.prototype.clean=function(){_.wipe(this._buffer),_.wipe(this._tempHi),_.wipe(this._tempLo),this.reset()},SHA512.prototype.update=function(t,c){if(void 0===c&&(c=t.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var l=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<i.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=t[l++],c--;this._bufferLength===this.blockSize&&(hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(l=hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,l,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=t[l++],c--;return this},SHA512.prototype.finish=function(t){if(!this._finished){var i=this._bytesHashed,c=this._bufferLength,_=i%128<112?128:256;this._buffer[c]=128;for(var v=c+1;v<_-8;v++)this._buffer[v]=0;l.writeUint32BE(i/536870912|0,this._buffer,_-8),l.writeUint32BE(i<<3,this._buffer,_-4),hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,_),this._finished=!0}for(var v=0;v<this.digestLength/8;v++)l.writeUint32BE(this._stateHi[v],t,8*v),l.writeUint32BE(this._stateLo[v],t,8*v+4);return this},SHA512.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},SHA512.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},SHA512.prototype.restoreState=function(t){return this._stateHi.set(t.stateHi),this._stateLo.set(t.stateLo),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},SHA512.prototype.cleanSavedState=function(t){_.wipe(t.stateHi),_.wipe(t.stateLo),t.buffer&&_.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},SHA512}();i.SHA512=v;var I=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function hashBlocks(t,i,c,_,v,N,U){for(var M,k,B,W,J,X,Q,er,es=c[0],ea=c[1],eo=c[2],ec=c[3],el=c[4],eh=c[5],ef=c[6],ed=c[7],ep=_[0],e_=_[1],eg=_[2],ey=_[3],ev=_[4],em=_[5],eb=_[6],ew=_[7];U>=128;){for(var eE=0;eE<16;eE++){var eD=8*eE+N;t[eE]=l.readUint32BE(v,eD),i[eE]=l.readUint32BE(v,eD+4)}for(var eE=0;eE<80;eE++){var eS=es,eI=ea,ex=eo,eC=ec,eO=el,eP=eh,eA=ef,eN=ed,eR=ep,ej=e_,eT=eg,eU=ey,eL=ev,eM=em,ek=eb,ez=ew;if(M=ed,J=65535&(k=ew),X=k>>>16,Q=65535&M,er=M>>>16,M=(el>>>14|ev<<18)^(el>>>18|ev<<14)^(ev>>>9|el<<23),J+=65535&(k=(ev>>>14|el<<18)^(ev>>>18|el<<14)^(el>>>9|ev<<23)),X+=k>>>16,Q+=65535&M,er+=M>>>16,M=el&eh^~el&ef,J+=65535&(k=ev&em^~ev&eb),X+=k>>>16,Q+=65535&M,er+=M>>>16,M=I[2*eE],J+=65535&(k=I[2*eE+1]),X+=k>>>16,Q+=65535&M,er+=M>>>16,M=t[eE%16],J+=65535&(k=i[eE%16]),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,B=65535&Q|er<<16,W=65535&J|X<<16,M=B,J=65535&(k=W),X=k>>>16,Q=65535&M,er=M>>>16,M=(es>>>28|ep<<4)^(ep>>>2|es<<30)^(ep>>>7|es<<25),J+=65535&(k=(ep>>>28|es<<4)^(es>>>2|ep<<30)^(es>>>7|ep<<25)),X+=k>>>16,Q+=65535&M,er+=M>>>16,M=es&ea^es&eo^ea&eo,J+=65535&(k=ep&e_^ep&eg^e_&eg),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,eN=65535&Q|er<<16,ez=65535&J|X<<16,M=eC,J=65535&(k=eU),X=k>>>16,Q=65535&M,er=M>>>16,M=B,J+=65535&(k=W),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,eC=65535&Q|er<<16,eU=65535&J|X<<16,ea=eS,eo=eI,ec=ex,el=eC,eh=eO,ef=eP,ed=eA,es=eN,e_=eR,eg=ej,ey=eT,ev=eU,em=eL,eb=eM,ew=ek,ep=ez,eE%16==15)for(var eD=0;eD<16;eD++)M=t[eD],J=65535&(k=i[eD]),X=k>>>16,Q=65535&M,er=M>>>16,M=t[(eD+9)%16],J+=65535&(k=i[(eD+9)%16]),X+=k>>>16,Q+=65535&M,er+=M>>>16,M=((B=t[(eD+1)%16])>>>1|(W=i[(eD+1)%16])<<31)^(B>>>8|W<<24)^B>>>7,J+=65535&(k=(W>>>1|B<<31)^(W>>>8|B<<24)^(W>>>7|B<<25)),X+=k>>>16,Q+=65535&M,er+=M>>>16,M=((B=t[(eD+14)%16])>>>19|(W=i[(eD+14)%16])<<13)^(W>>>29|B<<3)^B>>>6,J+=65535&(k=(W>>>19|B<<13)^(B>>>29|W<<3)^(W>>>6|B<<26)),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,t[eD]=65535&Q|er<<16,i[eD]=65535&J|X<<16}M=es,J=65535&(k=ep),X=k>>>16,Q=65535&M,er=M>>>16,M=c[0],J+=65535&(k=_[0]),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,c[0]=es=65535&Q|er<<16,_[0]=ep=65535&J|X<<16,M=ea,J=65535&(k=e_),X=k>>>16,Q=65535&M,er=M>>>16,M=c[1],J+=65535&(k=_[1]),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,c[1]=ea=65535&Q|er<<16,_[1]=e_=65535&J|X<<16,M=eo,J=65535&(k=eg),X=k>>>16,Q=65535&M,er=M>>>16,M=c[2],J+=65535&(k=_[2]),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,c[2]=eo=65535&Q|er<<16,_[2]=eg=65535&J|X<<16,M=ec,J=65535&(k=ey),X=k>>>16,Q=65535&M,er=M>>>16,M=c[3],J+=65535&(k=_[3]),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,c[3]=ec=65535&Q|er<<16,_[3]=ey=65535&J|X<<16,M=el,J=65535&(k=ev),X=k>>>16,Q=65535&M,er=M>>>16,M=c[4],J+=65535&(k=_[4]),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,c[4]=el=65535&Q|er<<16,_[4]=ev=65535&J|X<<16,M=eh,J=65535&(k=em),X=k>>>16,Q=65535&M,er=M>>>16,M=c[5],J+=65535&(k=_[5]),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,c[5]=eh=65535&Q|er<<16,_[5]=em=65535&J|X<<16,M=ef,J=65535&(k=eb),X=k>>>16,Q=65535&M,er=M>>>16,M=c[6],J+=65535&(k=_[6]),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,c[6]=ef=65535&Q|er<<16,_[6]=eb=65535&J|X<<16,M=ed,J=65535&(k=ew),X=k>>>16,Q=65535&M,er=M>>>16,M=c[7],J+=65535&(k=_[7]),X+=k>>>16,Q+=65535&M,er+=M>>>16,X+=J>>>16,Q+=X>>>16,er+=Q>>>16,c[7]=ed=65535&Q|er<<16,_[7]=ew=65535&J|X<<16,N+=128,U-=128}return N}i.hash=function(t){var i=new v;i.update(t);var c=i.digest();return i.clean(),c}},52887:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.wipe=function(t){for(var i=0;i<t.length;i++)t[i]=0;return t}},60550:function(t,i,c){"use strict";i.gi=i.Au=i.KS=i.kz=void 0;let l=c(81293),_=c(52887);function gf(t){let i=new Float64Array(16);if(t)for(let c=0;c<t.length;c++)i[c]=t[c];return i}i.kz=32,i.KS=32;let v=new Uint8Array(32);v[0]=9;let I=gf([56129,1]);function car25519(t){let i=1;for(let c=0;c<16;c++){let l=t[c]+i+65535;i=Math.floor(l/65536),t[c]=l-65536*i}t[0]+=i-1+37*(i-1)}function sel25519(t,i,c){let l=~(c-1);for(let c=0;c<16;c++){let _=l&(t[c]^i[c]);t[c]^=_,i[c]^=_}}function add(t,i,c){for(let l=0;l<16;l++)t[l]=i[l]+c[l]}function sub(t,i,c){for(let l=0;l<16;l++)t[l]=i[l]-c[l]}function mul(t,i,c){let l,_,v=0,I=0,N=0,U=0,M=0,k=0,B=0,W=0,J=0,X=0,Q=0,er=0,es=0,ea=0,eo=0,ec=0,el=0,eh=0,ef=0,ed=0,ep=0,e_=0,eg=0,ey=0,ev=0,em=0,eb=0,ew=0,eE=0,eD=0,eS=0,eI=c[0],ex=c[1],eC=c[2],eO=c[3],eP=c[4],eA=c[5],eN=c[6],eR=c[7],ej=c[8],eT=c[9],eU=c[10],eL=c[11],eM=c[12],ek=c[13],ez=c[14],e$=c[15];v+=(l=i[0])*eI,I+=l*ex,N+=l*eC,U+=l*eO,M+=l*eP,k+=l*eA,B+=l*eN,W+=l*eR,J+=l*ej,X+=l*eT,Q+=l*eU,er+=l*eL,es+=l*eM,ea+=l*ek,eo+=l*ez,ec+=l*e$,I+=(l=i[1])*eI,N+=l*ex,U+=l*eC,M+=l*eO,k+=l*eP,B+=l*eA,W+=l*eN,J+=l*eR,X+=l*ej,Q+=l*eT,er+=l*eU,es+=l*eL,ea+=l*eM,eo+=l*ek,ec+=l*ez,el+=l*e$,N+=(l=i[2])*eI,U+=l*ex,M+=l*eC,k+=l*eO,B+=l*eP,W+=l*eA,J+=l*eN,X+=l*eR,Q+=l*ej,er+=l*eT,es+=l*eU,ea+=l*eL,eo+=l*eM,ec+=l*ek,el+=l*ez,eh+=l*e$,U+=(l=i[3])*eI,M+=l*ex,k+=l*eC,B+=l*eO,W+=l*eP,J+=l*eA,X+=l*eN,Q+=l*eR,er+=l*ej,es+=l*eT,ea+=l*eU,eo+=l*eL,ec+=l*eM,el+=l*ek,eh+=l*ez,ef+=l*e$,M+=(l=i[4])*eI,k+=l*ex,B+=l*eC,W+=l*eO,J+=l*eP,X+=l*eA,Q+=l*eN,er+=l*eR,es+=l*ej,ea+=l*eT,eo+=l*eU,ec+=l*eL,el+=l*eM,eh+=l*ek,ef+=l*ez,ed+=l*e$,k+=(l=i[5])*eI,B+=l*ex,W+=l*eC,J+=l*eO,X+=l*eP,Q+=l*eA,er+=l*eN,es+=l*eR,ea+=l*ej,eo+=l*eT,ec+=l*eU,el+=l*eL,eh+=l*eM,ef+=l*ek,ed+=l*ez,ep+=l*e$,B+=(l=i[6])*eI,W+=l*ex,J+=l*eC,X+=l*eO,Q+=l*eP,er+=l*eA,es+=l*eN,ea+=l*eR,eo+=l*ej,ec+=l*eT,el+=l*eU,eh+=l*eL,ef+=l*eM,ed+=l*ek,ep+=l*ez,e_+=l*e$,W+=(l=i[7])*eI,J+=l*ex,X+=l*eC,Q+=l*eO,er+=l*eP,es+=l*eA,ea+=l*eN,eo+=l*eR,ec+=l*ej,el+=l*eT,eh+=l*eU,ef+=l*eL,ed+=l*eM,ep+=l*ek,e_+=l*ez,eg+=l*e$,J+=(l=i[8])*eI,X+=l*ex,Q+=l*eC,er+=l*eO,es+=l*eP,ea+=l*eA,eo+=l*eN,ec+=l*eR,el+=l*ej,eh+=l*eT,ef+=l*eU,ed+=l*eL,ep+=l*eM,e_+=l*ek,eg+=l*ez,ey+=l*e$,X+=(l=i[9])*eI,Q+=l*ex,er+=l*eC,es+=l*eO,ea+=l*eP,eo+=l*eA,ec+=l*eN,el+=l*eR,eh+=l*ej,ef+=l*eT,ed+=l*eU,ep+=l*eL,e_+=l*eM,eg+=l*ek,ey+=l*ez,ev+=l*e$,Q+=(l=i[10])*eI,er+=l*ex,es+=l*eC,ea+=l*eO,eo+=l*eP,ec+=l*eA,el+=l*eN,eh+=l*eR,ef+=l*ej,ed+=l*eT,ep+=l*eU,e_+=l*eL,eg+=l*eM,ey+=l*ek,ev+=l*ez,em+=l*e$,er+=(l=i[11])*eI,es+=l*ex,ea+=l*eC,eo+=l*eO,ec+=l*eP,el+=l*eA,eh+=l*eN,ef+=l*eR,ed+=l*ej,ep+=l*eT,e_+=l*eU,eg+=l*eL,ey+=l*eM,ev+=l*ek,em+=l*ez,eb+=l*e$,es+=(l=i[12])*eI,ea+=l*ex,eo+=l*eC,ec+=l*eO,el+=l*eP,eh+=l*eA,ef+=l*eN,ed+=l*eR,ep+=l*ej,e_+=l*eT,eg+=l*eU,ey+=l*eL,ev+=l*eM,em+=l*ek,eb+=l*ez,ew+=l*e$,ea+=(l=i[13])*eI,eo+=l*ex,ec+=l*eC,el+=l*eO,eh+=l*eP,ef+=l*eA,ed+=l*eN,ep+=l*eR,e_+=l*ej,eg+=l*eT,ey+=l*eU,ev+=l*eL,em+=l*eM,eb+=l*ek,ew+=l*ez,eE+=l*e$,eo+=(l=i[14])*eI,ec+=l*ex,el+=l*eC,eh+=l*eO,ef+=l*eP,ed+=l*eA,ep+=l*eN,e_+=l*eR,eg+=l*ej,ey+=l*eT,ev+=l*eU,em+=l*eL,eb+=l*eM,ew+=l*ek,eE+=l*ez,eD+=l*e$,ec+=(l=i[15])*eI,el+=l*ex,eh+=l*eC,ef+=l*eO,ed+=l*eP,ep+=l*eA,e_+=l*eN,eg+=l*eR,ey+=l*ej,ev+=l*eT,em+=l*eU,eb+=l*eL,ew+=l*eM,eE+=l*ek,eD+=l*ez,eS+=l*e$,v+=38*el,I+=38*eh,N+=38*ef,U+=38*ed,M+=38*ep,k+=38*e_,B+=38*eg,W+=38*ey,J+=38*ev,X+=38*em,Q+=38*eb,er+=38*ew,es+=38*eE,ea+=38*eD,eo+=38*eS,_=Math.floor((l=v+(_=1)+65535)/65536),v=l-65536*_,_=Math.floor((l=I+_+65535)/65536),I=l-65536*_,_=Math.floor((l=N+_+65535)/65536),N=l-65536*_,_=Math.floor((l=U+_+65535)/65536),U=l-65536*_,_=Math.floor((l=M+_+65535)/65536),M=l-65536*_,_=Math.floor((l=k+_+65535)/65536),k=l-65536*_,_=Math.floor((l=B+_+65535)/65536),B=l-65536*_,_=Math.floor((l=W+_+65535)/65536),W=l-65536*_,_=Math.floor((l=J+_+65535)/65536),J=l-65536*_,_=Math.floor((l=X+_+65535)/65536),X=l-65536*_,_=Math.floor((l=Q+_+65535)/65536),Q=l-65536*_,_=Math.floor((l=er+_+65535)/65536),er=l-65536*_,_=Math.floor((l=es+_+65535)/65536),es=l-65536*_,_=Math.floor((l=ea+_+65535)/65536),ea=l-65536*_,_=Math.floor((l=eo+_+65535)/65536),eo=l-65536*_,_=Math.floor((l=ec+_+65535)/65536),ec=l-65536*_,v+=_-1+37*(_-1),_=Math.floor((l=v+(_=1)+65535)/65536),v=l-65536*_,_=Math.floor((l=I+_+65535)/65536),I=l-65536*_,_=Math.floor((l=N+_+65535)/65536),N=l-65536*_,_=Math.floor((l=U+_+65535)/65536),U=l-65536*_,_=Math.floor((l=M+_+65535)/65536),M=l-65536*_,_=Math.floor((l=k+_+65535)/65536),k=l-65536*_,_=Math.floor((l=B+_+65535)/65536),B=l-65536*_,_=Math.floor((l=W+_+65535)/65536),W=l-65536*_,_=Math.floor((l=J+_+65535)/65536),J=l-65536*_,_=Math.floor((l=X+_+65535)/65536),X=l-65536*_,_=Math.floor((l=Q+_+65535)/65536),Q=l-65536*_,_=Math.floor((l=er+_+65535)/65536),er=l-65536*_,_=Math.floor((l=es+_+65535)/65536),es=l-65536*_,_=Math.floor((l=ea+_+65535)/65536),ea=l-65536*_,_=Math.floor((l=eo+_+65535)/65536),eo=l-65536*_,_=Math.floor((l=ec+_+65535)/65536),ec=l-65536*_,v+=_-1+37*(_-1),t[0]=v,t[1]=I,t[2]=N,t[3]=U,t[4]=M,t[5]=k,t[6]=B,t[7]=W,t[8]=J,t[9]=X,t[10]=Q,t[11]=er,t[12]=es,t[13]=ea,t[14]=eo,t[15]=ec}function scalarMult(t,i){let c=new Uint8Array(32),l=new Float64Array(80),_=gf(),v=gf(),N=gf(),U=gf(),M=gf(),k=gf();for(let i=0;i<31;i++)c[i]=t[i];c[31]=127&t[31]|64,c[0]&=248,function(t,i){for(let c=0;c<16;c++)t[c]=i[2*c]+(i[2*c+1]<<8);t[15]&=32767}(l,i);for(let t=0;t<16;t++)v[t]=l[t];_[0]=U[0]=1;for(let t=254;t>=0;--t){let i=c[t>>>3]>>>(7&t)&1;sel25519(_,v,i),sel25519(N,U,i),add(M,_,N),sub(_,_,N),add(N,v,U),sub(v,v,U),mul(U,M,M),mul(k,_,_),mul(_,N,_),mul(N,v,M),add(M,_,N),sub(_,_,N),mul(v,_,_),sub(N,U,k),mul(_,N,I),add(_,_,U),mul(N,N,_),mul(_,U,k),mul(U,v,l),mul(v,M,M),sel25519(_,v,i),sel25519(N,U,i)}for(let t=0;t<16;t++)l[t+16]=_[t],l[t+32]=N[t],l[t+48]=v[t],l[t+64]=U[t];let B=l.subarray(32),W=l.subarray(16);!function(t,i){let c=gf();for(let t=0;t<16;t++)c[t]=i[t];for(let t=253;t>=0;t--)mul(c,c,c),2!==t&&4!==t&&mul(c,c,i);for(let i=0;i<16;i++)t[i]=c[i]}(B,B),mul(W,W,B);let J=new Uint8Array(32);return!function(t,i){let c=gf(),l=gf();for(let t=0;t<16;t++)l[t]=i[t];car25519(l),car25519(l),car25519(l);for(let t=0;t<2;t++){c[0]=l[0]-65517;for(let t=1;t<15;t++)c[t]=l[t]-65535-(c[t-1]>>16&1),c[t-1]&=65535;c[15]=l[15]-32767-(c[14]>>16&1);let t=c[15]>>16&1;c[14]&=65535,sel25519(l,c,1-t)}for(let i=0;i<16;i++)t[2*i]=255&l[i],t[2*i+1]=l[i]>>8}(J,W),J}i.Au=function(t){let c=(0,l.randomBytes)(32,t),I=function(t){if(t.length!==i.KS)throw Error(`x25519: seed must be ${i.KS} bytes`);let c=new Uint8Array(t),l=scalarMult(c,v);return{publicKey:l,secretKey:c}}(c);return(0,_.wipe)(c),I},i.gi=function(t,c,l=!1){if(t.length!==i.kz)throw Error("X25519: incorrect secret key length");if(c.length!==i.kz)throw Error("X25519: incorrect public key length");let _=scalarMult(t,c);if(l){let t=0;for(let i=0;i<_.length;i++)t|=_[i];if(0===t)throw Error("X25519: invalid shared key")}return _}},50777:function(t,i,c){"use strict";c.d(i,{OPTIONAL_EVENTS:function(){return n$},OPTIONAL_METHODS:function(){return nk},default:function(){return dist_index_es_m}});var l={};c.r(l),c.d(l,{identity:function(){return ed}});var _={};c.r(_),c.d(_,{base2:function(){return ep}});var v={};c.r(v),c.d(v,{base8:function(){return e_}});var I={};c.r(I),c.d(I,{base10:function(){return eg}});var N={};c.r(N),c.d(N,{base16:function(){return ey},base16upper:function(){return ev}});var U={};c.r(U),c.d(U,{base32:function(){return em},base32hex:function(){return eD},base32hexpad:function(){return eI},base32hexpadupper:function(){return ex},base32hexupper:function(){return eS},base32pad:function(){return ew},base32padupper:function(){return eE},base32upper:function(){return eb},base32z:function(){return eC}});var M={};c.r(M),c.d(M,{base36:function(){return eO},base36upper:function(){return eP}});var k={};c.r(k),c.d(k,{base58btc:function(){return eA},base58flickr:function(){return eN}});var B={};c.r(B),c.d(B,{base64:function(){return eR},base64pad:function(){return ej},base64url:function(){return eT},base64urlpad:function(){return eU}});var W={};c.r(W),c.d(W,{base256emoji:function(){return ez}});var J={};c.r(J),c.d(J,{sha256:function(){return eH},sha512:function(){return eF}});var X={};c.r(X),c.d(X,{identity:function(){return eV}});var Q={};c.r(Q),c.d(Q,{code:function(){return eK},decode:function(){return raw_decode},encode:function(){return raw_encode},name:function(){return eB}});var er={};c.r(er),c.d(er,{code:function(){return eY},decode:function(){return json_decode},encode:function(){return json_encode},name:function(){return eJ}});var es=c(22699),ea=c.n(es),eo=c(42934),ec=c(71133),el=c(81293),eh=c(49013),ef=c(60550);function as_uint8array_asUint8Array(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function allocUnsafe(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?as_uint8array_asUint8Array(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function concat(t,i){i||(i=t.reduce((t,i)=>t+i.length,0));let c=allocUnsafe(i),l=0;for(let i of t)c.set(i,l),l+=i.length;return as_uint8array_asUint8Array(c)}var base_x=function(t,i){if(t.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),l=0;l<c.length;l++)c[l]=255;for(var _=0;_<t.length;_++){var v=t.charAt(_),I=v.charCodeAt(0);if(255!==c[I])throw TypeError(v+" is ambiguous");c[I]=_}var N=t.length,U=t.charAt(0),M=Math.log(N)/Math.log(256),k=Math.log(256)/Math.log(N);function decodeUnsafe(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;var i=0;if(" "!==t[0]){for(var l=0,_=0;t[i]===U;)l++,i++;for(var v=(t.length-i)*M+1>>>0,I=new Uint8Array(v);t[i];){var k=c[t.charCodeAt(i)];if(255===k)return;for(var B=0,W=v-1;(0!==k||B<_)&&-1!==W;W--,B++)k+=N*I[W]>>>0,I[W]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");_=B,i++}if(" "!==t[i]){for(var J=v-_;J!==v&&0===I[J];)J++;for(var X=new Uint8Array(l+(v-J)),Q=l;J!==v;)X[Q++]=I[J++];return X}}}return{encode:function(i){if(i instanceof Uint8Array||(ArrayBuffer.isView(i)?i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength):Array.isArray(i)&&(i=Uint8Array.from(i))),!(i instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===i.length)return"";for(var c=0,l=0,_=0,v=i.length;_!==v&&0===i[_];)_++,c++;for(var I=(v-_)*k+1>>>0,M=new Uint8Array(I);_!==v;){for(var B=i[_],W=0,J=I-1;(0!==B||W<l)&&-1!==J;J--,W++)B+=256*M[J]>>>0,M[J]=B%N>>>0,B=B/N>>>0;if(0!==B)throw Error("Non-zero carry");l=W,_++}for(var X=I-l;X!==I&&0===M[X];)X++;for(var Q=U.repeat(c);X<I;++X)Q+=t.charAt(M[X]);return Q},decodeUnsafe:decodeUnsafe,decode:function(t){var c=decodeUnsafe(t);if(c)return c;throw Error(`Non-${i} character`)}}};new Uint8Array(0);let equals=(t,i)=>{if(t===i)return!0;if(t.byteLength!==i.byteLength)return!1;for(let c=0;c<t.byteLength;c++)if(t[c]!==i[c])return!1;return!0},coerce=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw Error("Unknown type, must be binary type")},bytes_fromString=t=>new TextEncoder().encode(t),bytes_toString=t=>new TextDecoder().decode(t);let Encoder=class Encoder{constructor(t,i,c){this.name=t,this.prefix=i,this.baseEncode=c}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}};let Decoder=class Decoder{constructor(t,i,c){if(this.name=t,this.prefix=i,void 0===i.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=c}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return or(this,t)}};let ComposedDecoder=class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or(this,t)}decode(t){let i=t[0],c=this.decoders[i];if(c)return c.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};let or=(t,i)=>new ComposedDecoder({...t.decoders||{[t.prefix]:t},...i.decoders||{[i.prefix]:i}});let Codec=class Codec{constructor(t,i,c,l){this.name=t,this.prefix=i,this.baseEncode=c,this.baseDecode=l,this.encoder=new Encoder(t,i,c),this.decoder=new Decoder(t,i,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};let from=({name:t,prefix:i,encode:c,decode:l})=>new Codec(t,i,c,l),baseX=({prefix:t,name:i,alphabet:c})=>{let{encode:l,decode:_}=base_x(c,i);return from({prefix:t,name:i,encode:l,decode:t=>coerce(_(t))})},decode=(t,i,c,l)=>{let _={};for(let t=0;t<i.length;++t)_[i[t]]=t;let v=t.length;for(;"="===t[v-1];)--v;let I=new Uint8Array(v*c/8|0),N=0,U=0,M=0;for(let i=0;i<v;++i){let v=_[t[i]];if(void 0===v)throw SyntaxError(`Non-${l} character`);U=U<<c|v,(N+=c)>=8&&(N-=8,I[M++]=255&U>>N)}if(N>=c||255&U<<8-N)throw SyntaxError("Unexpected end of data");return I},encode=(t,i,c)=>{let l="="===i[i.length-1],_=(1<<c)-1,v="",I=0,N=0;for(let l=0;l<t.length;++l)for(N=N<<8|t[l],I+=8;I>c;)I-=c,v+=i[_&N>>I];if(I&&(v+=i[_&N<<c-I]),l)for(;v.length*c&7;)v+="=";return v},rfc4648=({name:t,prefix:i,bitsPerChar:c,alphabet:l})=>from({prefix:i,name:t,encode:t=>encode(t,l,c),decode:i=>decode(i,l,c,t)}),ed=from({prefix:"\x00",name:"identity",encode:t=>bytes_toString(t),decode:t=>bytes_fromString(t)}),ep=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),e_=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),eg=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),ey=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ev=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),em=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eb=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ew=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eE=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eD=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eS=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eI=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ex=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eC=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),eO=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),eP=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),eA=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eN=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),eR=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ej=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),eT=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),eU=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),eL=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),eM=eL.reduce((t,i,c)=>(t[c]=i,t),[]),ek=eL.reduce((t,i,c)=>(t[i.codePointAt(0)]=c,t),[]),ez=from({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(t){return t.reduce((t,i)=>t+=eM[i],"")},decode:function(t){let i=[];for(let c of t){let t=ek[c.codePointAt(0)];if(void 0===t)throw Error(`Non-base256emoji character: ${c}`);i.push(t)}return new Uint8Array(i)}});function varint_encode(t,i,c){i=i||[];for(var l=c=c||0;t>=2147483648;)i[c++]=255&t|128,t/=128;for(;-128&t;)i[c++]=255&t|128,t>>>=7;return i[c]=0|t,varint_encode.bytes=c-l+1,i}function read(t,i){var c,l=0,i=i||0,_=0,v=i,I=t.length;do{if(v>=I)throw read.bytes=0,RangeError("Could not decode varint");c=t[v++],l+=_<28?(127&c)<<_:(127&c)*Math.pow(2,_),_+=7}while(c>=128);return read.bytes=v-i,l}var e$={encode:varint_encode,decode:read,encodingLength:function(t){return t<128?1:t<16384?2:t<2097152?3:t<268435456?4:t<34359738368?5:t<4398046511104?6:t<562949953421312?7:t<72057594037927940?8:t<0x7fffffffffffffff?9:10}};let src_varint_decode=(t,i=0)=>{let c=e$.decode(t,i);return[c,e$.decode.bytes]},encodeTo=(t,i,c=0)=>(e$.encode(t,i,c),i),encodingLength=t=>e$.encodingLength(t),create=(t,i)=>{let c=i.byteLength,l=encodingLength(t),_=l+encodingLength(c),v=new Uint8Array(_+c);return encodeTo(t,v,0),encodeTo(c,v,l),v.set(i,_),new Digest(t,c,i,v)},digest_decode=t=>{let i=coerce(t),[c,l]=src_varint_decode(i),[_,v]=src_varint_decode(i.subarray(l)),I=i.subarray(l+v);if(I.byteLength!==_)throw Error("Incorrect length");return new Digest(c,_,I,i)},digest_equals=(t,i)=>t===i||t.code===i.code&&t.size===i.size&&equals(t.bytes,i.bytes);let Digest=class Digest{constructor(t,i,c,l){this.code=t,this.size=i,this.digest=c,this.bytes=l}};let hasher_from=({name:t,code:i,encode:c})=>new Hasher(t,i,c);let Hasher=class Hasher{constructor(t,i,c){this.name=t,this.code=i,this.encode=c}digest(t){if(t instanceof Uint8Array){let i=this.encode(t);return i instanceof Uint8Array?create(this.code,i):i.then(t=>create(this.code,t))}throw Error("Unknown type, must be binary type")}};let sha=t=>async i=>new Uint8Array(await crypto.subtle.digest(t,i)),eH=hasher_from({name:"sha2-256",code:18,encode:sha("SHA-256")}),eF=hasher_from({name:"sha2-512",code:19,encode:sha("SHA-512")}),eV={code:0,name:"identity",encode:coerce,digest:t=>create(0,coerce(t))},eB="raw",eK=85,raw_encode=t=>coerce(t),raw_decode=t=>coerce(t),eG=new TextEncoder,eW=new TextDecoder,eJ="json",eY=512,json_encode=t=>eG.encode(JSON.stringify(t)),json_decode=t=>JSON.parse(eW.decode(t));let CID=class CID{constructor(t,i,c,l){this.code=i,this.version=t,this.multihash=c,this.bytes=l,this.byteOffset=l.byteOffset,this.byteLength=l.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:e1,byteLength:e1,code:e0,version:e0,multihash:e0,bytes:e0,_baseCache:e1,asCID:e1})}toV0(){if(0===this.version)return this;{let{code:t,multihash:i}=this;if(t!==eX)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(i.code!==eZ)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(i)}}toV1(){switch(this.version){case 0:{let{code:t,digest:i}=this.multihash,c=create(t,i);return CID.createV1(this.code,c)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&digest_equals(this.multihash,t.multihash)}toString(t){let{bytes:i,version:c,_baseCache:l}=this;return 0===c?toStringV0(i,l,t||eA.encoder):toStringV1(i,l,t||em.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return deprecate(/^0\.0/,e5),!!(t&&(t[eQ]||t.asCID===t))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof CID)return t;if(null!=t&&t.asCID===t){let{version:i,code:c,multihash:l,bytes:_}=t;return new CID(i,c,l,_||encodeCID(i,c,l.bytes))}if(null==t||!0!==t[eQ])return null;{let{version:i,multihash:c,code:l}=t,_=digest_decode(c);return CID.create(i,l,_)}}static create(t,i,c){if("number"!=typeof i)throw Error("String codecs are no longer supported");switch(t){case 0:if(i===eX)return new CID(t,i,c,c.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eX}) block encoding`);case 1:{let l=encodeCID(t,i,c.bytes);return new CID(t,i,c,l)}default:throw Error("Invalid version")}}static createV0(t){return CID.create(0,eX,t)}static createV1(t,i){return CID.create(1,t,i)}static decode(t){let[i,c]=CID.decodeFirst(t);if(c.length)throw Error("Incorrect length");return i}static decodeFirst(t){let i=CID.inspectBytes(t),c=i.size-i.multihashSize,l=coerce(t.subarray(c,c+i.multihashSize));if(l.byteLength!==i.multihashSize)throw Error("Incorrect length");let _=l.subarray(i.multihashSize-i.digestSize),v=new Digest(i.multihashCode,i.digestSize,_,l),I=0===i.version?CID.createV0(v):CID.createV1(i.codec,v);return[I,t.subarray(i.size)]}static inspectBytes(t){let i=0,next=()=>{let[c,l]=src_varint_decode(t.subarray(i));return i+=l,c},c=next(),l=eX;if(18===c?(c=0,i=0):1===c&&(l=next()),0!==c&&1!==c)throw RangeError(`Invalid CID version ${c}`);let _=i,v=next(),I=next(),N=i+I;return{version:c,codec:l,multihashCode:v,digestSize:I,multihashSize:N-_,size:N}}static parse(t,i){let[c,l]=parseCIDtoBytes(t,i),_=CID.decode(l);return _._baseCache.set(c,t),_}};let parseCIDtoBytes=(t,i)=>{switch(t[0]){case"Q":return[eA.prefix,(i||eA).decode(`${eA.prefix}${t}`)];case eA.prefix:return[eA.prefix,(i||eA).decode(t)];case em.prefix:return[em.prefix,(i||em).decode(t)];default:if(null==i)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],i.decode(t)]}},toStringV0=(t,i,c)=>{let{prefix:l}=c;if(l!==eA.prefix)throw Error(`Cannot string encode V0 in ${c.name} encoding`);let _=i.get(l);if(null!=_)return _;{let _=c.encode(t).slice(1);return i.set(l,_),_}},toStringV1=(t,i,c)=>{let{prefix:l}=c,_=i.get(l);if(null!=_)return _;{let _=c.encode(t);return i.set(l,_),_}},eX=112,eZ=18,encodeCID=(t,i,c)=>{let l=encodingLength(t),_=l+encodingLength(i),v=new Uint8Array(_+c.byteLength);return encodeTo(t,v,0),encodeTo(i,v,l),v.set(c,_),v},eQ=Symbol.for("@ipld/js-cid/CID"),e0={writable:!1,configurable:!1,enumerable:!0},e1={writable:!1,enumerable:!1,configurable:!1},deprecate=(t,i)=>{if(t.test("0.0.0-dev"))console.warn(i);else throw Error(i)},e5=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,e3={...l,..._,...v,...I,...N,...U,...M,...k,...B,...W};function createCodec(t,i,c,l){return{name:t,prefix:i,encoder:{name:t,prefix:i,encode:c},decoder:{decode:l}}}({...J,...X});let e2=createCodec("utf8","u",t=>{let i=new TextDecoder("utf8");return"u"+i.decode(t)},t=>{let i=new TextEncoder;return i.encode(t.substring(1))}),e6=createCodec("ascii","a",t=>{let i="a";for(let c=0;c<t.length;c++)i+=String.fromCharCode(t[c]);return i},t=>{t=t.substring(1);let i=allocUnsafe(t.length);for(let c=0;c<t.length;c++)i[c]=t.charCodeAt(c);return i}),e8={utf8:e2,"utf-8":e2,hex:e3.base16,latin1:e6,ascii:e6,binary:e6,...e3};function from_string_fromString(t,i="utf8"){let c=e8[i];if(!c)throw Error(`Unsupported encoding "${i}"`);return("utf8"===i||"utf-8"===i)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?as_uint8array_asUint8Array(globalThis.Buffer.from(t,"utf-8")):c.decoder.decode(`${c.prefix}${t}`)}function to_string_toString(t,i="utf8"){let c=e8[i];if(!c)throw Error(`Unsupported encoding "${i}"`);return("utf8"===i||"utf-8"===i)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):c.encoder.encode(t).substring(1)}var e4=c(54924),e9=c(10666),e7=c(4997),tt=c(51726),tn=c(34748);c(64187);let ts={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var to=c(93542);function V(t,i){return t.includes(":")?[t]:i.chains||[]}let tc="base10",tl="base16",th="base64pad",tf="utf8";function Un(){let t=(0,el.randomBytes)(32);return to_string_toString(t,tl)}function $n(t){let i=(0,eh.vp)(from_string_fromString(t,tf));return to_string_toString(i,tl)}function $(t){return Number(to_string_toString(t,tc))}function Z(t){let i=from_string_fromString(t,th),c=i.slice(0,1);if(1===$(c)){let t=i.slice(1,33),l=i.slice(33,45),_=i.slice(45);return{type:c,sealed:_,iv:l,senderPublicKey:t}}let l=i.slice(1,13),_=i.slice(13);return{type:c,sealed:_,iv:l}}function Ie(t){let i=t?.type||0;if(1===i){if(typeof t?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:i,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Vn(t){return 1===t.type&&"string"==typeof t.senderPublicKey&&"string"==typeof t.receiverPublicKey}var td=Object.defineProperty,tp=Object.getOwnPropertySymbols,t_=Object.prototype.hasOwnProperty,tg=Object.prototype.propertyIsEnumerable,Re=(t,i,c)=>i in t?td(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,we=(t,i)=>{for(var c in i||(i={}))t_.call(i,c)&&Re(t,c,i[c]);if(tp)for(var c of tp(i))tg.call(i,c)&&Re(t,c,i[c]);return t};let ty={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function ee(){return"u">typeof to&&"u">typeof to.versions&&"u">typeof to.versions.node}function $e(){return!(0,e7.getDocument)()&&!!(0,e7.getNavigator)()&&"ReactNative"===navigator.product}function je(){return!ee()&&!!(0,e7.getNavigator)()}function x(){return $e()?ty.reactNative:ee()?ty.node:je()?ty.browser:ty.unknown}function O(t,i){return t.filter(t=>i.includes(t)).length===t.length}function Wn(t){return Object.fromEntries(t.entries())}function Yn(t){return new Map(Object.entries(t))}function Xn(t=e9.FIVE_MINUTES,i){let c,l,_;let v=(0,e9.toMiliseconds)(t||e9.FIVE_MINUTES);return{resolve:t=>{_&&c&&(clearTimeout(_),c(t))},reject:t=>{_&&l&&(clearTimeout(_),l(t))},done:()=>new Promise((t,I)=>{_=setTimeout(()=>{I(Error(i))},v),c=t,l=I})}}function et(t,i,c){return new Promise(async(l,_)=>{let v=setTimeout(()=>_(Error(c)),i);try{let i=await t;l(i)}catch(t){_(t)}clearTimeout(v)})}function ne(t,i){if("string"==typeof i&&i.startsWith(`${t}:`))return i;if("topic"===t.toLowerCase()){if("string"!=typeof i)throw Error('Value must be "string" for expirer target type: topic');return`topic:${i}`}if("id"===t.toLowerCase()){if("number"!=typeof i)throw Error('Value must be "number" for expirer target type: id');return`id:${i}`}throw Error(`Unknown expirer target type: ${t}`)}function rt(t){let[i,c]=t.split(":"),l={id:void 0,topic:void 0};if("topic"===i&&"string"==typeof c)l.topic=c;else if("id"===i&&Number.isInteger(Number(c)))l.id=Number(c);else throw Error(`Invalid target, expected id:number or topic:string, got ${i}:${c}`);return l}function ot(t,i){return(0,e9.fromMiliseconds)((i||Date.now())+(0,e9.toMiliseconds)(t))}function st(t){return Date.now()>=(0,e9.toMiliseconds)(t)}function it(t,i){return`${t}${i?`:${i}`:""}`}function S(t=[],i=[]){return[...new Set([...t,...i])]}async function ct({id:t,topic:i,wcDeepLink:l}){try{if(!l)return;let _="string"==typeof l?JSON.parse(l):l,v=_?.href;if("string"!=typeof v)return;v.endsWith("/")&&(v=v.slice(0,-1));let I=`${v}/wc?requestId=${t}&sessionTopic=${i}`,N=x();N===ty.browser?window.open(I,"_self","noreferrer noopener"):N===ty.reactNative&&"u">typeof(null==c.g?void 0:c.g.Linking)&&await c.g.Linking.openURL(I)}catch(t){console.error(t)}}function at(t){return t?.relay||{protocol:"irn"}}function ut(t){let i=ts[t];if(typeof i>"u")throw Error(`Relay Protocol not supported: ${t}`);return i}var tv=Object.defineProperty,tm=Object.getOwnPropertySymbols,tb=Object.prototype.hasOwnProperty,tw=Object.prototype.propertyIsEnumerable,He=(t,i,c)=>i in t?tv(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,pt=(t,i)=>{for(var c in i||(i={}))tb.call(i,c)&&He(t,c,i[c]);if(tm)for(var c of tm(i))tw.call(i,c)&&He(t,c,i[c]);return t};function R(t){let i=[];return t.forEach(t=>{let[c,l]=t.split(":");i.push(`${c}:${l}`)}),i}function te(t){return t.includes(":")}function Ze(t){return te(t)?t.split(":")[0]:t}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let tE={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},tD={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function index_es_N(t,i){let{message:c,code:l}=tD[t];return{message:i?`${c} ${i}`:c,code:l}}function w(t,i){let{message:c,code:l}=tE[t];return{message:i?`${c} ${i}`:c,code:l}}function j(t,i){return!!Array.isArray(t)&&(!("u">typeof i)||!t.length||t.every(i))}function F(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function P(t){return typeof t>"u"}function m(t,i){return!!(i&&P(t))||"string"==typeof t&&!!t.trim().length}function H(t,i){return!!(i&&P(t))||"number"==typeof t&&!isNaN(t)}function q(t){return!!(m(t,!1)&&t.includes(":"))&&2===t.split(":").length}function oe(t){let i=!0;return j(t)?t.length&&(i=t.every(t=>m(t,!1))):i=!1,i}function se(t,i){let c=null;return Object.values(t).forEach(t=>{var l;let _;if(c)return;let v=(l=`${i}, namespace`,_=null,oe(t?.methods)?oe(t?.events)||(_=w("UNSUPPORTED_EVENTS",`${l}, events should be an array of strings or empty array for no events`)):_=w("UNSUPPORTED_METHODS",`${l}, methods should be an array of strings or empty array for no methods`),_);v&&(c=v)}),c}function sn(t,i){let c=null;if(t&&F(t)){let l;let _=se(t,i);_&&(c=_);let v=(l=null,Object.values(t).forEach(t=>{var c,_;let v;if(l)return;let I=(c=t?.accounts,_=`${i} namespace`,v=null,j(c)?c.forEach(t=>{v||function(t){if(m(t,!1)&&t.includes(":")){let i=t.split(":");if(3===i.length){let t=i[0]+":"+i[1];return!!i[2]&&q(t)}}return!1}(t)||(v=w("UNSUPPORTED_ACCOUNTS",`${_}, account ${t} should be a string and conform to "namespace:chainId:address" format`))}):v=w("UNSUPPORTED_ACCOUNTS",`${_}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),v);I&&(l=I)}),l);v&&(c=v)}else c=index_es_N("MISSING_OR_INVALID",`${i}, namespaces should be an object with data`);return c}function cn(t){return m(t.protocol,!0)}function Dt(t){return"u">typeof t}function Lt(t,i){return!(!q(i)||!(function(t){let i=[];return Object.values(t).forEach(t=>{i.push(...R(t.accounts))}),i})(t).includes(i))}function an(t,i,c){let l=null,_=function(t){let i={};return Object.keys(t).forEach(c=>{var l;c.includes(":")?i[c]=t[c]:null==(l=t[c].chains)||l.forEach(l=>{i[l]={methods:t[c].methods,events:t[c].events}})}),i}(t),v=function(t){let i={};return Object.keys(t).forEach(c=>{if(c.includes(":"))i[c]=t[c];else{let l=R(t[c].accounts);l?.forEach(l=>{i[l]={accounts:t[c].accounts.filter(t=>t.includes(`${l}:`)),methods:t[c].methods,events:t[c].events}})}}),i}(i),I=Object.keys(_),N=Object.keys(v),U=un(Object.keys(t)),M=un(Object.keys(i)),k=U.filter(t=>!M.includes(t));return k.length&&(l=index_es_N("NON_CONFORMING_NAMESPACES",`${c} namespaces keys don't satisfy requiredNamespaces.
      Required: ${k.toString()}
      Received: ${Object.keys(i).toString()}`)),O(I,N)||(l=index_es_N("NON_CONFORMING_NAMESPACES",`${c} namespaces chains don't satisfy required namespaces.
      Required: ${I.toString()}
      Approved: ${N.toString()}`)),Object.keys(i).forEach(t=>{if(!t.includes(":")||l)return;let _=R(i[t].accounts);_.includes(t)||(l=index_es_N("NON_CONFORMING_NAMESPACES",`${c} namespaces accounts don't satisfy namespace accounts for ${t}
        Required: ${t}
        Approved: ${_.toString()}`))}),I.forEach(t=>{l||(O(_[t].methods,v[t].methods)?O(_[t].events,v[t].events)||(l=index_es_N("NON_CONFORMING_NAMESPACES",`${c} namespaces events don't satisfy namespace events for ${t}`)):l=index_es_N("NON_CONFORMING_NAMESPACES",`${c} namespaces methods don't satisfy namespace methods for ${t}`))}),l}function un(t){return[...new Set(t.map(t=>t.includes(":")?t.split(":")[0]:t))]}var tS=c(68385),tI=c(67660),tx=c(52500),tC=c(5774);let n=class n extends tC.q{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}};let h=class h extends tC.q{constructor(t,i){super(),this.core=t,this.logger=i,this.records=new Map}};let a=class a{constructor(t,i){this.logger=t,this.core=i}};let u=class u extends tC.q{constructor(t,i){super(),this.relayer=t,this.logger=i}};let g=class g extends tC.q{constructor(t){super()}};let p=class p{constructor(t,i,c,l){this.core=t,this.logger=i,this.name=c}};let d=class d extends tC.q{constructor(t,i){super(),this.relayer=t,this.logger=i}};let E=class E extends tC.q{constructor(t,i){super(),this.core=t,this.logger=i}};let y=class y{constructor(t,i){this.projectId=t,this.logger=i}};let index_es_b=class index_es_b{constructor(t){this.opts=t,this.protocol="wc",this.version=2}};let index_es_S=class index_es_S{constructor(t){this.client=t}};var tO=c(42325),tP=c(27728);let tA="base64url",tN="base58btc";function encodeJSON(t){return to_string_toString(from_string_fromString((0,tO.u)(t),"utf8"),tA)}function encodeIss(t){let i=from_string_fromString("K36",tN),c="z"+to_string_toString(concat([i,t]),tN);return["did","key",c].join(":")}function generateKeyPair(t=(0,el.randomBytes)(32)){return tP._w(t)}async function signJWT(t,i,c,l,_=(0,e9.fromMiliseconds)(Date.now())){var v,I;let N={alg:"EdDSA",typ:"JWT"},U=encodeIss(l.publicKey),M={iss:U,sub:t,aud:i,iat:_,exp:_+c},k=from_string_fromString([encodeJSON((v={header:N,payload:M}).header),encodeJSON(v.payload)].join("."),"utf8"),B=tP.Xx(l.secretKey,k);return[encodeJSON((I={header:N,payload:M,signature:B}).header),encodeJSON(I.payload),to_string_toString(I.signature,tA)].join(".")}c(3947);var tR=c(23427),tj=c(55494);let isBrowser=()=>"undefined"!=typeof window,tT=void 0!==c.g&&void 0!==c.g.WebSocket?c.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:c(37031);var tU=class{constructor(t){if(this.url=t,this.events=new es.EventEmitter,this.registering=!1,!(0,tj.isWsUrl)(t))throw Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return void 0!==this.socket}get connecting(){return this.registering}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}off(t,i){this.events.off(t,i)}removeListener(t,i){this.events.removeListener(t,i)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,i)=>{if(void 0===this.socket){i(Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),t()},this.socket.close()})}async send(t,i){void 0===this.socket&&(this.socket=await this.register());try{this.socket.send((0,tO.u)(t))}catch(i){this.onError(t.id,i)}}register(t=this.url){if(!(0,tj.isWsUrl)(t))throw Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((t,i)=>{this.events.once("register_error",t=>{this.resetMaxListeners(),i(t)}),this.events.once("open",()=>{if(this.resetMaxListeners(),void 0===this.socket)return i(Error("WebSocket connection is missing or invalid"));t(this.socket)})})}return this.url=t,this.registering=!0,new Promise((i,c)=>{let l=(0,tj.isReactNative)()?void 0:{rejectUnauthorized:!(0,tj.isLocalhostUrl)(t)},_=new tT(t,[],l);isBrowser()?_.onerror=t=>{c(this.emitError(t.error))}:_.on("error",t=>{c(this.emitError(t))}),_.onopen=()=>{this.onOpen(_),i(_)}})}onOpen(t){t.onmessage=t=>this.onPayload(t),t.onclose=t=>this.onClose(t),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(void 0===t.data)return;let i="string"==typeof t.data?(0,tO.D)(t.data):t.data;this.events.emit("payload",i)}onError(t,i){let c=this.parseError(i),l=c.message||c.toString(),_=(0,tj.formatJsonRpcError)(t,l);this.events.emit("payload",_)}parseError(t,i=this.url){return(0,tj.parseConnectionError)(t,i,"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(t){let i=this.parseError(Error((null==t?void 0:t.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",i),i}},tL=c(33958),tM=c.n(tL),tk=c(93542),$i=function(t,i){if(t.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),l=0;l<c.length;l++)c[l]=255;for(var _=0;_<t.length;_++){var v=t.charAt(_),I=v.charCodeAt(0);if(255!==c[I])throw TypeError(v+" is ambiguous");c[I]=_}var N=t.length,U=t.charAt(0),M=Math.log(N)/Math.log(256),k=Math.log(256)/Math.log(N);function b(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;var i=0;if(" "!==t[0]){for(var l=0,_=0;t[i]===U;)l++,i++;for(var v=(t.length-i)*M+1>>>0,I=new Uint8Array(v);t[i];){var k=c[t.charCodeAt(i)];if(255===k)return;for(var B=0,W=v-1;(0!==k||B<_)&&-1!==W;W--,B++)k+=N*I[W]>>>0,I[W]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");_=B,i++}if(" "!==t[i]){for(var J=v-_;J!==v&&0===I[J];)J++;for(var X=new Uint8Array(l+(v-J)),Q=l;J!==v;)X[Q++]=I[J++];return X}}}return{encode:function(i){if(i instanceof Uint8Array||(ArrayBuffer.isView(i)?i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength):Array.isArray(i)&&(i=Uint8Array.from(i))),!(i instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===i.length)return"";for(var c=0,l=0,_=0,v=i.length;_!==v&&0===i[_];)_++,c++;for(var I=(v-_)*k+1>>>0,M=new Uint8Array(I);_!==v;){for(var B=i[_],W=0,J=I-1;(0!==B||W<l)&&-1!==J;J--,W++)B+=256*M[J]>>>0,M[J]=B%N>>>0,B=B/N>>>0;if(0!==B)throw Error("Non-zero carry");l=W,_++}for(var X=I-l;X!==I&&0===M[X];)X++;for(var Q=U.repeat(c);X<I;++X)Q+=t.charAt(M[X]);return Q},decodeUnsafe:b,decode:function(t){var c=b(t);if(c)return c;throw Error(`Non-${i} character`)}}};let index_es_Pe=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw Error("Unknown type, must be binary type")},Mi=t=>new TextEncoder().encode(t),Ki=t=>new TextDecoder().decode(t);let ki=class ki{constructor(t,i,c){this.name=t,this.prefix=i,this.baseEncode=c}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}};let Bi=class Bi{constructor(t,i,c){if(this.name=t,this.prefix=i,void 0===i.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=c}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return index_es_Oe(this,t)}};let ji=class ji{constructor(t){this.decoders=t}or(t){return index_es_Oe(this,t)}decode(t){let i=t[0],c=this.decoders[i];if(c)return c.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};let index_es_Oe=(t,i)=>new ji({...t.decoders||{[t.prefix]:t},...i.decoders||{[i.prefix]:i}});let Vi=class Vi{constructor(t,i,c,l){this.name=t,this.prefix=i,this.baseEncode=c,this.baseDecode=l,this.encoder=new ki(t,i,c),this.decoder=new Bi(t,i,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};let index_es_G=({name:t,prefix:i,encode:c,decode:l})=>new Vi(t,i,c,l),index_es_M=({prefix:t,name:i,alphabet:c})=>{let{encode:l,decode:_}=$i(c,i);return index_es_G({prefix:t,name:i,encode:l,decode:t=>index_es_Pe(_(t))})},qi=(t,i,c,l)=>{let _={};for(let t=0;t<i.length;++t)_[i[t]]=t;let v=t.length;for(;"="===t[v-1];)--v;let I=new Uint8Array(v*c/8|0),N=0,U=0,M=0;for(let i=0;i<v;++i){let v=_[t[i]];if(void 0===v)throw SyntaxError(`Non-${l} character`);U=U<<c|v,(N+=c)>=8&&(N-=8,I[M++]=255&U>>N)}if(N>=c||255&U<<8-N)throw SyntaxError("Unexpected end of data");return I},Gi=(t,i,c)=>{let l="="===i[i.length-1],_=(1<<c)-1,v="",I=0,N=0;for(let l=0;l<t.length;++l)for(N=N<<8|t[l],I+=8;I>c;)I-=c,v+=i[_&N>>I];if(I&&(v+=i[_&N<<c-I]),l)for(;v.length*c&7;)v+="=";return v},index_es_p=({name:t,prefix:i,bitsPerChar:c,alphabet:l})=>index_es_G({prefix:i,name:t,encode:t=>Gi(t,l,c),decode:i=>qi(i,l,c,t)}),tz=index_es_G({prefix:"\x00",name:"identity",encode:t=>Ki(t),decode:t=>Mi(t)});var t$=Object.freeze({__proto__:null,identity:tz});let tH=index_es_p({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var tq=Object.freeze({__proto__:null,base2:tH});let tF=index_es_p({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var tV=Object.freeze({__proto__:null,base8:tF});let tB=index_es_M({prefix:"9",name:"base10",alphabet:"0123456789"});var tK=Object.freeze({__proto__:null,base10:tB});let tG=index_es_p({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tW=index_es_p({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var tJ=Object.freeze({__proto__:null,base16:tG,base16upper:tW});let tY=index_es_p({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tX=index_es_p({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tZ=index_es_p({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tQ=index_es_p({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),t0=index_es_p({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),t1=index_es_p({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),t5=index_es_p({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),t3=index_es_p({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),t2=index_es_p({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var t6=Object.freeze({__proto__:null,base32:tY,base32upper:tX,base32pad:tZ,base32padupper:tQ,base32hex:t0,base32hexupper:t1,base32hexpad:t5,base32hexpadupper:t3,base32z:t2});let t8=index_es_M({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),t4=index_es_M({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var t9=Object.freeze({__proto__:null,base36:t8,base36upper:t4});let t7=index_es_M({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),re=index_es_M({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var rs=Object.freeze({__proto__:null,base58btc:t7,base58flickr:re});let ro=index_es_p({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),rc=index_es_p({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ru=index_es_p({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),rl=index_es_p({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var rf=Object.freeze({__proto__:null,base64:ro,base64pad:rc,base64url:ru,base64urlpad:rl});let rd=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),rp=rd.reduce((t,i,c)=>(t[c]=i,t),[]),r_=rd.reduce((t,i,c)=>(t[i.codePointAt(0)]=c,t),[]),rg=index_es_G({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(t){return t.reduce((t,i)=>t+=rp[i],"")},decode:function(t){let i=[];for(let c of t){let t=r_[c.codePointAt(0)];if(void 0===t)throw Error(`Non-base256emoji character: ${c}`);i.push(t)}return new Uint8Array(i)}});var ry=Object.freeze({__proto__:null,base256emoji:rg});function index_es_ze(t,i,c){i=i||[],c=c||0;for(var l=c;t>=2147483648;)i[c++]=255&t|128,t/=128;for(;-128&t;)i[c++]=255&t|128,t>>>=7;return i[c]=0|t,index_es_ze.bytes=c-l+1,i}function ae(t,i){var c,l=0,i=i||0,_=0,v=i,I=t.length;do{if(v>=I)throw ae.bytes=0,RangeError("Could not decode varint");c=t[v++],l+=_<28?(127&c)<<_:(127&c)*Math.pow(2,_),_+=7}while(c>=128);return ae.bytes=v-i,l}var rv={encode:index_es_ze,decode:ae,encodingLength:function(t){return t<128?1:t<16384?2:t<2097152?3:t<268435456?4:t<34359738368?5:t<4398046511104?6:t<562949953421312?7:t<72057594037927940?8:t<0x7fffffffffffffff?9:10}};let index_es_Le=(t,i,c=0)=>(rv.encode(t,i,c),i),index_es_Fe=t=>rv.encodingLength(t),index_es_oe=(t,i)=>{let c=i.byteLength,l=index_es_Fe(t),_=l+index_es_Fe(c),v=new Uint8Array(_+c);return index_es_Le(t,v,0),index_es_Le(c,v,l),v.set(i,_),new Js(t,c,i,v)};let Js=class Js{constructor(t,i,c,l){this.code=t,this.size=i,this.digest=c,this.bytes=l}};let index_es_$e=({name:t,code:i,encode:c})=>new Hs(t,i,c);let Hs=class Hs{constructor(t,i,c){this.name=t,this.code=i,this.encode=c}digest(t){if(t instanceof Uint8Array){let i=this.encode(t);return i instanceof Uint8Array?index_es_oe(this.code,i):i.then(t=>index_es_oe(this.code,t))}throw Error("Unknown type, must be binary type")}};let index_es_Me=t=>async i=>new Uint8Array(await crypto.subtle.digest(t,i)),rm=index_es_$e({name:"sha2-256",code:18,encode:index_es_Me("SHA-256")}),rb=index_es_$e({name:"sha2-512",code:19,encode:index_es_Me("SHA-512")});var rw=Object.freeze({__proto__:null,sha256:rm,sha512:rb}),rE=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:index_es_Pe,digest:t=>index_es_oe(0,index_es_Pe(t))}});new TextEncoder,new TextDecoder;let rD={...t$,...tq,...tV,...tK,...tJ,...t6,...t9,...rs,...rf,...ry};function index_es_je(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function index_es_Ve(t,i,c,l){return{name:t,prefix:i,encoder:{name:t,prefix:i,encode:c},decoder:{decode:l}}}({...rw,...rE});let rS=index_es_Ve("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),rI=index_es_Ve("ascii","a",t=>{let i="a";for(let c=0;c<t.length;c++)i+=String.fromCharCode(t[c]);return i},t=>{t=t.substring(1);let i=function(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?index_es_je(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}(t.length);for(let c=0;c<t.length;c++)i[c]=t.charCodeAt(c);return i}),rx={utf8:rS,"utf-8":rS,hex:rD.base16,latin1:rI,ascii:rI,binary:rI,...rD},rC="core",rO=`wc@2:${rC}:`,rP={logger:"error"},rA={database:":memory:"},rN="client_ed25519_seed",rR=e9.ONE_DAY,rj=e9.SIX_HOURS,rT="wss://relay.walletconnect.com",rU={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},rL={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},rM=e9.ONE_SECOND/2,rk={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},rz=1e3*e9.FIVE_SECONDS,r$={wc_pairingDelete:{req:{ttl:e9.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:e9.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:e9.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:e9.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:e9.ONE_DAY,prompt:!1,tag:0},res:{ttl:e9.ONE_DAY,prompt:!1,tag:0}}},rH={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},rq={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},rF="verify-api",rV="https://verify.walletconnect.com";let index_es_wt=class index_es_wt{constructor(t,i){this.core=t,this.logger=i,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=rO,this.init=async()=>{if(!this.initialized){let t=await this.getKeyChain();"u">typeof t&&(this.keychain=t),this.initialized=!0}},this.has=t=>(this.isInitialized(),this.keychain.has(t)),this.set=async(t,i)=>{this.isInitialized(),this.keychain.set(t,i),await this.persist()},this.get=t=>{this.isInitialized();let i=this.keychain.get(t);if(typeof i>"u"){let{message:i}=index_es_N("NO_MATCHING_KEY",`${this.name}: ${t}`);throw Error(i)}return i},this.del=async t=>{this.isInitialized(),this.keychain.delete(t),await this.persist()},this.core=t,this.logger=(0,tx.generateChildLogger)(i,this.name)}get context(){return(0,tx.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Wn(t))}async getKeyChain(){let t=await this.core.storage.getItem(this.storageKey);return"u">typeof t?Yn(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:t}=index_es_N("NOT_INITIALIZED",this.name);throw Error(t)}}};let index_es_vt=class index_es_vt{constructor(t,i,c){this.core=t,this.logger=i,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=t=>(this.isInitialized(),this.keychain.has(t)),this.getClientId=async()=>{this.isInitialized();let t=await this.getClientSeed(),i=generateKeyPair(t);return encodeIss(i.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let t=function(){let t=ef.Au();return{privateKey:to_string_toString(t.secretKey,tl),publicKey:to_string_toString(t.publicKey,tl)}}();return this.setPrivateKey(t.publicKey,t.privateKey)},this.signJWT=async t=>{this.isInitialized();let i=await this.getClientSeed(),c=generateKeyPair(i),l=Un();return await signJWT(l,t,rR,c)},this.generateSharedKey=(t,i,c)=>{this.isInitialized();let l=this.getPrivateKey(t),_=function(t,i){let c=ef.gi(from_string_fromString(t,tl),from_string_fromString(i,tl)),l=new ec.t(eh.mE,c).expand(32);return to_string_toString(l,tl)}(l,i);return this.setSymKey(_,c)},this.setSymKey=async(t,i)=>{this.isInitialized();let c=i||function(t){let i=(0,eh.vp)(from_string_fromString(t,tl));return to_string_toString(i,tl)}(t);return await this.keychain.set(c,t),c},this.deleteKeyPair=async t=>{this.isInitialized(),await this.keychain.del(t)},this.deleteSymKey=async t=>{this.isInitialized(),await this.keychain.del(t)},this.encode=async(t,i,c)=>{this.isInitialized();let l=Ie(c),_=(0,tO.u)(i);if(Vn(l)){let i=l.senderPublicKey,c=l.receiverPublicKey;t=await this.generateSharedKey(i,c)}let v=this.getSymKey(t),{type:I,senderPublicKey:N}=l;return function(t){var i;let c=(i="u">typeof t.type?t.type:0,from_string_fromString(`${i}`,tc));if(1===$(c)&&typeof t.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let l="u">typeof t.senderPublicKey?from_string_fromString(t.senderPublicKey,tl):void 0,_="u">typeof t.iv?from_string_fromString(t.iv,tl):(0,el.randomBytes)(12),v=new eo.OK(from_string_fromString(t.symKey,tl)).seal(_,from_string_fromString(t.message,tf));return function(t){if(1===$(t.type)){if(typeof t.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return to_string_toString(concat([t.type,t.senderPublicKey,t.iv,t.sealed]),th)}return to_string_toString(concat([t.type,t.iv,t.sealed]),th)}({type:c,sealed:v,iv:_,senderPublicKey:l})}({type:I,symKey:v,message:_,senderPublicKey:N})},this.decode=async(t,i,c)=>{this.isInitialized();let l=function(t,i){let c=Z(t);return Ie({type:$(c.type),senderPublicKey:"u">typeof c.senderPublicKey?to_string_toString(c.senderPublicKey,tl):void 0,receiverPublicKey:i?.receiverPublicKey})}(i,c);if(Vn(l)){let i=l.receiverPublicKey,c=l.senderPublicKey;t=await this.generateSharedKey(i,c)}let _=this.getSymKey(t),v=function(t){let i=new eo.OK(from_string_fromString(t.symKey,tl)),{sealed:c,iv:l}=Z(t.encoded),_=i.open(l,c);if(null===_)throw Error("Failed to decrypt");return to_string_toString(_,tf)}({symKey:_,encoded:i});return(0,tO.D)(v)},this.getPayloadType=t=>{let i=Z(t);return $(i.type)},this.getPayloadSenderPublicKey=t=>{let i=Z(t);return i.senderPublicKey?to_string_toString(i.senderPublicKey,tl):void 0},this.core=t,this.logger=(0,tx.generateChildLogger)(i,this.name),this.keychain=c||new index_es_wt(this.core,this.logger)}get context(){return(0,tx.getLoggerContext)(this.logger)}async setPrivateKey(t,i){return await this.keychain.set(t,i),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(rN)}catch{t=Un(),await this.keychain.set(rN,t)}return function(t,i="utf8"){let c=rx[i];if(!c)throw Error(`Unsupported encoding "${i}"`);return("utf8"===i||"utf-8"===i)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?index_es_je(globalThis.Buffer.from(t,"utf-8")):c.decoder.decode(`${c.prefix}${t}`)}(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){let{message:t}=index_es_N("NOT_INITIALIZED",this.name);throw Error(t)}}};let index_es_It=class index_es_It extends a{constructor(t,i){super(t,i),this.logger=t,this.core=i,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=rO,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let t=await this.getRelayerMessages();"u">typeof t&&(this.messages=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}finally{this.initialized=!0}}},this.set=async(t,i)=>{this.isInitialized();let c=$n(i),l=this.messages.get(t);return typeof l>"u"&&(l={}),"u">typeof l[c]||(l[c]=i,this.messages.set(t,l),await this.persist()),c},this.get=t=>{this.isInitialized();let i=this.messages.get(t);return typeof i>"u"&&(i={}),i},this.has=(t,i)=>{this.isInitialized();let c=this.get(t),l=$n(i);return"u">typeof c[l]},this.del=async t=>{this.isInitialized(),this.messages.delete(t),await this.persist()},this.logger=(0,tx.generateChildLogger)(t,this.name),this.core=i}get context(){return(0,tx.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Wn(t))}async getRelayerMessages(){let t=await this.core.storage.getItem(this.storageKey);return"u">typeof t?Yn(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:t}=index_es_N("NOT_INITIALIZED",this.name);throw Error(t)}}};let ur=class ur extends u{constructor(t,i){super(t,i),this.relayer=t,this.logger=i,this.events=new es.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,e9.toMiliseconds)(e9.TEN_SECONDS),this.queueTimeout=(0,e9.toMiliseconds)(e9.FIVE_SECONDS),this.needsTransportRestart=!1,this.publish=async(t,i,c)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:i,opts:c}});try{let l=c?.ttl||rj,_=at(c),v=c?.prompt||!1,I=c?.tag||0,N=c?.id||(0,tj.getBigIntRpcId)().toString(),U={topic:t,message:i,opts:{ttl:l,relay:_,prompt:v,tag:I,id:N}},M=setTimeout(()=>this.queue.set(N,U),this.queueTimeout);try{await await et(this.rpcPublish(t,i,l,_,v,I,N),this.publishTimeout),clearTimeout(M),this.relayer.events.emit(rU.publish,U)}catch{this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0;return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:i,opts:c}})}catch(t){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(t),t}},this.on=(t,i)=>{this.events.on(t,i)},this.once=(t,i)=>{this.events.once(t,i)},this.off=(t,i)=>{this.events.off(t,i)},this.removeListener=(t,i)=>{this.events.removeListener(t,i)},this.relayer=t,this.logger=(0,tx.generateChildLogger)(i,this.name),this.registerEventListeners()}get context(){return(0,tx.getLoggerContext)(this.logger)}rpcPublish(t,i,c,l,_,v,I){var N,U,M,k;let B={method:ut(l.protocol).publish,params:{topic:t,message:i,ttl:c,prompt:_,tag:v},id:I};return P(null==(N=B.params)?void 0:N.prompt)&&(null==(U=B.params)||delete U.prompt),P(null==(M=B.params)?void 0:M.tag)&&(null==(k=B.params)||delete k.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:B}),this.relayer.request(B)}onPublish(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{let{topic:i,message:c,opts:l}=t;await this.publish(i,c,l)})}registerEventListeners(){this.relayer.core.heartbeat.on(tI.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(rU.connection_stalled);return}this.checkQueue()}),this.relayer.on(rU.message_ack,t=>{this.onPublish(t.id.toString())})}};let lr=class lr{constructor(){this.map=new Map,this.set=(t,i)=>{let c=this.get(t);this.exists(t,i)||this.map.set(t,[...c,i])},this.get=t=>this.map.get(t)||[],this.exists=(t,i)=>this.get(t).includes(i),this.delete=(t,i)=>{if(typeof i>"u"){this.map.delete(t);return}if(!this.map.has(t))return;let c=this.get(t);if(!this.exists(t,i))return;let l=c.filter(t=>t!==i);if(!l.length){this.map.delete(t);return}this.map.set(t,l)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var rB=Object.defineProperty,rK=Object.defineProperties,rG=Object.getOwnPropertyDescriptors,rW=Object.getOwnPropertySymbols,rJ=Object.prototype.hasOwnProperty,rY=Object.prototype.propertyIsEnumerable,index_es_t=(t,i,c)=>i in t?rB(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,index_es_K=(t,i)=>{for(var c in i||(i={}))rJ.call(i,c)&&index_es_t(t,c,i[c]);if(rW)for(var c of rW(i))rY.call(i,c)&&index_es_t(t,c,i[c]);return t},index_es_ge=(t,i)=>rK(t,rG(i));let index_es_Rt=class index_es_Rt extends d{constructor(t,i){super(t,i),this.relayer=t,this.logger=i,this.subscriptions=new Map,this.topicMap=new lr,this.events=new es.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=rO,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(t,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:i}});try{let c=at(i),l={topic:t,relay:c};this.pending.set(t,l);let _=await this.rpcSubscribe(t,c);return this.onSubscribe(_,l),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:i}}),_}catch(t){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(t),t}},this.unsubscribe=async(t,i)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof i?.id?await this.unsubscribeById(t,i.id,i):await this.unsubscribeByTopic(t,i)},this.isSubscribed=async t=>!!this.topics.includes(t)||await new Promise((i,c)=>{let l=new e9.Watch;l.start(this.pendingSubscriptionWatchLabel);let _=setInterval(()=>{!this.pending.has(t)&&this.topics.includes(t)&&(clearInterval(_),l.stop(this.pendingSubscriptionWatchLabel),i(!0)),l.elapsed(this.pendingSubscriptionWatchLabel)>=rz&&(clearInterval(_),l.stop(this.pendingSubscriptionWatchLabel),c(Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(t,i)=>{this.events.on(t,i)},this.once=(t,i)=>{this.events.once(t,i)},this.off=(t,i)=>{this.events.off(t,i)},this.removeListener=(t,i)=>{this.events.removeListener(t,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=(0,tx.generateChildLogger)(i,this.name),this.clientId=""}get context(){return(0,tx.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,i){let c=!1;try{c=this.getSubscription(t).topic===i}catch{}return c}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,i){let c=this.topicMap.get(t);await Promise.all(c.map(async c=>await this.unsubscribeById(t,c,i)))}async unsubscribeById(t,i,c){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:i,opts:c}});try{let l=at(c);await this.rpcUnsubscribe(t,i,l);let _=w("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,i,_),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:i,opts:c}})}catch(t){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(t),t}}async rpcSubscribe(t,i){let c={method:ut(i.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});try{await await et(this.relayer.request(c),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(rU.connection_stalled)}return $n(t+this.clientId)}async rpcBatchSubscribe(t){if(!t.length)return;let i=t[0].relay,c={method:ut(i.protocol).batchSubscribe,params:{topics:t.map(t=>t.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});try{return await await et(this.relayer.request(c),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(rU.connection_stalled)}}rpcUnsubscribe(t,i,c){let l={method:ut(c.protocol).unsubscribe,params:{topic:t,id:i}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:l}),this.relayer.request(l)}onSubscribe(t,i){this.setSubscription(t,index_es_ge(index_es_K({},i),{id:t})),this.pending.delete(i.topic)}onBatchSubscribe(t){t.length&&t.forEach(t=>{this.setSubscription(t.id,index_es_K({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(t,i,c){this.events.removeAllListeners(i),this.hasSubscription(i,t)&&this.deleteSubscription(i,c),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,i){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:i}),this.addSubscription(t,i))}addSubscription(t,i){this.subscriptions.set(t,index_es_K({},i)),this.topicMap.set(i.topic,t),this.events.emit(rk.created,i)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});let i=this.subscriptions.get(t);if(!i){let{message:i}=index_es_N("NO_MATCHING_KEY",`${this.name}: ${t}`);throw Error(i)}return i}deleteSubscription(t,i){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:i});let c=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(c.topic,t),this.events.emit(rk.deleted,index_es_ge(index_es_K({},c),{reason:i}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(rk.sync)}async reset(){if(this.cached.length){let t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){let t=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(rk.resubscribed)}async restore(){try{let t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){let{message:t}=index_es_N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(t)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;let i=await this.rpcBatchSubscribe(t);j(i)&&this.onBatchSubscribe(i.map((i,c)=>index_es_ge(index_es_K({},t[c]),{id:i})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;let t=[];this.pending.forEach(i=>{t.push(i)}),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(tI.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(rU.connect,async()=>{await this.onConnect()}),this.relayer.on(rU.disconnect,()=>{this.onDisconnect()}),this.events.on(rk.created,async t=>{let i=rk.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:t}),await this.persist()}),this.events.on(rk.deleted,async t=>{let i=rk.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:t}=index_es_N("NOT_INITIALIZED",this.name);throw Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{let i=setInterval(()=>{this.restartInProgress||(clearInterval(i),t())},this.pollingInterval)})}};var rX=Object.defineProperty,rZ=Object.getOwnPropertySymbols,rQ=Object.prototype.hasOwnProperty,r0=Object.prototype.propertyIsEnumerable,index_es_St=(t,i,c)=>i in t?rX(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,fr=(t,i)=>{for(var c in i||(i={}))rQ.call(i,c)&&index_es_St(t,c,i[c]);if(rZ)for(var c of rZ(i))r0.call(i,c)&&index_es_St(t,c,i[c]);return t};let index_es_Pt=class index_es_Pt extends g{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new es.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(t){throw this.logger.debug("Failed to Publish Request"),this.logger.error(t),t}},this.core=t.core,this.logger="u">typeof t.logger&&"string"!=typeof t.logger?(0,tx.generateChildLogger)(t.logger,this.name):(0,tx.pino)((0,tx.getDefaultLoggerOptions)({level:t.logger||"error"})),this.messages=new index_es_It(this.logger,t.core),this.subscriber=new index_es_Rt(this,this.logger),this.publisher=new ur(this,this.logger),this.relayUrl=t?.relayUrl||rT,this.projectId=t.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{0===this.subscriber.topics.length&&(this.logger.info("No topics subscribted to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},1e4)}get context(){return(0,tx.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(t,i,c){this.isInitialized(),await this.publisher.publish(t,i,c),await this.recordMessageEvent({topic:t,message:i,publishedAt:Date.now()})}async subscribe(t,i){var c;this.isInitialized();let l=(null==(c=this.subscriber.topicMap.get(t))?void 0:c[0])||"";return l||(await Promise.all([new Promise(i=>{this.subscriber.once(rk.created,c=>{c.topic===t&&i()})}),new Promise(async c=>{l=await this.subscriber.subscribe(t,i),c()})]),l)}async unsubscribe(t,i){this.isInitialized(),await this.subscriber.unsubscribe(t,i)}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}off(t,i){this.events.off(t,i)}removeListener(t,i){this.events.removeListener(t,i)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(rU.transport_closed))}async transportOpen(t){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=t||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(t=>{this.initialized||t(),this.subscriber.once(rk.resubscribed,()=>{t()})}),await Promise.race([new Promise(async(t,i)=>{await et(this.provider.connect(),5e3,"socket stalled").catch(t=>i(t)).then(()=>t()).finally(()=>this.removeListener(rU.transport_closed,this.rejectTransportOpen))}),new Promise(t=>this.once(rU.transport_closed,this.rejectTransportOpen))])])}catch(t){if(this.logger.error(t),!this.isConnectionStalled(t.message))throw t;this.events.emit(rU.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(t){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=t||this.relayUrl,this.connected&&await Promise.all([new Promise(t=>{this.provider.once(rL.disconnect,()=>{t()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(t){return this.staleConnectionErrors.some(i=>t.includes(i))}rejectTransportOpen(){throw Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}async createProvider(){let t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new tR.r(new tU(function({protocol:t,version:i,relayUrl:l,sdkVersion:_,auth:v,projectId:I,useOnCloseEvent:N}){var U;let M;let k=l.split("?"),B=function(t,i,l){let _=function(){if("u">typeof(null==c.g?void 0:c.g.Platform)){let{OS:t,Version:i}=c.g.Platform;return[t,i].join("-")}let t=(0,e4.qY)();if(null===t)return"unknown";let i=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[i,t.name,t.version].join("-"):[i,t.version].join("-")}(),v=function(){var t;let i=x();return i===ty.browser?[i,(null==(t=(0,e7.getLocation)())?void 0:t.host)||"unknown"].join(":"):i}();return[[t,i].join("-"),["js",l].join("-"),_,v].join("/")}(t,i,_),W=(U=k[1]||"",M=we(we({},M=tn.parse(U)),{auth:v,ua:B,projectId:I,useOnCloseEvent:N||void 0}),U=tn.stringify(M));return k[0]+"?"+W}({sdkVersion:"2.8.4",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(t){let{topic:i,message:c}=t;await this.messages.set(i,c)}async shouldIgnoreMessageEvent(t){let{topic:i,message:c}=t;return!await this.subscriber.isSubscribed(i)||this.messages.has(i,c)}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),(0,tj.isJsonRpcRequest)(t)){if(!t.method.endsWith("_subscription"))return;let i=t.params,{topic:c,message:l,publishedAt:_}=i.data,v={topic:c,message:l,publishedAt:_};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(fr({type:"event",event:i.id},v)),this.events.emit(i.id,v),await this.acknowledgePayload(t),await this.onMessageEvent(v)}else(0,tj.isJsonRpcResponse)(t)&&this.events.emit(rU.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(rU.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){let i=(0,tj.formatJsonRpcResult)(t.id,!0);await this.provider.connection.send(i)}registerProviderListeners(){this.provider.on(rL.payload,t=>this.onProviderPayload(t)),this.provider.on(rL.connect,()=>{this.events.emit(rU.connect)}),this.provider.on(rL.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(rL.error,t=>{this.logger.error(t),this.events.emit(rU.error,t)})}registerEventListeners(){this.events.on(rU.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(rU.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},(0,e9.toMiliseconds)(rM))}isInitialized(){if(!this.initialized){let{message:t}=index_es_N("NOT_INITIALIZED",this.name);throw Error(t)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(t=>{let i=setInterval(()=>{this.connected&&(clearInterval(i),t())},this.connectionStatusPollingInterval)});await this.restartTransport()}}};var r1=Object.defineProperty,r5=Object.getOwnPropertySymbols,r3=Object.prototype.hasOwnProperty,r2=Object.prototype.propertyIsEnumerable,index_es_xt=(t,i,c)=>i in t?r1(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,index_es_At=(t,i)=>{for(var c in i||(i={}))r3.call(i,c)&&index_es_xt(t,c,i[c]);if(r5)for(var c of r5(i))r2.call(i,c)&&index_es_xt(t,c,i[c]);return t};let index_es_zt=class index_es_zt extends p{constructor(t,i,c,l=rO,_){super(t,i,c,l),this.core=t,this.logger=i,this.name=c,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=rO,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(t=>{var i;this.getKey&&null!==t&&!P(t)?this.map.set(this.getKey(t),t):(null==(i=t?.proposer)?void 0:i.publicKey)?this.map.set(t.id,t):t?.topic&&this.map.set(t.topic,t)}),this.cached=[],this.initialized=!0)},this.set=async(t,i)=>{this.isInitialized(),this.map.has(t)?await this.update(t,i):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:t,value:i}),this.map.set(t,i),await this.persist())},this.get=t=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:t}),this.getData(t)),this.getAll=t=>(this.isInitialized(),t?this.values.filter(i=>Object.keys(t).every(c=>tM()(i[c],t[c]))):this.values),this.update=async(t,i)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:t,update:i});let c=index_es_At(index_es_At({},this.getData(t)),i);this.map.set(t,c),await this.persist()},this.delete=async(t,i)=>{this.isInitialized(),this.map.has(t)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:t,reason:i}),this.map.delete(t),await this.persist())},this.logger=(0,tx.generateChildLogger)(i,this.name),this.storagePrefix=l,this.getKey=_}get context(){return(0,tx.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){let i=this.map.get(t);if(!i){let{message:i}=index_es_N("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(i),Error(i)}return i}async persist(){await this.setDataStore(this.values)}async restore(){try{let t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){let{message:t}=index_es_N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),Error(t)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){let{message:t}=index_es_N("NOT_INITIALIZED",this.name);throw Error(t)}}};let index_es_Nt=class index_es_Nt{constructor(t,i){this.core=t,this.logger=i,this.name="pairing",this.version="0.3",this.events=new(ea()),this.initialized=!1,this.storagePrefix=rO,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:t})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]},this.create=async()=>{var t;this.isInitialized();let i=Un(),c=await this.core.crypto.setSymKey(i),l=ot(e9.FIVE_MINUTES),_={protocol:"irn"},v=(t={protocol:this.core.protocol,version:this.core.version,topic:c,symKey:i,relay:_},`${t.protocol}:${t.topic}@${t.version}?`+tn.stringify(pt({symKey:t.symKey},function(t,i="-"){let c={};return Object.keys(t).forEach(l=>{t[l]&&(c["relay"+i+l]=t[l])}),c}(t.relay))));return await this.pairings.set(c,{topic:c,expiry:l,relay:_,active:!1}),await this.core.relayer.subscribe(c),this.core.expirer.set(c,l),{topic:c,uri:v}},this.pair=async t=>{this.isInitialized(),this.isValidPair(t);let{topic:i,symKey:c,relay:l}=function(t){var i;let c=t.indexOf(":"),l=-1!==t.indexOf("?")?t.indexOf("?"):void 0,_=t.substring(0,c),v=t.substring(c+1,l).split("@"),I="u">typeof l?t.substring(l):"",N=tn.parse(I);return{protocol:_,topic:(i=v[0]).startsWith("//")?i.substring(2):i,version:parseInt(v[1],10),symKey:N.symKey,relay:function(t,i="-"){let c={},l="relay"+i;return Object.keys(t).forEach(i=>{if(i.startsWith(l)){let _=i.replace(l,""),v=t[i];c[_]=v}}),c}(N)}}(t.uri);if(this.pairings.keys.includes(i))throw Error(`Pairing already exists: ${i}`);if(this.core.crypto.hasKeys(i))throw Error(`Keychain already exists: ${i}`);let _=ot(e9.FIVE_MINUTES),v={topic:i,relay:l,expiry:_,active:!1};return await this.pairings.set(i,v),await this.core.crypto.setSymKey(c,i),await this.core.relayer.subscribe(i,{relay:l}),this.core.expirer.set(i,_),t.activatePairing&&await this.activate({topic:i}),v},this.activate=async({topic:t})=>{this.isInitialized();let i=ot(e9.THIRTY_DAYS);await this.pairings.update(t,{active:!0,expiry:i}),this.core.expirer.set(t,i)},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);let{topic:i}=t;if(this.pairings.keys.includes(i)){let t=await this.sendRequest(i,"wc_pairingPing",{}),{done:c,resolve:l,reject:_}=Xn();this.events.once(it("pairing_ping",t),({error:t})=>{t?_(t):l()}),await c()}},this.updateExpiry=async({topic:t,expiry:i})=>{this.isInitialized(),await this.pairings.update(t,{expiry:i})},this.updateMetadata=async({topic:t,metadata:i})=>{this.isInitialized(),await this.pairings.update(t,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);let{topic:i}=t;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",w("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(t,i,c)=>{let l=(0,tj.formatJsonRpcRequest)(i,c),_=await this.core.crypto.encode(t,l),v=r$[i].req;return this.core.history.set(t,l),this.core.relayer.publish(t,_,v),l.id},this.sendResult=async(t,i,c)=>{let l=(0,tj.formatJsonRpcResult)(t,c),_=await this.core.crypto.encode(i,l),v=await this.core.history.get(i,t),I=r$[v.request.method].res;await this.core.relayer.publish(i,_,I),await this.core.history.resolve(l)},this.sendError=async(t,i,c)=>{let l=(0,tj.formatJsonRpcError)(t,c),_=await this.core.crypto.encode(i,l),v=await this.core.history.get(i,t),I=r$[v.request.method]?r$[v.request.method].res:r$.unregistered_method.res;await this.core.relayer.publish(i,_,I),await this.core.history.resolve(l)},this.deletePairing=async(t,i)=>{await this.core.relayer.unsubscribe(t),await Promise.all([this.pairings.delete(t,w("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(t),i?Promise.resolve():this.core.expirer.del(t)])},this.cleanup=async()=>{let t=this.pairings.getAll().filter(t=>st(t.expiry));await Promise.all(t.map(t=>this.deletePairing(t.topic)))},this.onRelayEventRequest=t=>{let{topic:i,payload:c}=t,l=c.method;if(this.pairings.keys.includes(i))switch(l){case"wc_pairingPing":return this.onPairingPingRequest(i,c);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,c);default:return this.onUnknownRpcMethodRequest(i,c)}},this.onRelayEventResponse=async t=>{let{topic:i,payload:c}=t,l=(await this.core.history.get(i,c.id)).request.method;if(this.pairings.keys.includes(i))return"wc_pairingPing"===l?this.onPairingPingResponse(i,c):this.onUnknownRpcMethodResponse(l)},this.onPairingPingRequest=async(t,i)=>{let{id:c}=i;try{this.isValidPing({topic:t}),await this.sendResult(c,t,!0),this.events.emit("pairing_ping",{id:c,topic:t})}catch(i){await this.sendError(c,t,i),this.logger.error(i)}},this.onPairingPingResponse=(t,i)=>{let{id:c}=i;setTimeout(()=>{(0,tj.isJsonRpcResult)(i)?this.events.emit(it("pairing_ping",c),{}):(0,tj.isJsonRpcError)(i)&&this.events.emit(it("pairing_ping",c),{error:i.error})},500)},this.onPairingDeleteRequest=async(t,i)=>{let{id:c}=i;try{this.isValidDisconnect({topic:t}),await this.deletePairing(t),this.events.emit("pairing_delete",{id:c,topic:t})}catch(i){await this.sendError(c,t,i),this.logger.error(i)}},this.onUnknownRpcMethodRequest=async(t,i)=>{let{id:c,method:l}=i;try{if(this.registeredMethods.includes(l))return;let i=w("WC_METHOD_UNSUPPORTED",l);await this.sendError(c,t,i),this.logger.error(i)}catch(i){await this.sendError(c,t,i),this.logger.error(i)}},this.onUnknownRpcMethodResponse=t=>{this.registeredMethods.includes(t)||this.logger.error(w("WC_METHOD_UNSUPPORTED",t))},this.isValidPair=t=>{if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`pair() params: ${t}`);throw Error(i)}if(!function(t){if(m(t,!1))try{return"u">typeof new URL(t)}catch{}return!1}(t.uri)){let{message:i}=index_es_N("MISSING_OR_INVALID",`pair() uri: ${t.uri}`);throw Error(i)}},this.isValidPing=async t=>{if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`ping() params: ${t}`);throw Error(i)}let{topic:i}=t;await this.isValidPairingTopic(i)},this.isValidDisconnect=async t=>{if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw Error(i)}let{topic:i}=t;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async t=>{if(!m(t,!1)){let{message:i}=index_es_N("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw Error(i)}if(!this.pairings.keys.includes(t)){let{message:i}=index_es_N("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw Error(i)}if(st(this.pairings.get(t).expiry)){await this.deletePairing(t);let{message:i}=index_es_N("EXPIRED",`pairing topic: ${t}`);throw Error(i)}},this.core=t,this.logger=(0,tx.generateChildLogger)(i,this.name),this.pairings=new index_es_zt(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,tx.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){let{message:t}=index_es_N("NOT_INITIALIZED",this.name);throw Error(t)}}registerRelayerEvents(){this.core.relayer.on(rU.message,async t=>{let{topic:i,message:c}=t;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(c)))return;let l=await this.core.crypto.decode(i,c);(0,tj.isJsonRpcRequest)(l)?(this.core.history.set(i,l),this.onRelayEventRequest({topic:i,payload:l})):(0,tj.isJsonRpcResponse)(l)&&(await this.core.history.resolve(l),this.onRelayEventResponse({topic:i,payload:l}))})}registerExpirerEvents(){this.core.expirer.on(rq.expired,async t=>{let{topic:i}=rt(t.target);i&&this.pairings.keys.includes(i)&&(await this.deletePairing(i,!0),this.events.emit("pairing_expire",{topic:i}))})}};let index_es_Ut=class index_es_Ut extends h{constructor(t,i){super(t,i),this.core=t,this.logger=i,this.records=new Map,this.events=new es.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=rO,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(t=>this.records.set(t.id,t)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(t,i,c)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:t,request:i,chainId:c}),this.records.has(i.id))return;let l={id:i.id,topic:t,request:{method:i.method,params:i.params||null},chainId:c};this.records.set(l.id,l),this.events.emit(rH.created,l)},this.resolve=async t=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:t}),!this.records.has(t.id))return;let i=await this.getRecord(t.id);typeof i.response>"u"&&(i.response=(0,tj.isJsonRpcError)(t)?{error:t.error}:{result:t.result},this.records.set(i.id,i),this.events.emit(rH.updated,i))},this.get=async(t,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:t,id:i}),await this.getRecord(i)),this.delete=(t,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(c=>{c.topic!==t||"u">typeof i&&c.id!==i||(this.records.delete(c.id),this.events.emit(rH.deleted,c))})},this.exists=async(t,i)=>(this.isInitialized(),!!this.records.has(i)&&(await this.getRecord(i)).topic===t),this.on=(t,i)=>{this.events.on(t,i)},this.once=(t,i)=>{this.events.once(t,i)},this.off=(t,i)=>{this.events.off(t,i)},this.removeListener=(t,i)=>{this.events.removeListener(t,i)},this.logger=(0,tx.generateChildLogger)(i,this.name)}get context(){return(0,tx.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let t=[];return this.values.forEach(i=>{if("u">typeof i.response)return;let c={topic:i.topic,request:(0,tj.formatJsonRpcRequest)(i.request.method,i.request.params,i.id),chainId:i.chainId};return t.push(c)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();let i=this.records.get(t);if(!i){let{message:i}=index_es_N("NO_MATCHING_KEY",`${this.name}: ${t}`);throw Error(i)}return i}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(rH.sync)}async restore(){try{let t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){let{message:t}=index_es_N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),Error(t)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(rH.created,t=>{let i=rH.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:t}),this.persist()}),this.events.on(rH.updated,t=>{let i=rH.updated;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:t}),this.persist()}),this.events.on(rH.deleted,t=>{let i=rH.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:t}),this.persist()})}isInitialized(){if(!this.initialized){let{message:t}=index_es_N("NOT_INITIALIZED",this.name);throw Error(t)}}};let index_es_Lt=class index_es_Lt extends E{constructor(t,i){super(t,i),this.core=t,this.logger=i,this.expirations=new Map,this.events=new es.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=rO,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(t=>this.expirations.set(t.target,t)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=t=>{try{let i=this.formatTarget(t);return"u">typeof this.getExpiration(i)}catch{return!1}},this.set=(t,i)=>{this.isInitialized();let c=this.formatTarget(t),l={target:c,expiry:i};this.expirations.set(c,l),this.checkExpiry(c,l),this.events.emit(rq.created,{target:c,expiration:l})},this.get=t=>{this.isInitialized();let i=this.formatTarget(t);return this.getExpiration(i)},this.del=t=>{if(this.isInitialized(),this.has(t)){let i=this.formatTarget(t),c=this.getExpiration(i);this.expirations.delete(i),this.events.emit(rq.deleted,{target:i,expiration:c})}},this.on=(t,i)=>{this.events.on(t,i)},this.once=(t,i)=>{this.events.once(t,i)},this.off=(t,i)=>{this.events.off(t,i)},this.removeListener=(t,i)=>{this.events.removeListener(t,i)},this.logger=(0,tx.generateChildLogger)(i,this.name)}get context(){return(0,tx.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if("string"==typeof t)return ne("topic",t);if("number"==typeof t)return ne("id",t);let{message:i}=index_es_N("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw Error(i)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(rq.sync)}async restore(){try{let t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){let{message:t}=index_es_N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),Error(t)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){let i=this.expirations.get(t);if(!i){let{message:i}=index_es_N("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(i),Error(i)}return i}checkExpiry(t,i){let{expiry:c}=i;(0,e9.toMiliseconds)(c)-Date.now()<=0&&this.expire(t,i)}expire(t,i){this.expirations.delete(t),this.events.emit(rq.expired,{target:t,expiration:i})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,i)=>this.checkExpiry(i,t))}registerEventListeners(){this.core.heartbeat.on(tI.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(rq.created,t=>{let i=rq.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:t}),this.persist()}),this.events.on(rq.expired,t=>{let i=rq.expired;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:t}),this.persist()}),this.events.on(rq.deleted,t=>{let i=rq.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:t}),this.persist()})}isInitialized(){if(!this.initialized){let{message:t}=index_es_N("NOT_INITIALIZED",this.name);throw Error(t)}}};let index_es_Ft=class index_es_Ft extends y{constructor(t,i){super(t,i),this.projectId=t,this.logger=i,this.name=rF,this.initialized=!1,this.init=async t=>{$e()||!je()||(this.verifyUrl=t?.verifyUrl||rV,await this.createIframe())},this.register=async t=>{var i;if(this.initialized||await this.init(),this.iframe)try{null==(i=this.iframe.contentWindow)||i.postMessage(t.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${t.attestationId} ${this.verifyUrl}`)}catch{}},this.resolve=async t=>{var i;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${t.attestationId}`);let c=this.startAbortTimer(e9.FIVE_SECONDS),l=await fetch(`${this.verifyUrl}/attestation/${t.attestationId}`,{signal:this.abortController.signal});return clearTimeout(c),200===l.status?null==(i=await l.json())?void 0:i.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((t,i)=>{if(document.getElementById(rF))return t();let c=document.createElement("iframe");c.setAttribute("id",rF),c.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),c.style.display="none",c.addEventListener("load",()=>{this.initialized=!0,t()}),c.addEventListener("error",t=>{i(t)}),document.body.append(c),this.iframe=c}),new Promise(t=>{setTimeout(()=>t("iframe load timeout"),(0,e9.toMiliseconds)(e9.ONE_SECOND/2))})])}catch(t){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(t)}},this.logger=(0,tx.generateChildLogger)(i,this.name),this.verifyUrl=rV,this.abortController=new AbortController,this.isDevEnv=ee()&&tk.env.IS_VITEST}get context(){return(0,tx.getLoggerContext)(this.logger)}startAbortTimer(t){return setTimeout(()=>this.abortController.abort(),(0,e9.toMiliseconds)(t))}};var r6=Object.defineProperty,r8=Object.getOwnPropertySymbols,r4=Object.prototype.hasOwnProperty,r9=Object.prototype.propertyIsEnumerable,index_es_Mt=(t,i,c)=>i in t?r6(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,index_es_Kt=(t,i)=>{for(var c in i||(i={}))r4.call(i,c)&&index_es_Mt(t,c,i[c]);if(r8)for(var c of r8(i))r9.call(i,c)&&index_es_Mt(t,c,i[c]);return t};let index_es_H=class index_es_H extends n{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=rC,this.events=new es.EventEmitter,this.initialized=!1,this.on=(t,i)=>this.events.on(t,i),this.once=(t,i)=>this.events.once(t,i),this.off=(t,i)=>this.events.off(t,i),this.removeListener=(t,i)=>this.events.removeListener(t,i),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||rT;let i="u">typeof t?.logger&&"string"!=typeof t?.logger?t.logger:(0,tx.pino)((0,tx.getDefaultLoggerOptions)({level:t?.logger||rP.logger}));this.logger=(0,tx.generateChildLogger)(i,this.name),this.heartbeat=new tI.HeartBeat,this.crypto=new index_es_vt(this,this.logger,t?.keychain),this.history=new index_es_Ut(this,this.logger),this.expirer=new index_es_Lt(this,this.logger),this.storage=null!=t&&t.storage?t.storage:new tS.ZP(index_es_Kt(index_es_Kt({},rA),t?.storageOptions)),this.relayer=new index_es_Pt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new index_es_Nt(this,this.logger),this.verify=new index_es_Ft(this.projectId||"",this.logger)}static async init(t){let i=new index_es_H(t);await i.initialize();let c=await i.crypto.getClientId();return await i.storage.setItem("WALLETCONNECT_CLIENT_ID",c),i}get context(){return(0,tx.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}};let r7="client",nn=`wc@2:${r7}:`,ns={name:r7,logger:"error"},na="Proposal expired",no=e9.SEVEN_DAYS,nc={wc_sessionPropose:{req:{ttl:e9.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:e9.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:e9.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:e9.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:e9.ONE_DAY,prompt:!1,tag:1104},res:{ttl:e9.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:e9.ONE_DAY,prompt:!1,tag:1106},res:{ttl:e9.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:e9.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:e9.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:e9.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:e9.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:e9.ONE_DAY,prompt:!1,tag:1112},res:{ttl:e9.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:e9.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:e9.THIRTY_SECONDS,prompt:!1,tag:1115}}},nl={min:e9.FIVE_MINUTES,max:e9.SEVEN_DAYS},nh=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var nf=Object.defineProperty,nd=Object.defineProperties,np=Object.getOwnPropertyDescriptors,n_=Object.getOwnPropertySymbols,ng=Object.prototype.hasOwnProperty,ny=Object.prototype.propertyIsEnumerable,index_es_ce=(t,i,c)=>i in t?nf(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,dist_index_es_w=(t,i)=>{for(var c in i||(i={}))ng.call(i,c)&&index_es_ce(t,c,i[c]);if(n_)for(var c of n_(i))ny.call(i,c)&&index_es_ce(t,c,i[c]);return t},dist_index_es_H=(t,i)=>nd(t,np(i));let index_es_ns=class index_es_ns extends index_es_S{constructor(t){super(t),this.name="engine",this.events=new(ea()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(nc)}),this.initialized=!0)},this.connect=async t=>{this.isInitialized();let i=dist_index_es_H(dist_index_es_w({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(i);let{pairingTopic:c,requiredNamespaces:l,optionalNamespaces:_,sessionProperties:v,relays:I}=i,N=c,U,M=!1;if(N&&(M=this.client.core.pairing.pairings.get(N).active),!N||!M){let{topic:t,uri:i}=await this.client.core.pairing.create();N=t,U=i}let k=await this.client.core.crypto.generateKeyPair(),B=dist_index_es_w({requiredNamespaces:l,optionalNamespaces:_,relays:I??[{protocol:"irn"}],proposer:{publicKey:k,metadata:this.client.metadata}},v&&{sessionProperties:v}),{reject:W,resolve:J,done:X}=Xn(e9.FIVE_MINUTES,na);if(this.events.once(it("session_connect"),async({error:t,session:i})=>{if(t)W(t);else if(i){i.self.publicKey=k;let t=dist_index_es_H(dist_index_es_w({},i),{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces});await this.client.session.set(i.topic,t),await this.setExpiry(i.topic,i.expiry),N&&await this.client.core.pairing.updateMetadata({topic:N,metadata:i.peer.metadata}),J(t)}}),!N){let{message:t}=index_es_N("NO_MATCHING_KEY",`connect() pairing topic: ${N}`);throw Error(t)}let Q=await this.sendRequest(N,"wc_sessionPropose",B),er=ot(e9.FIVE_MINUTES);return await this.setProposal(Q,dist_index_es_w({id:Q,expiry:er},B)),{uri:U,approval:X}},this.pair=async t=>(this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{this.isInitialized(),await this.isValidApprove(t);let{id:i,relayProtocol:c,namespaces:l,sessionProperties:_}=t,v=this.client.proposal.get(i),{pairingTopic:I,proposer:N,requiredNamespaces:U,optionalNamespaces:M}=v;I=I||"",F(U)||(U=function(t,i){let c=sn(t,i);if(c)throw Error(c.message);let l={};for(let[i,c]of Object.entries(t))l[i]={methods:c.methods,events:c.events,chains:c.accounts.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)};return l}(l,"approve()"));let k=await this.client.core.crypto.generateKeyPair(),B=N.publicKey,W=await this.client.core.crypto.generateSharedKey(k,B);I&&i&&(await this.client.core.pairing.updateMetadata({topic:I,metadata:N.metadata}),await this.sendResult(i,I,{relay:{protocol:c??"irn"},responderPublicKey:k}),await this.client.proposal.delete(i,w("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:I}));let J=dist_index_es_w({relay:{protocol:c??"irn"},namespaces:l,requiredNamespaces:U,optionalNamespaces:M,pairingTopic:I,controller:{publicKey:k,metadata:this.client.metadata},expiry:ot(no)},_&&{sessionProperties:_});await this.client.core.relayer.subscribe(W),await this.sendRequest(W,"wc_sessionSettle",J);let X=dist_index_es_H(dist_index_es_w({},J),{topic:W,pairingTopic:I,acknowledged:!1,self:J.controller,peer:{publicKey:N.publicKey,metadata:N.metadata},controller:k});return await this.client.session.set(W,X),await this.setExpiry(W,ot(no)),{topic:W,acknowledged:()=>new Promise(t=>setTimeout(()=>t(this.client.session.get(W)),500))}},this.reject=async t=>{this.isInitialized(),await this.isValidReject(t);let{id:i,reason:c}=t,{pairingTopic:l}=this.client.proposal.get(i);l&&(await this.sendError(i,l,c),await this.client.proposal.delete(i,w("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.isValidUpdate(t);let{topic:i,namespaces:c}=t,l=await this.sendRequest(i,"wc_sessionUpdate",{namespaces:c}),{done:_,resolve:v,reject:I}=Xn();return this.events.once(it("session_update",l),({error:t})=>{t?I(t):v()}),await this.client.session.update(i,{namespaces:c}),{acknowledged:_}},this.extend=async t=>{this.isInitialized(),await this.isValidExtend(t);let{topic:i}=t,c=await this.sendRequest(i,"wc_sessionExtend",{}),{done:l,resolve:_,reject:v}=Xn();return this.events.once(it("session_extend",c),({error:t})=>{t?v(t):_()}),await this.setExpiry(i,ot(no)),{acknowledged:l}},this.request=async t=>{this.isInitialized(),await this.isValidRequest(t);let{chainId:i,request:c,topic:l,expiry:_}=t,v=await this.sendRequest(l,"wc_sessionRequest",{request:c,chainId:i},_),{done:I,resolve:N,reject:U}=Xn(_);this.events.once(it("session_request",v),({error:t,result:i})=>{t?U(t):N(i)}),this.client.events.emit("session_request_sent",{topic:l,request:c,chainId:i,id:v});let M=await this.client.core.storage.getItem("WALLETCONNECT_DEEPLINK_CHOICE");return ct({id:v,topic:l,wcDeepLink:M}),await I()},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);let{topic:i,response:c}=t,{id:l}=c;(0,tj.isJsonRpcResult)(c)?await this.sendResult(l,i,c.result):(0,tj.isJsonRpcError)(c)&&await this.sendError(l,i,c.error),this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0})},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let t=await this.sendRequest(i,"wc_sessionPing",{}),{done:c,resolve:l,reject:_}=Xn();this.events.once(it("session_ping",t),({error:t})=>{t?_(t):l()}),await c()}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async t=>{this.isInitialized(),await this.isValidEmit(t);let{topic:i,event:c,chainId:l}=t;await this.sendRequest(i,"wc_sessionEvent",{event:c,chainId:l})},this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let t;let c=(0,tj.getBigIntRpcId)().toString(),r=i=>{i?.id.toString()===c&&(this.client.core.relayer.events.removeListener(rU.message_ack,r),t())};await Promise.all([new Promise(i=>{t=i,this.client.core.relayer.on(rU.message_ack,r)}),this.sendRequest(i,"wc_sessionDelete",w("USER_DISCONNECTED"),void 0,c)]),await this.deleteSession(i)}else await this.client.core.pairing.disconnect({topic:i})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(i=>(function(t,i){let{requiredNamespaces:c}=i,l=Object.keys(t.namespaces),_=Object.keys(c),v=!0;return!!O(_,l)&&(l.forEach(i=>{let{accounts:l,methods:_,events:I}=t.namespaces[i],N=R(l),U=c[i];O(V(i,U),N)&&O(U.methods,_)&&O(U.events,I)||(v=!1)}),v)})(i,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{let i=this.client.core.pairing.pairings.get(t.pairingTopic),c=this.client.core.pairing.pairings.getAll().filter(c=>{var l,_;return(null==(l=c.peerMetadata)?void 0:l.url)&&(null==(_=c.peerMetadata)?void 0:_.url)===t.peer.metadata.url&&c.topic&&c.topic!==i.topic});if(0===c.length)return;this.client.logger.info(`Cleaning up ${c.length} duplicate pairing(s)`),await Promise.all(c.map(t=>this.client.core.pairing.disconnect({topic:t.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}},this.deleteSession=async(t,i)=>{let{self:c}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,w("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),i||this.client.core.expirer.del(t)},this.deleteProposal=async(t,i)=>{await Promise.all([this.client.proposal.delete(t,w("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,i,c=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,i),c?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,i)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:i}),this.client.core.expirer.set(t,i)},this.setProposal=async(t,i)=>{await this.client.proposal.set(t,i),this.client.core.expirer.set(t,i.expiry)},this.setPendingSessionRequest=async t=>{let i=nc.wc_sessionRequest.req.ttl,{id:c,topic:l,params:_}=t;await this.client.pendingRequest.set(c,{id:c,topic:l,params:_}),i&&this.client.core.expirer.set(c,ot(i))},this.sendRequest=async(t,i,c,l,_)=>{let v=(0,tj.formatJsonRpcRequest)(i,c);if(je()&&nh.includes(i)){let t=$n(JSON.stringify(v));await this.client.core.verify.register({attestationId:t})}let I=await this.client.core.crypto.encode(t,v),N=nc[i].req;return l&&(N.ttl=l),_&&(N.id=_),this.client.core.history.set(t,v),this.client.core.relayer.publish(t,I,N),v.id},this.sendResult=async(t,i,c)=>{let l=(0,tj.formatJsonRpcResult)(t,c),_=await this.client.core.crypto.encode(i,l),v=await this.client.core.history.get(i,t),I=nc[v.request.method].res;this.client.core.relayer.publish(i,_,I),await this.client.core.history.resolve(l)},this.sendError=async(t,i,c)=>{let l=(0,tj.formatJsonRpcError)(t,c),_=await this.client.core.crypto.encode(i,l),v=await this.client.core.history.get(i,t),I=nc[v.request.method].res;this.client.core.relayer.publish(i,_,I),await this.client.core.history.resolve(l)},this.cleanup=async()=>{let t=[],i=[];this.client.session.getAll().forEach(i=>{st(i.expiry)&&t.push(i.topic)}),this.client.proposal.getAll().forEach(t=>{st(t.expiry)&&i.push(t.id)}),await Promise.all([...t.map(t=>this.deleteSession(t)),...i.map(t=>this.deleteProposal(t))])},this.onRelayEventRequest=t=>{let{topic:i,payload:c}=t,l=c.method;switch(l){case"wc_sessionPropose":return this.onSessionProposeRequest(i,c);case"wc_sessionSettle":return this.onSessionSettleRequest(i,c);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,c);case"wc_sessionExtend":return this.onSessionExtendRequest(i,c);case"wc_sessionPing":return this.onSessionPingRequest(i,c);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,c);case"wc_sessionRequest":return this.onSessionRequest(i,c);case"wc_sessionEvent":return this.onSessionEventRequest(i,c);default:return this.client.logger.info(`Unsupported request method ${l}`)}},this.onRelayEventResponse=async t=>{let{topic:i,payload:c}=t,l=(await this.client.core.history.get(i,c.id)).request.method;switch(l){case"wc_sessionPropose":return this.onSessionProposeResponse(i,c);case"wc_sessionSettle":return this.onSessionSettleResponse(i,c);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,c);case"wc_sessionExtend":return this.onSessionExtendResponse(i,c);case"wc_sessionPing":return this.onSessionPingResponse(i,c);case"wc_sessionRequest":return this.onSessionRequestResponse(i,c);default:return this.client.logger.info(`Unsupported response method ${l}`)}},this.onRelayEventUnknownPayload=t=>{let{topic:i}=t,{message:c}=index_es_N("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw Error(c)},this.onSessionProposeRequest=async(t,i)=>{let{params:c,id:l}=i;try{this.isValidConnect(dist_index_es_w({},i.params));let _=ot(e9.FIVE_MINUTES),v=dist_index_es_w({id:l,pairingTopic:t,expiry:_},c);await this.setProposal(l,v);let I=$n(JSON.stringify(i)),N=await this.getVerifyContext(I,v.proposer.metadata);this.client.events.emit("session_proposal",{id:l,params:v,verifyContext:N})}catch(i){await this.sendError(l,t,i),this.client.logger.error(i)}},this.onSessionProposeResponse=async(t,i)=>{let{id:c}=i;if((0,tj.isJsonRpcResult)(i)){let{result:l}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:l});let _=this.client.proposal.get(c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:_});let v=_.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:v});let I=l.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:I});let N=await this.client.core.crypto.generateSharedKey(v,I);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:N});let U=await this.client.core.relayer.subscribe(N);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:U}),await this.client.core.pairing.activate({topic:t})}else(0,tj.isJsonRpcError)(i)&&(await this.client.proposal.delete(c,w("USER_DISCONNECTED")),this.events.emit(it("session_connect"),{error:i.error}))},this.onSessionSettleRequest=async(t,i)=>{let{id:c,params:l}=i;try{this.isValidSessionSettleRequest(l);let{relay:c,controller:_,expiry:v,namespaces:I,requiredNamespaces:N,optionalNamespaces:U,sessionProperties:M,pairingTopic:k}=i.params,B=dist_index_es_w({topic:t,relay:c,expiry:v,namespaces:I,acknowledged:!0,pairingTopic:k,requiredNamespaces:N,optionalNamespaces:U,controller:_.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:_.publicKey,metadata:_.metadata}},M&&{sessionProperties:M});await this.sendResult(i.id,t,!0),this.events.emit(it("session_connect"),{session:B}),this.cleanupDuplicatePairings(B)}catch(i){await this.sendError(c,t,i),this.client.logger.error(i)}},this.onSessionSettleResponse=async(t,i)=>{let{id:c}=i;(0,tj.isJsonRpcResult)(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(it("session_approve",c),{})):(0,tj.isJsonRpcError)(i)&&(await this.client.session.delete(t,w("USER_DISCONNECTED")),this.events.emit(it("session_approve",c),{error:i.error}))},this.onSessionUpdateRequest=async(t,i)=>{let{params:c,id:l}=i;try{this.isValidUpdate(dist_index_es_w({topic:t},c)),await this.client.session.update(t,{namespaces:c.namespaces}),await this.sendResult(l,t,!0),this.client.events.emit("session_update",{id:l,topic:t,params:c})}catch(i){await this.sendError(l,t,i),this.client.logger.error(i)}},this.onSessionUpdateResponse=(t,i)=>{let{id:c}=i;(0,tj.isJsonRpcResult)(i)?this.events.emit(it("session_update",c),{}):(0,tj.isJsonRpcError)(i)&&this.events.emit(it("session_update",c),{error:i.error})},this.onSessionExtendRequest=async(t,i)=>{let{id:c}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,ot(no)),await this.sendResult(c,t,!0),this.client.events.emit("session_extend",{id:c,topic:t})}catch(i){await this.sendError(c,t,i),this.client.logger.error(i)}},this.onSessionExtendResponse=(t,i)=>{let{id:c}=i;(0,tj.isJsonRpcResult)(i)?this.events.emit(it("session_extend",c),{}):(0,tj.isJsonRpcError)(i)&&this.events.emit(it("session_extend",c),{error:i.error})},this.onSessionPingRequest=async(t,i)=>{let{id:c}=i;try{this.isValidPing({topic:t}),await this.sendResult(c,t,!0),this.client.events.emit("session_ping",{id:c,topic:t})}catch(i){await this.sendError(c,t,i),this.client.logger.error(i)}},this.onSessionPingResponse=(t,i)=>{let{id:c}=i;setTimeout(()=>{(0,tj.isJsonRpcResult)(i)?this.events.emit(it("session_ping",c),{}):(0,tj.isJsonRpcError)(i)&&this.events.emit(it("session_ping",c),{error:i.error})},500)},this.onSessionDeleteRequest=async(t,i)=>{let{id:c}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(rU.publish,async()=>{i(await this.deleteSession(t))})}),this.sendResult(c,t,!0)]),this.client.events.emit("session_delete",{id:c,topic:t})}catch(t){this.client.logger.error(t)}},this.onSessionRequest=async(t,i)=>{let{id:c,params:l}=i;try{this.isValidRequest(dist_index_es_w({topic:t},l)),await this.setPendingSessionRequest({id:c,topic:t,params:l});let _=$n(JSON.stringify(i)),v=this.client.session.get(t),I=await this.getVerifyContext(_,v.peer.metadata);this.client.events.emit("session_request",{id:c,topic:t,params:l,verifyContext:I})}catch(i){await this.sendError(c,t,i),this.client.logger.error(i)}},this.onSessionRequestResponse=(t,i)=>{let{id:c}=i;(0,tj.isJsonRpcResult)(i)?this.events.emit(it("session_request",c),{result:i.result}):(0,tj.isJsonRpcError)(i)&&this.events.emit(it("session_request",c),{error:i.error})},this.onSessionEventRequest=async(t,i)=>{let{id:c,params:l}=i;try{this.isValidEmit(dist_index_es_w({topic:t},l)),this.client.events.emit("session_event",{id:c,topic:t,params:l})}catch(i){await this.sendError(c,t,i),this.client.logger.error(i)}},this.isValidConnect=async t=>{let i;if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw Error(i)}let{pairingTopic:c,requiredNamespaces:l,optionalNamespaces:_,sessionProperties:v,relays:I}=t;if(P(c)||await this.isValidPairingTopic(c),i=!1,I?I&&j(I)&&I.length&&I.forEach(t=>{i=cn(t)}):i=!0,!i){let{message:t}=index_es_N("MISSING_OR_INVALID",`connect() relays: ${I}`);throw Error(t)}P(l)||0===F(l)||this.validateNamespaces(l,"requiredNamespaces"),P(_)||0===F(_)||this.validateNamespaces(_,"optionalNamespaces"),P(v)||this.validateSessionProps(v,"sessionProperties")},this.validateNamespaces=(t,i)=>{let c=function(t,i,c){let l=null;if(t&&F(t)){let c;let _=se(t,i);_&&(l=_);let v=(c=null,Object.entries(t).forEach(([t,l])=>{var _,v;let I;if(c)return;let N=(_=V(t,l),v=`${i} requiredNamespace`,I=null,j(_)?_.forEach(i=>{!I&&(q(i)&&i.includes(t)||(I=w("UNSUPPORTED_CHAINS",`${v}, chain ${i} should be a string and conform to "namespace:chainId" format`)))}):I=w("UNSUPPORTED_CHAINS",`${v}, chains ${_} should be an array of strings conforming to "namespace:chainId" format`),I);N&&(c=N)}),c);v&&(l=v)}else l=index_es_N("MISSING_OR_INVALID",`${i}, ${c} should be an object with data`);return l}(t,"connect()",i);if(c)throw Error(c.message)},this.isValidApprove=async t=>{if(!Dt(t))throw Error(index_es_N("MISSING_OR_INVALID",`approve() params: ${t}`).message);let{id:i,namespaces:c,relayProtocol:l,sessionProperties:_}=t;await this.isValidProposalId(i);let v=this.client.proposal.get(i),I=sn(c,"approve()");if(I)throw Error(I.message);let N=an(v.requiredNamespaces,c,"approve()");if(N)throw Error(N.message);if(!m(l,!0)){let{message:t}=index_es_N("MISSING_OR_INVALID",`approve() relayProtocol: ${l}`);throw Error(t)}P(_)||this.validateSessionProps(_,"sessionProperties")},this.isValidReject=async t=>{if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`reject() params: ${t}`);throw Error(i)}let{id:i,reason:c}=t;if(await this.isValidProposalId(i),!c||"object"!=typeof c||!c.code||!H(c.code,!1)||!c.message||!m(c.message,!1)){let{message:t}=index_es_N("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(c)}`);throw Error(t)}},this.isValidSessionSettleRequest=t=>{let i;if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw Error(i)}let{relay:c,controller:l,namespaces:_,expiry:v}=t;if(!cn(c)){let{message:t}=index_es_N("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(t)}let I=(i=null,m(l?.publicKey,!1)||(i=index_es_N("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),i);if(I)throw Error(I.message);let N=sn(_,"onSessionSettleRequest()");if(N)throw Error(N.message);if(st(v)){let{message:t}=index_es_N("EXPIRED","onSessionSettleRequest()");throw Error(t)}},this.isValidUpdate=async t=>{if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`update() params: ${t}`);throw Error(i)}let{topic:i,namespaces:c}=t;await this.isValidSessionTopic(i);let l=this.client.session.get(i),_=sn(c,"update()");if(_)throw Error(_.message);let v=an(l.requiredNamespaces,c,"update()");if(v)throw Error(v.message)},this.isValidExtend=async t=>{if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`extend() params: ${t}`);throw Error(i)}let{topic:i}=t;await this.isValidSessionTopic(i)},this.isValidRequest=async t=>{var i;if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`request() params: ${t}`);throw Error(i)}let{topic:c,request:l,chainId:_,expiry:v}=t;await this.isValidSessionTopic(c);let{namespaces:I}=this.client.session.get(c);if(!Lt(I,_)){let{message:t}=index_es_N("MISSING_OR_INVALID",`request() chainId: ${_}`);throw Error(t)}if(P(l)||!m(l.method,!1)){let{message:t}=index_es_N("MISSING_OR_INVALID",`request() ${JSON.stringify(l)}`);throw Error(t)}if(!(m(i=l.method,!1)&&(function(t,i){let c=[];return Object.values(t).forEach(t=>{R(t.accounts).includes(i)&&c.push(...t.methods)}),c})(I,_).includes(i))){let{message:t}=index_es_N("MISSING_OR_INVALID",`request() method: ${l.method}`);throw Error(t)}if(v&&(!H(v,!1)||!(v<=nl.max)||!(v>=nl.min))){let{message:t}=index_es_N("MISSING_OR_INVALID",`request() expiry: ${v}. Expiry must be a number (in seconds) between ${nl.min} and ${nl.max}`);throw Error(t)}},this.isValidRespond=async t=>{if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`respond() params: ${t}`);throw Error(i)}let{topic:i,response:c}=t;if(await this.isValidSessionTopic(i),P(c)||P(c.result)&&P(c.error)||!H(c.id,!1)||!m(c.jsonrpc,!1)){let{message:t}=index_es_N("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(c)}`);throw Error(t)}},this.isValidPing=async t=>{if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`ping() params: ${t}`);throw Error(i)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async t=>{var i;if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`emit() params: ${t}`);throw Error(i)}let{topic:c,event:l,chainId:_}=t;await this.isValidSessionTopic(c);let{namespaces:v}=this.client.session.get(c);if(!Lt(v,_)){let{message:t}=index_es_N("MISSING_OR_INVALID",`emit() chainId: ${_}`);throw Error(t)}if(P(l)||!m(l.name,!1)){let{message:t}=index_es_N("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(l)}`);throw Error(t)}if(!(m(i=l.name,!1)&&(function(t,i){let c=[];return Object.values(t).forEach(t=>{R(t.accounts).includes(i)&&c.push(...t.events)}),c})(v,_).includes(i))){let{message:t}=index_es_N("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(l)}`);throw Error(t)}},this.isValidDisconnect=async t=>{if(!Dt(t)){let{message:i}=index_es_N("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw Error(i)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.getVerifyContext=async(t,i)=>{let c={verified:{verifyUrl:i.verifyUrl||"",validation:"UNKNOWN",origin:i.url||""}};try{let l=await this.client.core.verify.resolve({attestationId:t,verifyUrl:i.verifyUrl});l&&(c.verified.origin=l,c.verified.validation=l===i.url?"VALID":"INVALID")}catch(t){this.client.logger.error(t)}return this.client.logger.info(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(t,i)=>{Object.values(t).forEach(t=>{if(!m(t,!1)){let{message:c}=index_es_N("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(t)}`);throw Error(c)}})}}isInitialized(){if(!this.initialized){let{message:t}=index_es_N("NOT_INITIALIZED",this.name);throw Error(t)}}registerRelayerEvents(){this.client.core.relayer.on(rU.message,async t=>{let{topic:i,message:c}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(c)))return;let l=await this.client.core.crypto.decode(i,c);(0,tj.isJsonRpcRequest)(l)?(this.client.core.history.set(i,l),this.onRelayEventRequest({topic:i,payload:l})):(0,tj.isJsonRpcResponse)(l)?(await this.client.core.history.resolve(l),this.onRelayEventResponse({topic:i,payload:l})):this.onRelayEventUnknownPayload({topic:i,payload:l})})}registerExpirerEvents(){this.client.core.expirer.on(rq.expired,async t=>{let{topic:i,id:c}=rt(t.target);if(c&&this.client.pendingRequest.keys.includes(c))return await this.deletePendingSessionRequest(c,index_es_N("EXPIRED"),!0);i?this.client.session.keys.includes(i)&&(await this.deleteSession(i,!0),this.client.events.emit("session_expire",{topic:i})):c&&(await this.deleteProposal(c,!0),this.client.events.emit("proposal_expire",{id:c}))})}isValidPairingTopic(t){if(!m(t,!1)){let{message:i}=index_es_N("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw Error(i)}if(!this.client.core.pairing.pairings.keys.includes(t)){let{message:i}=index_es_N("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw Error(i)}if(st(this.client.core.pairing.pairings.get(t).expiry)){let{message:i}=index_es_N("EXPIRED",`pairing topic: ${t}`);throw Error(i)}}async isValidSessionTopic(t){if(!m(t,!1)){let{message:i}=index_es_N("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw Error(i)}if(!this.client.session.keys.includes(t)){let{message:i}=index_es_N("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw Error(i)}if(st(this.client.session.get(t).expiry)){await this.deleteSession(t);let{message:i}=index_es_N("EXPIRED",`session topic: ${t}`);throw Error(i)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(m(t,!1)){let{message:i}=index_es_N("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw Error(i)}else{let{message:i}=index_es_N("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw Error(i)}}async isValidProposalId(t){if("number"!=typeof t){let{message:i}=index_es_N("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw Error(i)}if(!this.client.proposal.keys.includes(t)){let{message:i}=index_es_N("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw Error(i)}if(st(this.client.proposal.get(t).expiry)){await this.deleteProposal(t);let{message:i}=index_es_N("EXPIRED",`proposal id: ${t}`);throw Error(i)}}};let index_es_rs=class index_es_rs extends index_es_zt{constructor(t,i){super(t,i,"proposal",nn),this.core=t,this.logger=i}};let index_es_os=class index_es_os extends index_es_zt{constructor(t,i){super(t,i,"session",nn),this.core=t,this.logger=i}};let index_es_as=class index_es_as extends index_es_zt{constructor(t,i){super(t,i,"request",nn,t=>t.id),this.core=t,this.logger=i}};let dist_index_es_M=class dist_index_es_M extends index_es_b{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=ns.name,this.events=new es.EventEmitter,this.on=(t,i)=>this.events.on(t,i),this.once=(t,i)=>this.events.once(t,i),this.off=(t,i)=>this.events.off(t,i),this.removeListener=(t,i)=>this.events.removeListener(t,i),this.removeAllListeners=t=>this.events.removeAllListeners(t),this.connect=async t=>{try{return await this.engine.connect(t)}catch(t){throw this.logger.error(t.message),t}},this.pair=async t=>{try{return await this.engine.pair(t)}catch(t){throw this.logger.error(t.message),t}},this.approve=async t=>{try{return await this.engine.approve(t)}catch(t){throw this.logger.error(t.message),t}},this.reject=async t=>{try{return await this.engine.reject(t)}catch(t){throw this.logger.error(t.message),t}},this.update=async t=>{try{return await this.engine.update(t)}catch(t){throw this.logger.error(t.message),t}},this.extend=async t=>{try{return await this.engine.extend(t)}catch(t){throw this.logger.error(t.message),t}},this.request=async t=>{try{return await this.engine.request(t)}catch(t){throw this.logger.error(t.message),t}},this.respond=async t=>{try{return await this.engine.respond(t)}catch(t){throw this.logger.error(t.message),t}},this.ping=async t=>{try{return await this.engine.ping(t)}catch(t){throw this.logger.error(t.message),t}},this.emit=async t=>{try{return await this.engine.emit(t)}catch(t){throw this.logger.error(t.message),t}},this.disconnect=async t=>{try{return await this.engine.disconnect(t)}catch(t){throw this.logger.error(t.message),t}},this.find=t=>{try{return this.engine.find(t)}catch(t){throw this.logger.error(t.message),t}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}},this.name=t?.name||ns.name,this.metadata=t?.metadata||(0,tt.D)()||{name:"",description:"",url:"",icons:[""]};let i="u">typeof t?.logger&&"string"!=typeof t?.logger?t.logger:(0,tx.pino)((0,tx.getDefaultLoggerOptions)({level:t?.logger||ns.logger}));this.core=t?.core||new index_es_H(t),this.logger=(0,tx.generateChildLogger)(i,this.name),this.session=new index_es_os(this.core,this.logger),this.proposal=new index_es_rs(this.core,this.logger),this.pendingRequest=new index_es_as(this.core,this.logger),this.engine=new index_es_ns(this)}static async init(t){let i=new dist_index_es_M(t);return await i.initialize(),i}get context(){return(0,tx.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var nv=c(58481);let nm="error",nb="wc@2:universal_provider:",nw={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var nE="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof c.g?c.g:"u">typeof self?self:{},nD={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(t,i){(function(){var c,l="Expected a function",_="__lodash_hash_undefined__",v="__lodash_placeholder__",I=1/0,N=0/0,U=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],M="[object Arguments]",k="[object Array]",B="[object Boolean]",W="[object Date]",J="[object Error]",X="[object Function]",Q="[object GeneratorFunction]",er="[object Map]",es="[object Number]",ea="[object Object]",eo="[object Promise]",ec="[object RegExp]",el="[object Set]",eh="[object String]",ef="[object Symbol]",ed="[object WeakMap]",ep="[object ArrayBuffer]",e_="[object DataView]",eg="[object Float32Array]",ey="[object Float64Array]",ev="[object Int8Array]",em="[object Int16Array]",eb="[object Int32Array]",ew="[object Uint8Array]",eE="[object Uint8ClampedArray]",eD="[object Uint16Array]",eS="[object Uint32Array]",eI=/\b__p \+= '';/g,ex=/\b(__p \+=) '' \+/g,eC=/(__e\(.*?\)|\b__t\)) \+\n'';/g,eO=/&(?:amp|lt|gt|quot|#39);/g,eP=/[&<>"']/g,eA=RegExp(eO.source),eN=RegExp(eP.source),eR=/<%-([\s\S]+?)%>/g,ej=/<%([\s\S]+?)%>/g,eT=/<%=([\s\S]+?)%>/g,eU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eL=/^\w*$/,eM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ek=/[\\^$.*+?()[\]{}|]/g,ez=RegExp(ek.source),e$=/^\s+/,eH=/\s/,eF=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,eV=/\{\n\/\* \[wrapped with (.+)\] \*/,eB=/,? & /,eK=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,eG=/[()=,{}\[\]\/\s]/,eW=/\\(\\)?/g,eJ=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eY=/\w*$/,eX=/^[-+]0x[0-9a-f]+$/i,eZ=/^0b[01]+$/i,eQ=/^\[object .+?Constructor\]$/,e0=/^0o[0-7]+$/i,e1=/^(?:0|[1-9]\d*)$/,e5=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,e3=/($^)/,e2=/['\n\r\u2028\u2029\\]/g,e6="\ud800-\udfff",e8="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",e4="\\u2700-\\u27bf",e9="a-z\\xdf-\\xf6\\xf8-\\xff",e7="A-Z\\xc0-\\xd6\\xd8-\\xde",tt="\\ufe0e\\ufe0f",tn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ts="[']",to="["+tn+"]",tc="["+e8+"]",tl="["+e9+"]",th="[^"+e6+tn+"\\d+"+e4+e9+e7+"]",tf="\ud83c[\udffb-\udfff]",td="[^"+e6+"]",tp="(?:\ud83c[\udde6-\uddff]){2}",t_="[\ud800-\udbff][\udc00-\udfff]",tg="["+e7+"]",ty="\\u200d",tv="(?:"+tl+"|"+th+")",tm="(?:"+ts+"(?:d|ll|m|re|s|t|ve))?",tb="(?:"+ts+"(?:D|LL|M|RE|S|T|VE))?",tw="(?:"+tc+"|"+tf+")?",tE="["+tt+"]?",tD="(?:"+ty+"(?:"+[td,tp,t_].join("|")+")"+tE+tw+")*",tS=tE+tw+tD,tI="(?:"+["["+e4+"]",tp,t_].join("|")+")"+tS,tx="(?:"+[td+tc+"?",tc,tp,t_,"["+e6+"]"].join("|")+")",tC=RegExp(ts,"g"),tO=RegExp(tc,"g"),tP=RegExp(tf+"(?="+tf+")|"+tx+tS,"g"),tA=RegExp([tg+"?"+tl+"+"+tm+"(?="+[to,tg,"$"].join("|")+")","(?:"+tg+"|"+th+")+"+tb+"(?="+[to,tg+tv,"$"].join("|")+")",tg+"?"+tv+"+"+tm,tg+"+"+tb,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",tI].join("|"),"g"),tN=RegExp("["+ty+e6+e8+tt+"]"),tR=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tj=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tT=-1,tU={};tU[eg]=tU[ey]=tU[ev]=tU[em]=tU[eb]=tU[ew]=tU[eE]=tU[eD]=tU[eS]=!0,tU[M]=tU[k]=tU[ep]=tU[B]=tU[e_]=tU[W]=tU[J]=tU[X]=tU[er]=tU[es]=tU[ea]=tU[ec]=tU[el]=tU[eh]=tU[ed]=!1;var tL={};tL[M]=tL[k]=tL[ep]=tL[e_]=tL[B]=tL[W]=tL[eg]=tL[ey]=tL[ev]=tL[em]=tL[eb]=tL[er]=tL[es]=tL[ea]=tL[ec]=tL[el]=tL[eh]=tL[ef]=tL[ew]=tL[eE]=tL[eD]=tL[eS]=!0,tL[J]=tL[X]=tL[ed]=!1;var tM={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tk=parseFloat,tz=parseInt,t$="object"==typeof nE&&nE&&nE.Object===Object&&nE,tH="object"==typeof self&&self&&self.Object===Object&&self,tq=t$||tH||Function("return this")(),tF=i&&!i.nodeType&&i,tV=tF&&t&&!t.nodeType&&t,tB=tV&&tV.exports===tF,tK=tB&&t$.process,tG=function(){try{return tV&&tV.require&&tV.require("util").types||tK&&tK.binding&&tK.binding("util")}catch{}}(),tW=tG&&tG.isArrayBuffer,tJ=tG&&tG.isDate,tY=tG&&tG.isMap,tX=tG&&tG.isRegExp,tZ=tG&&tG.isSet,tQ=tG&&tG.isTypedArray;function cn(t,i,c){switch(c.length){case 0:return t.call(i);case 1:return t.call(i,c[0]);case 2:return t.call(i,c[0],c[1]);case 3:return t.call(i,c[0],c[1],c[2])}return t.apply(i,c)}function Zf(t,i,c,l){for(var _=-1,v=null==t?0:t.length;++_<v;){var I=t[_];i(l,I,c(I),t)}return l}function mn(t,i){for(var c=-1,l=null==t?0:t.length;++c<l&&!1!==i(t[c],c,t););return t}function Ps(t,i){for(var c=-1,l=null==t?0:t.length;++c<l;)if(!i(t[c],c,t))return!1;return!0}function kn(t,i){for(var c=-1,l=null==t?0:t.length,_=0,v=[];++c<l;){var I=t[c];i(I,c,t)&&(v[_++]=I)}return v}function Ie(t,i){return!!(null==t?0:t.length)&&Rt(t,i,0)>-1}function Lr(t,i,c){for(var l=-1,_=null==t?0:t.length;++l<_;)if(c(i,t[l]))return!0;return!1}function G(t,i){for(var c=-1,l=null==t?0:t.length,_=Array(l);++c<l;)_[c]=i(t[c],c,t);return _}function jn(t,i){for(var c=-1,l=i.length,_=t.length;++c<l;)t[_+c]=i[c];return t}function Dr(t,i,c,l){var _=-1,v=null==t?0:t.length;for(l&&v&&(c=t[++_]);++_<v;)c=i(c,t[_],_,t);return c}function Xf(t,i,c,l){var _=null==t?0:t.length;for(l&&_&&(c=t[--_]);_--;)c=i(c,t[_],_,t);return c}function Hr(t,i){for(var c=-1,l=null==t?0:t.length;++c<l;)if(i(t[c],c,t))return!0;return!1}var t0=Nr("length");function As(t,i,c){var l;return c(t,function(t,c,_){if(i(t,c,_))return l=c,!1}),l}function xe(t,i,c,l){for(var _=t.length,v=c+(l?1:-1);l?v--:++v<_;)if(i(t[v],v,t))return v;return -1}function Rt(t,i,c){return i==i?function(t,i,c){for(var l=c-1,_=t.length;++l<_;)if(t[l]===i)return l;return -1}(t,i,c):xe(t,Cs,c)}function jf(t,i,c,l){for(var _=c-1,v=t.length;++_<v;)if(l(t[_],i))return _;return -1}function Cs(t){return t!=t}function Is(t,i){var c=null==t?0:t.length;return c?Ur(t,i)/c:N}function Nr(t){return function(i){return null==i?c:i[t]}}function $r(t){return function(i){return null==t?c:t[i]}}function xs(t,i,c,l,_){return _(t,function(t,_,v){c=l?(l=!1,t):i(c,t,_,v)}),c}function Ur(t,i){for(var l,_=-1,v=t.length;++_<v;){var I=i(t[_]);I!==c&&(l=l===c?I:l+I)}return l}function Wr(t,i){for(var c=-1,l=Array(t);++c<t;)l[c]=i(c);return l}function Es(t){return t&&t.slice(0,Rs(t)+1).replace(e$,"")}function hn(t){return function(i){return t(i)}}function Fr(t,i){return G(i,function(i){return t[i]})}function kt(t,i){return t.has(i)}function ys(t,i){for(var c=-1,l=t.length;++c<l&&Rt(i,t[c],0)>-1;);return c}function Ss(t,i){for(var c=t.length;c--&&Rt(i,t[c],0)>-1;);return c}var t1=$r({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),t5=$r({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function so(t){return"\\"+tM[t]}function bt(t){return tN.test(t)}function Mr(t){var i=-1,c=Array(t.size);return t.forEach(function(t,l){c[++i]=[l,t]}),c}function Os(t,i){return function(c){return t(i(c))}}function nt(t,i){for(var c=-1,l=t.length,_=0,I=[];++c<l;){var N=t[c];(N===i||N===v)&&(t[c]=v,I[_++]=c)}return I}function Ee(t){var i=-1,c=Array(t.size);return t.forEach(function(t){c[++i]=t}),c}function Tt(t){return bt(t)?function(t){for(var i=tP.lastIndex=0;tP.test(t);)++i;return i}(t):t0(t)}function On(t){return bt(t)?t.match(tP)||[]:t.split("")}function Rs(t){for(var i=t.length;i--&&eH.test(t.charAt(i)););return i}var t3=$r({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),t2=function h(t){var i,eH,e6,e8,e4=(t=null==t?tq:t2.defaults(tq.Object(),t,t2.pick(tq,tj))).Array,e9=t.Date,e7=t.Error,tt=t.Function,tn=t.Math,ts=t.Object,to=t.RegExp,tc=t.String,tl=t.TypeError,th=e4.prototype,tf=tt.prototype,td=ts.prototype,tp=t["__core-js_shared__"],t_=tf.toString,tg=td.hasOwnProperty,ty=0,tv=(i=/[^.]+$/.exec(tp&&tp.keys&&tp.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",tm=td.toString,tb=t_.call(ts),tw=tq._,tE=to("^"+t_.call(tg).replace(ek,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tD=tB?t.Buffer:c,tS=t.Symbol,tI=t.Uint8Array,tx=tD?tD.allocUnsafe:c,tP=Os(ts.getPrototypeOf,ts),tN=ts.create,tM=td.propertyIsEnumerable,t$=th.splice,tH=tS?tS.isConcatSpreadable:c,tF=tS?tS.iterator:c,tV=tS?tS.toStringTag:c,tK=function(){try{var t=_t(ts,"defineProperty");return t({},"",{}),t}catch{}}(),tG=t.clearTimeout!==tq.clearTimeout&&t.clearTimeout,t0=e9&&e9.now!==tq.Date.now&&e9.now,t6=t.setTimeout!==tq.setTimeout&&t.setTimeout,t8=tn.ceil,t4=tn.floor,t9=ts.getOwnPropertySymbols,t7=tD?tD.isBuffer:c,re=t.isFinite,rs=th.join,ro=Os(ts.keys,ts),rc=tn.max,ru=tn.min,rl=e9.now,rf=t.parseInt,rd=tn.random,rp=th.reverse,r_=_t(t,"DataView"),rg=_t(t,"Map"),ry=_t(t,"Promise"),rv=_t(t,"Set"),rm=_t(t,"WeakMap"),rb=_t(ts,"create"),rw=rm&&new rm,rE={},rD=mt(r_),rS=mt(rg),rI=mt(ry),rx=mt(rv),rC=mt(rm),rO=tS?tS.prototype:c,rP=rO?rO.valueOf:c,rA=rO?rO.toString:c;function a(t){if(K(t)&&!nO(t)&&!(t instanceof D)){if(t instanceof Pn)return t;if(tg.call(t,"__wrapped__"))return Wu(t)}return new Pn(t)}var rN=function(){function n(){}return function(t){if(!z(t))return{};if(tN)return tN(t);n.prototype=t;var i=new n;return n.prototype=c,i}}();function Fe(){}function Pn(t,i){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=c}function D(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function pt(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function Bn(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function Gn(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function dt(t){var i=-1,c=null==t?0:t.length;for(this.__data__=new Gn;++i<c;)this.add(t[i])}function Rn(t){var i=this.__data__=new Bn(t);this.size=i.size}function Ws(t,i){var c=nO(t),l=!c&&nC(t),_=!c&&!l&&nA(t),v=!c&&!l&&!_&&nU(t),I=c||l||_||v,N=I?Wr(t.length,tc):[],U=N.length;for(var M in t)(i||tg.call(t,M))&&!(I&&("length"==M||_&&("offset"==M||"parent"==M)||v&&("buffer"==M||"byteLength"==M||"byteOffset"==M)||Zn(M,U)))&&N.push(M);return N}function Fs(t){var i=t.length;return i?t[ti(0,i-1)]:c}function Kr(t,i,l){(l===c||bn(t[i],l))&&(l!==c||i in t)||zn(t,i,l)}function ie(t,i,l){var _=t[i];tg.call(t,i)&&bn(_,l)&&(l!==c||i in t)||zn(t,i,l)}function Me(t,i){for(var c=t.length;c--;)if(bn(t[c][0],i))return c;return -1}function hc(t,i,c,l){return rR(t,function(t,_,v){i(l,t,c(t),v)}),l}function Ms(t,i){return t&&Un(i,V(i),t)}function zn(t,i,c){"__proto__"==i&&tK?tK(t,i,{configurable:!0,enumerable:!0,value:c,writable:!0}):t[i]=c}function Yr(t,i){for(var l=-1,_=i.length,v=e4(_),I=null==t;++l<_;)v[l]=I?c:yi(t,i[l]);return v}function gt(t,i,l){return t==t&&(l!==c&&(t=t<=l?t:l),i!==c&&(t=t>=i?t:i)),t}function An(t,i,l,_,v,I){var N,U=1&i,k=2&i,J=4&i;if(l&&(N=v?l(t,_,v,I):l(t)),N!==c)return N;if(!z(t))return t;var eo=nO(t);if(eo){if(ed=t.length,eI=new t.constructor(ed),ed&&"string"==typeof t[0]&&tg.call(t,"index")&&(eI.index=t.index,eI.input=t.input),N=eI,!U)return un(t,N)}else{var ed,eI,ex,eC,eO,eP=rF(t),eA=eP==X||eP==Q;if(nA(t))return cu(t,U);if(eP==ea||eP==M||eA&&!v){if(N=k||eA?{}:Ru(t),!U)return k?(ex=(eO=N)&&Un(t,fn(t),eO),Un(t,rq(t),ex)):(eC=Ms(N,t),Un(t,rH(t),eC))}else{if(!tL[eP])return v?t:{};N=function(t,i,c){var l,_,v=t.constructor;switch(i){case ep:return fi(t);case B:case W:return new v(+t);case e_:return l=c?fi(t.buffer):t.buffer,new t.constructor(l,t.byteOffset,t.byteLength);case eg:case ey:case ev:case em:case eb:case ew:case eE:case eD:case eS:return hu(t,c);case er:return new v;case es:case eh:return new v(t);case ec:return(_=new t.constructor(t.source,eY.exec(t))).lastIndex=t.lastIndex,_;case el:return new v;case ef:return rP?ts(rP.call(t)):{}}}(t,eP,U)}}I||(I=new Rn);var eN=I.get(t);if(eN)return eN;I.set(t,N),nT(t)?t.forEach(function(c){N.add(An(c,i,l,c,t,I))}):nR(t)&&t.forEach(function(c,_){N.set(_,An(c,i,l,_,t,I))});var eR=J?k?li:hi:k?fn:V,ej=eo?c:eR(t);return mn(ej||t,function(c,_){ej&&(c=t[_=c]),ie(N,_,An(c,i,l,_,t,I))}),N}function qs(t,i,l){var _=l.length;if(null==t)return!_;for(t=ts(t);_--;){var v=l[_],I=i[v],N=t[v];if(N===c&&!(v in t)||!I(N))return!1}return!0}function Bs(t,i,_){if("function"!=typeof t)throw new tl(l);return rK(function(){t.apply(c,_)},i)}function se(t,i,c,l){var _=-1,v=Ie,I=!0,N=t.length,U=[],M=i.length;if(!N)return U;c&&(i=G(i,hn(c))),l?(v=Lr,I=!1):i.length>=200&&(v=kt,I=!1,i=new dt(i));e:for(;++_<N;){var k=t[_],B=null==c?k:c(k);if(k=l||0!==k?k:0,I&&B==B){for(var W=M;W--;)if(i[W]===B)continue e;U.push(k)}else v(i,B,l)||U.push(k)}return U}a.templateSettings={escape:eR,evaluate:ej,interpolate:eT,variable:"",imports:{_:a}},a.prototype=Fe.prototype,a.prototype.constructor=a,Pn.prototype=rN(Fe.prototype),Pn.prototype.constructor=Pn,D.prototype=rN(Fe.prototype),D.prototype.constructor=D,pt.prototype.clear=function(){this.__data__=rb?rb(null):{},this.size=0},pt.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},pt.prototype.get=function(t){var i=this.__data__;if(rb){var l=i[t];return l===_?c:l}return tg.call(i,t)?i[t]:c},pt.prototype.has=function(t){var i=this.__data__;return rb?i[t]!==c:tg.call(i,t)},pt.prototype.set=function(t,i){var l=this.__data__;return this.size+=this.has(t)?0:1,l[t]=rb&&i===c?_:i,this},Bn.prototype.clear=function(){this.__data__=[],this.size=0},Bn.prototype.delete=function(t){var i=this.__data__,c=Me(i,t);return!(c<0)&&(c==i.length-1?i.pop():t$.call(i,c,1),--this.size,!0)},Bn.prototype.get=function(t){var i=this.__data__,l=Me(i,t);return l<0?c:i[l][1]},Bn.prototype.has=function(t){return Me(this.__data__,t)>-1},Bn.prototype.set=function(t,i){var c=this.__data__,l=Me(c,t);return l<0?(++this.size,c.push([t,i])):c[l][1]=i,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new pt,map:new(rg||Bn),string:new pt}},Gn.prototype.delete=function(t){var i=ke(this,t).delete(t);return this.size-=i?1:0,i},Gn.prototype.get=function(t){return ke(this,t).get(t)},Gn.prototype.has=function(t){return ke(this,t).has(t)},Gn.prototype.set=function(t,i){var c=ke(this,t),l=c.size;return c.set(t,i),this.size+=c.size==l?0:1,this},dt.prototype.add=dt.prototype.push=function(t){return this.__data__.set(t,_),this},dt.prototype.has=function(t){return this.__data__.has(t)},Rn.prototype.clear=function(){this.__data__=new Bn,this.size=0},Rn.prototype.delete=function(t){var i=this.__data__,c=i.delete(t);return this.size=i.size,c},Rn.prototype.get=function(t){return this.__data__.get(t)},Rn.prototype.has=function(t){return this.__data__.has(t)},Rn.prototype.set=function(t,i){var c=this.__data__;if(c instanceof Bn){var l=c.__data__;if(!rg||l.length<199)return l.push([t,i]),this.size=++c.size,this;c=this.__data__=new Gn(l)}return c.set(t,i),this.size=c.size,this};var rR=gu($n),rj=gu(Jr,!0);function dc(t,i){var c=!0;return rR(t,function(t,l,_){return c=!!i(t,l,_)}),c}function qe(t,i,l){for(var _=-1,v=t.length;++_<v;){var I=t[_],N=i(I);if(null!=N&&(U===c?N==N&&!pn(N):l(N,U)))var U=N,M=I}return M}function zs(t,i){var c=[];return rR(t,function(t,l,_){i(t,l,_)&&c.push(t)}),c}function j(t,i,c,l,_){var v=-1,I=t.length;for(c||(c=rh),_||(_=[]);++v<I;){var N=t[v];i>0&&c(N)?i>1?j(N,i-1,c,l,_):jn(_,N):l||(_[_.length]=N)}return _}var rT=vu(),rU=vu(!0);function $n(t,i){return t&&rT(t,i,V)}function Jr(t,i){return t&&rU(t,i,V)}function Be(t,i){return kn(i,function(i){return Jn(t[i])})}function vt(t,i){i=it(i,t);for(var l=0,_=i.length;null!=t&&l<_;)t=t[Wn(i[l++])];return l&&l==_?t:c}function Ys(t,i,c){var l=i(t);return nO(t)?l:jn(l,c(t))}function en(t){return null==t?t===c?"[object Undefined]":"[object Null]":tV&&tV in ts(t)?function(t){var i=tg.call(t,tV),l=t[tV];try{t[tV]=c;var _=!0}catch{}var v=tm.call(t);return _&&(i?t[tV]=l:delete t[tV]),v}(t):tm.call(t)}function Xr(t,i){return t>i}function vc(t,i){return null!=t&&tg.call(t,i)}function _c(t,i){return null!=t&&i in ts(t)}function Qr(t,i,l){for(var _=l?Lr:Ie,v=t[0].length,I=t.length,N=I,U=e4(I),M=1/0,k=[];N--;){var B=t[N];N&&i&&(B=G(B,hn(i))),M=ru(B.length,M),U[N]=!l&&(i||v>=120&&B.length>=120)?new dt(N&&B):c}B=t[0];var W=-1,J=U[0];e:for(;++W<v&&k.length<M;){var X=B[W],Q=i?i(X):X;if(X=l||0!==X?X:0,!(J?kt(J,Q):_(k,Q,l))){for(N=I;--N;){var er=U[N];if(!(er?kt(er,Q):_(t[N],Q,l)))continue e}J&&J.push(Q),k.push(X)}}return k}function ue(t,i,l){i=it(i,t);var _=null==(t=Du(t,i))?t:t[Wn(In(i))];return null==_?c:cn(_,t,l)}function Zs(t){return K(t)&&en(t)==M}function ae(t,i,l,_,v){return t===i||(null!=t&&null!=i&&(K(t)||K(i))?function(t,i,l,_,v,I){var N=nO(t),U=nO(i),X=N?k:rF(t),Q=U?k:rF(i);X=X==M?ea:X,Q=Q==M?ea:Q;var eo=X==ea,ed=Q==ea,eg=X==Q;if(eg&&nA(t)){if(!nA(i))return!1;N=!0,eo=!1}if(eg&&!eo)return I||(I=new Rn),N||nU(t)?yu(t,i,l,_,v,I):function(t,i,c,l,_,v,I){switch(c){case e_:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)break;t=t.buffer,i=i.buffer;case ep:return!(t.byteLength!=i.byteLength||!v(new tI(t),new tI(i)));case B:case W:case es:return bn(+t,+i);case J:return t.name==i.name&&t.message==i.message;case ec:case eh:return t==i+"";case er:var N=Mr;case el:var U=1&l;if(N||(N=Ee),t.size!=i.size&&!U)break;var M=I.get(t);if(M)return M==i;l|=2,I.set(t,i);var k=yu(N(t),N(i),l,_,v,I);return I.delete(t),k;case ef:if(rP)return rP.call(t)==rP.call(i)}return!1}(t,i,X,l,_,v,I);if(!(1&l)){var ey=eo&&tg.call(t,"__wrapped__"),ev=ed&&tg.call(i,"__wrapped__");if(ey||ev){var em=ey?t.value():t,eb=ev?i.value():i;return I||(I=new Rn),v(em,eb,l,_,I)}}return!!eg&&(I||(I=new Rn),function(t,i,l,_,v,I){var N=1&l,U=hi(t),M=U.length;if(M!=hi(i).length&&!N)return!1;for(var k=M;k--;){var B=U[k];if(!(N?B in i:tg.call(i,B)))return!1}var W=I.get(t),J=I.get(i);if(W&&J)return W==i&&J==t;var X=!0;I.set(t,i),I.set(i,t);for(var Q=N;++k<M;){var er=t[B=U[k]],es=i[B];if(_)var ea=N?_(es,er,B,i,t,I):_(er,es,B,t,i,I);if(!(ea===c?er===es||v(er,es,l,_,I):ea)){X=!1;break}Q||(Q="constructor"==B)}if(X&&!Q){var eo=t.constructor,ec=i.constructor;eo!=ec&&"constructor"in t&&"constructor"in i&&!("function"==typeof eo&&eo instanceof eo&&"function"==typeof ec&&ec instanceof ec)&&(X=!1)}return I.delete(t),I.delete(i),X}(t,i,l,_,v,I))}(t,i,l,_,ae,v):t!=t&&i!=i)}function Vr(t,i,l,_){var v=l.length,I=v,N=!_;if(null==t)return!I;for(t=ts(t);v--;){var U=l[v];if(N&&U[2]?U[1]!==t[U[0]]:!(U[0]in t))return!1}for(;++v<I;){var M=(U=l[v])[0],k=t[M],B=U[1];if(N&&U[2]){if(k===c&&!(M in t))return!1}else{var W=new Rn;if(_)var J=_(k,B,M,t,i,W);if(!(J===c?ae(B,k,3,_,W):J))return!1}}return!0}function Js(t){return!(!z(t)||tv&&tv in t)&&(Jn(t)?tE:eQ).test(mt(t))}function Xs(t){return"function"==typeof t?t:null==t?on:"object"==typeof t?nO(t)?ks(t[0],t[1]):Vs(t):_a(t)}function kr(t){if(!ce(t))return ro(t);var i=[];for(var c in ts(t))tg.call(t,c)&&"constructor"!=c&&i.push(c);return i}function jr(t,i){return t<i}function Qs(t,i){var c=-1,l=an(t)?e4(t.length):[];return rR(t,function(t,_,v){l[++c]=i(t,_,v)}),l}function Vs(t){var i=di(t);return 1==i.length&&i[0][2]?Tu(i[0][0],i[0][1]):function(c){return c===t||Vr(c,t,i)}}function ks(t,i){var l;return vi(t)&&(l=i)==l&&!z(l)?Tu(Wn(t),i):function(l){var _=yi(l,t);return _===c&&_===i?Si(l,t):ae(i,_,3)}}function Ge(t,i,l,_,v){t!==i&&rT(i,function(I,N){if(v||(v=new Rn),z(I))!function(t,i,l,_,v,I,N){var U=mi(t,l),M=mi(i,l),k=N.get(M);if(k){Kr(t,l,k);return}var B=I?I(U,M,l+"",t,i,N):c,W=B===c;if(W){var J=nO(M),X=!J&&nA(M),Q=!J&&!X&&nU(M);B=M,J||X||Q?nO(U)?B=U:Y(U)?B=un(U):X?(W=!1,B=cu(M,!0)):Q?(W=!1,B=hu(M,!0)):B=[]:le(M)||nC(M)?(B=U,nC(U)?B=aa(U):(!z(U)||Jn(U))&&(B=Ru(M))):W=!1}W&&(N.set(M,B),v(B,M,_,I,N),N.delete(M)),Kr(t,l,B)}(t,i,N,l,Ge,_,v);else{var U=_?_(mi(t,N),I,N+"",t,i,v):c;U===c&&(U=I),Kr(t,N,U)}},fn)}function js(t,i){var l=t.length;if(l)return Zn(i+=i<0?l:0,l)?t[i]:c}function nu(t,i,c){i=i.length?G(i,function(t){return nO(t)?function(i){return vt(i,1===t.length?t[0]:t)}:t}):[on];var l=-1;return i=G(i,hn(C())),function(t,i){var c=t.length;for(t.sort(i);c--;)t[c]=t[c].value;return t}(Qs(t,function(t,c,_){return{criteria:G(i,function(i){return i(t)}),index:++l,value:t}}),function(t,i){return function(t,i,c){for(var l=-1,_=t.criteria,v=i.criteria,I=_.length,N=c.length;++l<I;){var U=lu(_[l],v[l]);if(U){if(l>=N)return U;return U*("desc"==c[l]?-1:1)}}return t.index-i.index}(t,i,c)})}function tu(t,i,c){for(var l=-1,_=i.length,v={};++l<_;){var I=i[l],N=vt(t,I);c(N,I)&&fe(v,it(I,t),N)}return v}function ni(t,i,c,l){var _=l?jf:Rt,v=-1,I=i.length,N=t;for(t===i&&(i=un(i)),c&&(N=G(t,hn(c)));++v<I;)for(var U=0,M=i[v],k=c?c(M):M;(U=_(N,k,U,l))>-1;)N!==t&&t$.call(N,U,1),t$.call(t,U,1);return t}function eu(t,i){for(var c=t?i.length:0,l=c-1;c--;){var _=i[c];if(c==l||_!==v){var v=_;Zn(_)?t$.call(t,_,1):ii(t,_)}}return t}function ti(t,i){return t+t4(rd()*(i-t+1))}function ei(t,i){var c="";if(!t||i<1||i>9007199254740991)return c;do i%2&&(c+=t),(i=t4(i/2))&&(t+=t);while(i);return c}function T(t,i){return rG(Lu(t,i,on),t+"")}function fe(t,i,l,_){if(!z(t))return t;i=it(i,t);for(var v=-1,I=i.length,N=I-1,U=t;null!=U&&++v<I;){var M=Wn(i[v]),k=l;if("__proto__"===M||"constructor"===M||"prototype"===M)break;if(v!=N){var B=U[M];(k=_?_(B,M,U):c)===c&&(k=z(B)?B:Zn(i[v+1])?[]:{})}ie(U,M,k),U=U[M]}return t}var rL=rw?function(t,i){return rw.set(t,i),t}:on,rM=tK?function(t,i){return tK(t,"toString",{configurable:!0,enumerable:!1,value:Ri(i),writable:!0})}:on;function Cn(t,i,c){var l=-1,_=t.length;i<0&&(i=-i>_?0:_+i),(c=c>_?_:c)<0&&(c+=_),_=i>c?0:c-i>>>0,i>>>=0;for(var v=e4(_);++l<_;)v[l]=t[l+i];return v}function $c(t,i){var c;return rR(t,function(t,l,_){return!(c=i(t,l,_))}),!!c}function ze(t,i,c){var l=0,_=null==t?l:t.length;if("number"==typeof i&&i==i&&_<=2147483647){for(;l<_;){var v=l+_>>>1,I=t[v];null!==I&&!pn(I)&&(c?I<=i:I<i)?l=v+1:_=v}return _}return ri(t,i,on,c)}function ri(t,i,l,_){var v=0,I=null==t?0:t.length;if(0===I)return 0;i=l(i);for(var N=i!=i,U=null===i,M=pn(i),k=i===c;v<I;){var B=t4((v+I)/2),W=l(t[B]),J=W!==c,X=null===W,Q=W==W,er=pn(W);if(N)var es=_||Q;else es=k?Q&&(_||J):U?Q&&J&&(_||!X):M?Q&&J&&!X&&(_||!er):!X&&!er&&(_?W<=i:W<i);es?v=B+1:I=B}return ru(I,4294967294)}function iu(t,i){for(var c=-1,l=t.length,_=0,v=[];++c<l;){var I=t[c],N=i?i(I):I;if(!c||!bn(N,U)){var U=N;v[_++]=0===I?0:I}}return v}function su(t){return"number"==typeof t?t:pn(t)?N:+t}function ln(t){if("string"==typeof t)return t;if(nO(t))return G(t,ln)+"";if(pn(t))return rA?rA.call(t):"";var i=t+"";return"0"==i&&1/t==-I?"-0":i}function rt(t,i,c){var l=-1,_=Ie,v=t.length,I=!0,N=[],U=N;if(c)I=!1,_=Lr;else if(v>=200){var M=i?null:rz(t);if(M)return Ee(M);I=!1,_=kt,U=new dt}else U=i?[]:N;e:for(;++l<v;){var k=t[l],B=i?i(k):k;if(k=c||0!==k?k:0,I&&B==B){for(var W=U.length;W--;)if(U[W]===B)continue e;i&&U.push(B),N.push(k)}else _(U,B,c)||(U!==N&&U.push(B),N.push(k))}return N}function ii(t,i){return i=it(i,t),null==(t=Du(t,i))||delete t[Wn(In(i))]}function uu(t,i,c,l){return fe(t,i,c(vt(t,i)),l)}function Ke(t,i,c,l){for(var _=t.length,v=l?_:-1;(l?v--:++v<_)&&i(t[v],v,t););return c?Cn(t,l?0:v,l?v+1:_):Cn(t,l?v+1:0,l?_:v)}function au(t,i){var c=t;return c instanceof D&&(c=c.value()),Dr(i,function(t,i){return i.func.apply(i.thisArg,jn([t],i.args))},c)}function si(t,i,c){var l=t.length;if(l<2)return l?rt(t[0]):[];for(var _=-1,v=e4(l);++_<l;)for(var I=t[_],N=-1;++N<l;)N!=_&&(v[_]=se(v[_]||I,t[N],i,c));return rt(j(v,1),i,c)}function fu(t,i,l){for(var _=-1,v=t.length,I=i.length,N={};++_<v;){var U=_<I?i[_]:c;l(N,t[_],U)}return N}function ui(t){return Y(t)?t:[]}function ai(t){return"function"==typeof t?t:on}function it(t,i){return nO(t)?t:vi(t,i)?[t]:rW($(t))}function st(t,i,l){var _=t.length;return l=l===c?_:l,!i&&l>=_?t:Cn(t,i,l)}var rk=tG||function(t){return tq.clearTimeout(t)};function cu(t,i){if(i)return t.slice();var c=t.length,l=tx?tx(c):new t.constructor(c);return t.copy(l),l}function fi(t){var i=new t.constructor(t.byteLength);return new tI(i).set(new tI(t)),i}function hu(t,i){var c=i?fi(t.buffer):t.buffer;return new t.constructor(c,t.byteOffset,t.length)}function lu(t,i){if(t!==i){var l=t!==c,_=null===t,v=t==t,I=pn(t),N=i!==c,U=null===i,M=i==i,k=pn(i);if(!U&&!k&&!I&&t>i||I&&N&&M&&!U&&!k||_&&N&&M||!l&&M||!v)return 1;if(!_&&!I&&!k&&t<i||k&&l&&v&&!_&&!I||U&&l&&v||!N&&v||!M)return -1}return 0}function pu(t,i,c,l){for(var _=-1,v=t.length,I=c.length,N=-1,U=i.length,M=rc(v-I,0),k=e4(U+M),B=!l;++N<U;)k[N]=i[N];for(;++_<I;)(B||_<v)&&(k[c[_]]=t[_]);for(;M--;)k[N++]=t[_++];return k}function du(t,i,c,l){for(var _=-1,v=t.length,I=-1,N=c.length,U=-1,M=i.length,k=rc(v-N,0),B=e4(k+M),W=!l;++_<k;)B[_]=t[_];for(var J=_;++U<M;)B[J+U]=i[U];for(;++I<N;)(W||_<v)&&(B[J+c[I]]=t[_++]);return B}function un(t,i){var c=-1,l=t.length;for(i||(i=e4(l));++c<l;)i[c]=t[c];return i}function Un(t,i,l,_){var v=!l;l||(l={});for(var I=-1,N=i.length;++I<N;){var U=i[I],M=_?_(l[U],t[U],U,l,t):c;M===c&&(M=t[U]),v?zn(l,U,M):ie(l,U,M)}return l}function Ye(t,i){return function(c,l){var _=nO(c)?Zf:hc,v=i?i():{};return _(c,t,C(l,2),v)}}function Ut(t){return T(function(i,l){var _=-1,v=l.length,I=v>1?l[v-1]:c,N=v>2?l[2]:c;for(I=t.length>3&&"function"==typeof I?(v--,I):c,N&&rn(l[0],l[1],N)&&(I=v<3?c:I,v=1),i=ts(i);++_<v;){var U=l[_];U&&t(i,U,_,I)}return i})}function gu(t,i){return function(c,l){if(null==c)return c;if(!an(c))return t(c,l);for(var _=c.length,v=i?_:-1,I=ts(c);(i?v--:++v<_)&&!1!==l(I[v],v,I););return c}}function vu(t){return function(i,c,l){for(var _=-1,v=ts(i),I=l(i),N=I.length;N--;){var U=I[t?N:++_];if(!1===c(v[U],U,v))break}return i}}function _u(t){return function(i){var l=bt(i=$(i))?On(i):c,_=l?l[0]:i.charAt(0),v=l?st(l,1).join(""):i.slice(1);return _[t]()+v}}function Wt(t){return function(i){return Dr(ga(da(i).replace(tC,"")),t,"")}}function oe(t){return function(){var i=arguments;switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3]);case 5:return new t(i[0],i[1],i[2],i[3],i[4]);case 6:return new t(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var c=rN(t.prototype),l=t.apply(c,i);return z(l)?l:c}}function mu(t){return function(i,l,_){var v=ts(i);if(!an(i)){var I=C(l,3);i=V(i),l=function(t){return I(v[t],t,v)}}var N=t(i,l,_);return N>-1?v[I?i[N]:N]:c}}function wu(t){return Yn(function(i){var _=i.length,v=_,I=Pn.prototype.thru;for(t&&i.reverse();v--;){var N=i[v];if("function"!=typeof N)throw new tl(l);if(I&&!U&&"wrapper"==Ve(N))var U=new Pn([],!0)}for(v=U?v:_;++v<_;){var M=Ve(N=i[v]),k="wrapper"==M?r$(N):c;U=k&&_i(k[0])&&424==k[1]&&!k[4].length&&1==k[9]?U[Ve(k[0])].apply(U,k[3]):1==N.length&&_i(N)?U[M]():U.thru(N)}return function(){var t=arguments,c=t[0];if(U&&1==t.length&&nO(c))return U.plant(c).value();for(var l=0,v=_?i[l].apply(this,t):c;++l<_;)v=i[l].call(this,v);return v}})}function Ze(t,i,l,_,v,I,N,U,M,k){var B=128&i,W=1&i,J=2&i,X=24&i,Q=512&i,er=J?c:oe(t);return function x(){for(var es=arguments.length,ea=e4(es),eo=es;eo--;)ea[eo]=arguments[eo];if(X)var ec=Ft(x),el=function(t,i){for(var c=t.length,l=0;c--;)t[c]===i&&++l;return l}(ea,ec);if(_&&(ea=pu(ea,_,v,X)),I&&(ea=du(ea,I,N,X)),es-=el,X&&es<k){var eh=nt(ea,ec);return Cu(t,i,Ze,x.placeholder,l,ea,eh,U,M,k-es)}var ef=W?l:this,ed=J?ef[t]:t;return es=ea.length,U?ea=function(t,i){for(var l=t.length,_=ru(i.length,l),v=un(t);_--;){var I=i[_];t[_]=Zn(I,l)?v[I]:c}return t}(ea,U):Q&&es>1&&ea.reverse(),B&&M<es&&(ea.length=M),this&&this!==tq&&this instanceof x&&(ed=er||oe(ed)),ed.apply(ef,ea)}}function Pu(t,i){return function(c,l){var _,v;return _=i(l),v={},$n(c,function(i,c,l){t(v,_(i),c,l)}),v}}function Je(t,i){return function(l,_){var v;if(l===c&&_===c)return i;if(l!==c&&(v=l),_!==c){if(v===c)return _;"string"==typeof l||"string"==typeof _?(l=ln(l),_=ln(_)):(l=su(l),_=su(_)),v=t(l,_)}return v}}function oi(t){return Yn(function(i){return i=G(i,hn(C())),T(function(c){var l=this;return t(i,function(t){return cn(t,l,c)})})})}function Xe(t,i){var l=(i=i===c?" ":ln(i)).length;if(l<2)return l?ei(i,t):i;var _=ei(i,t8(t/Tt(i)));return bt(i)?st(On(_),0,t).join(""):_.slice(0,t)}function Au(t){return function(i,l,_){return _&&"number"!=typeof _&&rn(i,l,_)&&(l=_=c),i=Xn(i),l===c?(l=i,i=0):l=Xn(l),_=_===c?i<l?1:-1:Xn(_),function(t,i,c,l){for(var _=-1,v=rc(t8((i-t)/(c||1)),0),I=e4(v);v--;)I[l?v:++_]=t,t+=c;return I}(i,l,_,t)}}function Qe(t){return function(i,c){return"string"==typeof i&&"string"==typeof c||(i=xn(i),c=xn(c)),t(i,c)}}function Cu(t,i,l,_,v,I,N,U,M,k){var B=8&i,W=B?N:c,J=B?c:N,X=B?I:c,Q=B?c:I;i|=B?32:64,4&(i&=~(B?64:32))||(i&=-4);var er=[t,i,v,X,W,Q,J,U,M,k],es=l.apply(c,er);return _i(t)&&rB(es,er),es.placeholder=_,Nu(es,t,i)}function ci(t){var i=tn[t];return function(t,c){if(t=xn(t),(c=null==c?0:ru(R(c),292))&&re(t)){var l=($(t)+"e").split("e");return+((l=($(i(l[0]+"e"+(+l[1]+c)))+"e").split("e"))[0]+"e"+(+l[1]-c))}return i(t)}}var rz=rv&&1/Ee(new rv([,-0]))[1]==I?function(t){return new rv(t)}:Li;function Iu(t){return function(i){var c,l,_=rF(i);return _==er?Mr(i):_==el?(c=-1,l=Array(i.size),i.forEach(function(t){l[++c]=[t,t]}),l):G(t(i),function(t){return[t,i[t]]})}}function Kn(t,i,_,I,N,U,M,k){var B=2&i;if(!B&&"function"!=typeof t)throw new tl(l);var W=I?I.length:0;if(W||(i&=-97,I=N=c),M=M===c?M:rc(R(M),0),k=k===c?k:R(k),W-=N?N.length:0,64&i){var J=I,X=N;I=N=c}var Q=B?c:r$(t),er=[t,i,_,I,N,J,X,U,M,k];if(Q&&function(t,i){var c=t[1],l=i[1],_=c|l,I=_<131,N=128==l&&8==c||128==l&&256==c&&t[7].length<=i[8]||384==l&&i[7].length<=i[8]&&8==c;if(I||N){1&l&&(t[2]=i[2],_|=1&c?0:4);var U=i[3];if(U){var M=t[3];t[3]=M?pu(M,U,i[4]):U,t[4]=M?nt(t[3],v):i[4]}(U=i[5])&&(M=t[5],t[5]=M?du(M,U,i[6]):U,t[6]=M?nt(t[5],v):i[6]),(U=i[7])&&(t[7]=U),128&l&&(t[8]=null==t[8]?i[8]:ru(t[8],i[8])),null==t[9]&&(t[9]=i[9]),t[0]=i[0],t[1]=_}}(er,Q),t=er[0],i=er[1],_=er[2],I=er[3],N=er[4],(k=er[9]=er[9]===c?B?0:t.length:rc(er[9]-W,0))||!(24&i)||(i&=-25),i&&1!=i)8==i||16==i?(es=t,ea=i,eo=k,ec=oe(es),ew=function s(){for(var t=arguments.length,i=e4(t),l=t,_=Ft(s);l--;)i[l]=arguments[l];var v=t<3&&i[0]!==_&&i[t-1]!==_?[]:nt(i,_);return(t-=v.length)<eo?Cu(es,ea,Ze,s.placeholder,c,i,v,c,c,eo-t):cn(this&&this!==tq&&this instanceof s?ec:es,this,i)}):32!=i&&33!=i||N.length?ew=Ze.apply(c,er):(el=t,eh=i,ef=_,ed=I,ep=1&eh,e_=oe(el),ew=function o(){for(var t=-1,i=arguments.length,c=-1,l=ed.length,_=e4(l+i),v=this&&this!==tq&&this instanceof o?e_:el;++c<l;)_[c]=ed[c];for(;i--;)_[c++]=arguments[++t];return cn(v,ep?ef:this,_)});else var es,ea,eo,ec,el,eh,ef,ed,ep,e_,eg,ey,ev,em,eb,ew=(eg=t,ey=i,ev=_,em=1&ey,eb=oe(eg),function f(){return(this&&this!==tq&&this instanceof f?eb:eg).apply(em?ev:this,arguments)});return Nu((Q?rL:rB)(ew,er),t,i)}function xu(t,i,l,_){return t===c||bn(t,td[l])&&!tg.call(_,l)?i:t}function Eu(t,i,l,_,v,I){return z(t)&&z(i)&&(I.set(i,t),Ge(t,i,c,Eu,I),I.delete(i)),t}function Jc(t){return le(t)?c:t}function yu(t,i,l,_,v,I){var N=1&l,U=t.length,M=i.length;if(U!=M&&!(N&&M>U))return!1;var k=I.get(t),B=I.get(i);if(k&&B)return k==i&&B==t;var W=-1,J=!0,X=2&l?new dt:c;for(I.set(t,i),I.set(i,t);++W<U;){var Q=t[W],er=i[W];if(_)var es=N?_(er,Q,W,i,t,I):_(Q,er,W,t,i,I);if(es!==c){if(es)continue;J=!1;break}if(X){if(!Hr(i,function(t,i){if(!kt(X,i)&&(Q===t||v(Q,t,l,_,I)))return X.push(i)})){J=!1;break}}else if(!(Q===er||v(Q,er,l,_,I))){J=!1;break}}return I.delete(t),I.delete(i),J}function Yn(t){return rG(Lu(t,c,qu),t+"")}function hi(t){return Ys(t,V,rH)}function li(t){return Ys(t,fn,rq)}var r$=rw?function(t){return rw.get(t)}:Li;function Ve(t){for(var i=t.name+"",c=rE[i],l=tg.call(rE,i)?c.length:0;l--;){var _=c[l],v=_.func;if(null==v||v==t)return _.name}return i}function Ft(t){return(tg.call(a,"placeholder")?a:t).placeholder}function C(){var t=a.iteratee||bi;return t=t===bi?Xs:t,arguments.length?t(arguments[0],arguments[1]):t}function ke(t,i){var c,l=t.__data__;return("string"==(c=typeof i)||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==i:null===i)?l["string"==typeof i?"string":"hash"]:l.map}function di(t){for(var i=V(t),c=i.length;c--;){var l=i[c],_=t[l];i[c]=[l,_,_==_&&!z(_)]}return i}function _t(t,i){var l=null==t?c:t[i];return Js(l)?l:c}var rH=t9?function(t){return null==t?[]:kn(t9(t=ts(t)),function(i){return tM.call(t,i)})}:Di,rq=t9?function(t){for(var i=[];t;)jn(i,rH(t)),t=tP(t);return i}:Di,rF=en;function Ou(t,i,c){i=it(i,t);for(var l=-1,_=i.length,v=!1;++l<_;){var I=Wn(i[l]);if(!(v=null!=t&&c(t,I)))break;t=t[I]}return v||++l!=_?v:!!(_=null==t?0:t.length)&&sr(_)&&Zn(I,_)&&(nO(t)||nC(t))}function Ru(t){return"function"!=typeof t.constructor||ce(t)?{}:rN(tP(t))}function rh(t){return nO(t)||nC(t)||!!(tH&&t&&t[tH])}function Zn(t,i){var c=typeof t;return!!(i=i??9007199254740991)&&("number"==c||"symbol"!=c&&e1.test(t))&&t>-1&&t%1==0&&t<i}function rn(t,i,c){if(!z(c))return!1;var l=typeof i;return("number"==l?!!(an(c)&&Zn(i,c.length)):"string"==l&&i in c)&&bn(c[i],t)}function vi(t,i){if(nO(t))return!1;var c=typeof t;return!!("number"==c||"symbol"==c||"boolean"==c||null==t||pn(t))||eL.test(t)||!eU.test(t)||null!=i&&t in ts(i)}function _i(t){var i=Ve(t),c=a[i];if("function"!=typeof c||!(i in D.prototype))return!1;if(t===c)return!0;var l=r$(c);return!!l&&t===l[0]}(r_&&rF(new r_(new ArrayBuffer(1)))!=e_||rg&&rF(new rg)!=er||ry&&rF(ry.resolve())!=eo||rv&&rF(new rv)!=el||rm&&rF(new rm)!=ed)&&(rF=function(t){var i=en(t),l=i==ea?t.constructor:c,_=l?mt(l):"";if(_)switch(_){case rD:return e_;case rS:return er;case rI:return eo;case rx:return el;case rC:return ed}return i});var rV=tp?Jn:Hi;function ce(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||td)}function Tu(t,i){return function(l){return null!=l&&l[t]===i&&(i!==c||t in ts(l))}}function Lu(t,i,l){return i=rc(i===c?t.length-1:i,0),function(){for(var c=arguments,_=-1,v=rc(c.length-i,0),I=e4(v);++_<v;)I[_]=c[i+_];_=-1;for(var N=e4(i+1);++_<i;)N[_]=c[_];return N[i]=l(I),cn(t,this,N)}}function Du(t,i){return i.length<2?t:vt(t,Cn(i,0,-1))}function mi(t,i){if(!("constructor"===i&&"function"==typeof t[i])&&"__proto__"!=i)return t[i]}var rB=$u(rL),rK=t6||function(t,i){return tq.setTimeout(t,i)},rG=$u(rM);function Nu(t,i,c){var l,_,v=i+"";return rG(t,function(t,i){var c=i.length;if(!c)return t;var l=c-1;return i[l]=(c>1?"& ":"")+i[l],i=i.join(c>2?", ":" "),t.replace(eF,`{
/* [wrapped with `+i+`] */
`)}(v,(l=(_=v.match(eV))?_[1].split(eB):[],mn(U,function(t){var i="_."+t[0];c&t[1]&&!Ie(l,i)&&l.push(i)}),l.sort())))}function $u(t){var i=0,l=0;return function(){var _=rl(),v=16-(_-l);if(l=_,v>0){if(++i>=800)return arguments[0]}else i=0;return t.apply(c,arguments)}}function je(t,i){var l=-1,_=t.length,v=_-1;for(i=i===c?_:i;++l<i;){var I=ti(l,v),N=t[I];t[I]=t[l],t[l]=N}return t.length=i,t}var rW=(e6=(eH=rr(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(eM,function(t,c,l,_){i.push(l?_.replace(eW,"$1"):c||t)}),i},function(t){return 500===e6.size&&e6.clear(),t})).cache,eH);function Wn(t){if("string"==typeof t||pn(t))return t;var i=t+"";return"0"==i&&1/t==-I?"-0":i}function mt(t){if(null!=t){try{return t_.call(t)}catch{}try{return t+""}catch{}}return""}function Wu(t){if(t instanceof D)return t.clone();var i=new Pn(t.__wrapped__,t.__chain__);return i.__actions__=un(t.__actions__),i.__index__=t.__index__,i.__values__=t.__values__,i}var rJ=T(function(t,i){return Y(t)?se(t,j(i,1,Y,!0)):[]}),rY=T(function(t,i){var l=In(i);return Y(l)&&(l=c),Y(t)?se(t,j(i,1,Y,!0),C(l,2)):[]}),rX=T(function(t,i){var l=In(i);return Y(l)&&(l=c),Y(t)?se(t,j(i,1,Y,!0),c,l):[]});function Fu(t,i,c){var l=null==t?0:t.length;if(!l)return -1;var _=null==c?0:R(c);return _<0&&(_=rc(l+_,0)),xe(t,C(i,3),_)}function Mu(t,i,l){var _=null==t?0:t.length;if(!_)return -1;var v=_-1;return l!==c&&(v=R(l),v=l<0?rc(_+v,0):ru(v,_-1)),xe(t,C(i,3),v,!0)}function qu(t){return(null==t?0:t.length)?j(t,1):[]}function Bu(t){return t&&t.length?t[0]:c}var rZ=T(function(t){var i=G(t,ui);return i.length&&i[0]===t[0]?Qr(i):[]}),rQ=T(function(t){var i=In(t),l=G(t,ui);return i===In(l)?i=c:l.pop(),l.length&&l[0]===t[0]?Qr(l,C(i,2)):[]}),r0=T(function(t){var i=In(t),l=G(t,ui);return(i="function"==typeof i?i:c)&&l.pop(),l.length&&l[0]===t[0]?Qr(l,c,i):[]});function In(t){var i=null==t?0:t.length;return i?t[i-1]:c}var r1=T(Gu);function Gu(t,i){return t&&t.length&&i&&i.length?ni(t,i):t}var r5=Yn(function(t,i){var c=null==t?0:t.length,l=Yr(t,i);return eu(t,G(i,function(t){return Zn(t,c)?+t:t}).sort(lu)),l});function Pi(t){return null==t?t:rp.call(t)}var r3=T(function(t){return rt(j(t,1,Y,!0))}),r2=T(function(t){var i=In(t);return Y(i)&&(i=c),rt(j(t,1,Y,!0),C(i,2))}),r6=T(function(t){var i=In(t);return i="function"==typeof i?i:c,rt(j(t,1,Y,!0),c,i)});function Ai(t){if(!(t&&t.length))return[];var i=0;return t=kn(t,function(t){if(Y(t))return i=rc(t.length,i),!0}),Wr(i,function(i){return G(t,Nr(i))})}function zu(t,i){if(!(t&&t.length))return[];var l=Ai(t);return null==i?l:G(l,function(t){return cn(i,c,t)})}var r8=T(function(t,i){return Y(t)?se(t,i):[]}),r4=T(function(t){return si(kn(t,Y))}),r9=T(function(t){var i=In(t);return Y(i)&&(i=c),si(kn(t,Y),C(i,2))}),r7=T(function(t){var i=In(t);return i="function"==typeof i?i:c,si(kn(t,Y),c,i)}),nn=T(Ai),ns=T(function(t){var i=t.length,l=i>1?t[i-1]:c;return l="function"==typeof l?(t.pop(),l):c,zu(t,l)});function Ku(t){var i=a(t);return i.__chain__=!0,i}function nr(t,i){return i(t)}var na=Yn(function(t){var i=t.length,l=i?t[0]:0,_=this.__wrapped__,s=function(i){return Yr(i,t)};return!(i>1)&&!this.__actions__.length&&_ instanceof D&&Zn(l)?((_=_.slice(l,+l+(i?1:0))).__actions__.push({func:nr,args:[s],thisArg:c}),new Pn(_,this.__chain__).thru(function(t){return i&&!t.length&&t.push(c),t})):this.thru(s)}),no=Ye(function(t,i,c){tg.call(t,c)?++t[c]:zn(t,c,1)}),nc=mu(Fu),nl=mu(Mu);function Yu(t,i){return(nO(t)?mn:rR)(t,C(i,3))}function Zu(t,i){return(nO(t)?function(t,i){for(var c=null==t?0:t.length;c--&&!1!==i(t[c],c,t););return t}:rj)(t,C(i,3))}var nh=Ye(function(t,i,c){tg.call(t,c)?t[c].push(i):zn(t,c,[i])}),nf=T(function(t,i,c){var l=-1,_="function"==typeof i,v=an(t)?e4(t.length):[];return rR(t,function(t){v[++l]=_?cn(i,t,c):ue(t,i,c)}),v}),nd=Ye(function(t,i,c){zn(t,c,i)});function tr(t,i){return(nO(t)?G:Qs)(t,C(i,3))}var np=Ye(function(t,i,c){t[c?0:1].push(i)},function(){return[[],[]]}),n_=T(function(t,i){if(null==t)return[];var c=i.length;return c>1&&rn(t,i[0],i[1])?i=[]:c>2&&rn(i[0],i[1],i[2])&&(i=[i[0]]),nu(t,j(i,1),[])}),ng=t0||function(){return tq.Date.now()};function Ju(t,i,l){return i=l?c:i,i=t&&null==i?t.length:i,Kn(t,128,c,c,c,c,i)}function Xu(t,i){var _;if("function"!=typeof i)throw new tl(l);return t=R(t),function(){return--t>0&&(_=i.apply(this,arguments)),t<=1&&(i=c),_}}var ny=T(function(t,i,c){var l=1;if(c.length){var _=nt(c,Ft(ny));l|=32}return Kn(t,l,i,c,_)}),nv=T(function(t,i,c){var l=3;if(c.length){var _=nt(c,Ft(nv));l|=32}return Kn(i,l,t,c,_)});function ju(t,i,_){var v,I,N,U,M,k,B=0,W=!1,J=!1,X=!0;if("function"!=typeof t)throw new tl(l);function A(i){var l=v,_=I;return v=I=c,B=i,U=t.apply(_,l)}function x(t){var l=t-k,_=t-B;return k===c||l>=i||l<0||J&&_>=N}function L(){var t,c,l,_=ng();if(x(_))return H(_);M=rK(L,(t=_-k,c=_-B,l=i-t,J?ru(l,N-c):l))}function H(t){return M=c,X&&v?A(t):(v=I=c,U)}function gn(){var t,l=ng(),_=x(l);if(v=arguments,I=this,k=l,_){if(M===c)return B=t=k,M=rK(L,i),W?A(t):U;if(J)return rk(M),M=rK(L,i),A(k)}return M===c&&(M=rK(L,i)),U}return i=xn(i)||0,z(_)&&(W=!!_.leading,N=(J="maxWait"in _)?rc(xn(_.maxWait)||0,i):N,X="trailing"in _?!!_.trailing:X),gn.cancel=function(){M!==c&&rk(M),B=0,v=k=I=M=c},gn.flush=function(){return M===c?U:H(ng())},gn}var nm=T(function(t,i){return Bs(t,1,i)}),nb=T(function(t,i,c){return Bs(t,xn(i)||0,c)});function rr(t,i){if("function"!=typeof t||null!=i&&"function"!=typeof i)throw new tl(l);var e=function(){var c=arguments,l=i?i.apply(this,c):c[0],_=e.cache;if(_.has(l))return _.get(l);var v=t.apply(this,c);return e.cache=_.set(l,v)||_,v};return e.cache=new(rr.Cache||Gn),e}function ir(t){if("function"!=typeof t)throw new tl(l);return function(){var i=arguments;switch(i.length){case 0:return!t.call(this);case 1:return!t.call(this,i[0]);case 2:return!t.call(this,i[0],i[1]);case 3:return!t.call(this,i[0],i[1],i[2])}return!t.apply(this,i)}}rr.Cache=Gn;var nw=T(function(t,i){var c=(i=1==i.length&&nO(i[0])?G(i[0],hn(C())):G(j(i,1),hn(C()))).length;return T(function(l){for(var _=-1,v=ru(l.length,c);++_<v;)l[_]=i[_].call(this,l[_]);return cn(t,this,l)})}),nE=T(function(t,i){var l=nt(i,Ft(nE));return Kn(t,32,c,i,l)}),nD=T(function(t,i){var l=nt(i,Ft(nD));return Kn(t,64,c,i,l)}),nS=Yn(function(t,i){return Kn(t,256,c,c,c,i)});function bn(t,i){return t===i||t!=t&&i!=i}var nI=Qe(Xr),nx=Qe(function(t,i){return t>=i}),nC=Zs(function(){return arguments}())?Zs:function(t){return K(t)&&tg.call(t,"callee")&&!tM.call(t,"callee")},nO=e4.isArray,nP=tW?hn(tW):function(t){return K(t)&&en(t)==ep};function an(t){return null!=t&&sr(t.length)&&!Jn(t)}function Y(t){return K(t)&&an(t)}var nA=t7||Hi,nN=tJ?hn(tJ):function(t){return K(t)&&en(t)==W};function xi(t){if(!K(t))return!1;var i=en(t);return i==J||"[object DOMException]"==i||"string"==typeof t.message&&"string"==typeof t.name&&!le(t)}function Jn(t){if(!z(t))return!1;var i=en(t);return i==X||i==Q||"[object AsyncFunction]"==i||"[object Proxy]"==i}function ta(t){return"number"==typeof t&&t==R(t)}function sr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function z(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}function K(t){return null!=t&&"object"==typeof t}var nR=tY?hn(tY):function(t){return K(t)&&rF(t)==er};function ra(t){return"number"==typeof t||K(t)&&en(t)==es}function le(t){if(!K(t)||en(t)!=ea)return!1;var i=tP(t);if(null===i)return!0;var c=tg.call(i,"constructor")&&i.constructor;return"function"==typeof c&&c instanceof c&&t_.call(c)==tb}var nj=tX?hn(tX):function(t){return K(t)&&en(t)==ec},nT=tZ?hn(tZ):function(t){return K(t)&&rF(t)==el};function ur(t){return"string"==typeof t||!nO(t)&&K(t)&&en(t)==eh}function pn(t){return"symbol"==typeof t||K(t)&&en(t)==ef}var nU=tQ?hn(tQ):function(t){return K(t)&&sr(t.length)&&!!tU[en(t)]},nL=Qe(jr),nM=Qe(function(t,i){return t<=i});function sa(t){if(!t)return[];if(an(t))return ur(t)?On(t):un(t);if(tF&&t[tF])return function(t){for(var i,c=[];!(i=t.next()).done;)c.push(i.value);return c}(t[tF]());var i=rF(t);return(i==er?Mr:i==el?Ee:qt)(t)}function Xn(t){return t?(t=xn(t))===I||t===-I?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0}function R(t){var i=Xn(t),c=i%1;return i==i?c?i-c:i:0}function ua(t){return t?gt(R(t),0,4294967295):0}function xn(t){if("number"==typeof t)return t;if(pn(t))return N;if(z(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=z(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=Es(t);var c=eZ.test(t);return c||e0.test(t)?tz(t.slice(2),c?2:8):eX.test(t)?N:+t}function aa(t){return Un(t,fn(t))}function $(t){return null==t?"":ln(t)}var nk=Ut(function(t,i){if(ce(i)||an(i)){Un(i,V(i),t);return}for(var c in i)tg.call(i,c)&&ie(t,c,i[c])}),nz=Ut(function(t,i){Un(i,fn(i),t)}),n$=Ut(function(t,i,c,l){Un(i,fn(i),t,l)}),nH=Ut(function(t,i,c,l){Un(i,V(i),t,l)}),nq=Yn(Yr),nF=T(function(t,i){t=ts(t);var l=-1,_=i.length,v=_>2?i[2]:c;for(v&&rn(i[0],i[1],v)&&(_=1);++l<_;)for(var I=i[l],N=fn(I),U=-1,M=N.length;++U<M;){var k=N[U],B=t[k];(B===c||bn(B,td[k])&&!tg.call(t,k))&&(t[k]=I[k])}return t}),nV=T(function(t){return t.push(c,Eu),cn(nJ,c,t)});function yi(t,i,l){var _=null==t?c:vt(t,i);return _===c?l:_}function Si(t,i){return null!=t&&Ou(t,i,_c)}var nB=Pu(function(t,i,c){null!=i&&"function"!=typeof i.toString&&(i=tm.call(i)),t[i]=c},Ri(on)),nK=Pu(function(t,i,c){null!=i&&"function"!=typeof i.toString&&(i=tm.call(i)),tg.call(t,i)?t[i].push(c):t[i]=[c]},C),nG=T(ue);function V(t){return an(t)?Ws(t):kr(t)}function fn(t){return an(t)?Ws(t,!0):function(t){if(!z(t))return function(t){var i=[];if(null!=t)for(var c in ts(t))i.push(c);return i}(t);var i=ce(t),c=[];for(var l in t)"constructor"==l&&(i||!tg.call(t,l))||c.push(l);return c}(t)}var nW=Ut(function(t,i,c){Ge(t,i,c)}),nJ=Ut(function(t,i,c,l){Ge(t,i,c,l)}),nY=Yn(function(t,i){var c={};if(null==t)return c;var l=!1;i=G(i,function(i){return i=it(i,t),l||(l=i.length>1),i}),Un(t,li(t),c),l&&(c=An(c,7,Jc));for(var _=i.length;_--;)ii(c,i[_]);return c}),nX=Yn(function(t,i){return null==t?{}:tu(t,i,function(i,c){return Si(t,c)})});function ca(t,i){if(null==t)return{};var c=G(li(t),function(t){return[t]});return i=C(i),tu(t,c,function(t,c){return i(t,c[0])})}var nZ=Iu(V),nQ=Iu(fn);function qt(t){return null==t?[]:Fr(t,V(t))}var n0=Wt(function(t,i,c){return i=i.toLowerCase(),t+(c?pa(i):i)});function pa(t){return n4($(t).toLowerCase())}function da(t){return(t=$(t))&&t.replace(e5,t1).replace(tO,"")}var n1=Wt(function(t,i,c){return t+(c?"-":"")+i.toLowerCase()}),n5=Wt(function(t,i,c){return t+(c?" ":"")+i.toLowerCase()}),n3=_u("toLowerCase"),n2=Wt(function(t,i,c){return t+(c?"_":"")+i.toLowerCase()}),n6=Wt(function(t,i,c){return t+(c?" ":"")+n4(i)}),n8=Wt(function(t,i,c){return t+(c?" ":"")+i.toUpperCase()}),n4=_u("toUpperCase");function ga(t,i,l){var _;return t=$(t),(i=l?c:i)===c?(_=t,tR.test(_))?t.match(tA)||[]:t.match(eK)||[]:t.match(i)||[]}var n9=T(function(t,i){try{return cn(t,c,i)}catch(t){return xi(t)?t:new e7(t)}}),n7=Yn(function(t,i){return mn(i,function(i){zn(t,i=Wn(i),ny(t[i],t))}),t});function Ri(t){return function(){return t}}var is=wu(),ia=wu(!0);function on(t){return t}function bi(t){return Xs("function"==typeof t?t:An(t,1))}var io=T(function(t,i){return function(c){return ue(c,t,i)}}),ic=T(function(t,i){return function(c){return ue(t,c,i)}});function Ti(t,i,c){var l=V(i),_=Be(i,l);null!=c||z(i)&&(_.length||!l.length)||(c=i,i=t,t=this,_=Be(i,V(i)));var v=!(z(c)&&"chain"in c)||!!c.chain,I=Jn(t);return mn(_,function(c){var l=i[c];t[c]=l,I&&(t.prototype[c]=function(){var i=this.__chain__;if(v||i){var c=t(this.__wrapped__);return(c.__actions__=un(this.__actions__)).push({func:l,args:arguments,thisArg:t}),c.__chain__=i,c}return l.apply(t,jn([this.value()],arguments))})}),t}function Li(){}var il=oi(G),ih=oi(Ps),id=oi(Hr);function _a(t){return vi(t)?Nr(Wn(t)):function(i){return vt(i,t)}}var ip=Au(),i_=Au(!0);function Di(){return[]}function Hi(){return!1}var ig=Je(function(t,i){return t+i},0),iy=ci("ceil"),iv=Je(function(t,i){return t/i},1),im=ci("floor"),ib=Je(function(t,i){return t*i},1),iw=ci("round"),iE=Je(function(t,i){return t-i},0);return a.after=function(t,i){if("function"!=typeof i)throw new tl(l);return t=R(t),function(){if(--t<1)return i.apply(this,arguments)}},a.ary=Ju,a.assign=nk,a.assignIn=nz,a.assignInWith=n$,a.assignWith=nH,a.at=nq,a.before=Xu,a.bind=ny,a.bindAll=n7,a.bindKey=nv,a.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return nO(t)?t:[t]},a.chain=Ku,a.chunk=function(t,i,l){i=(l?rn(t,i,l):i===c)?1:rc(R(i),0);var _=null==t?0:t.length;if(!_||i<1)return[];for(var v=0,I=0,N=e4(t8(_/i));v<_;)N[I++]=Cn(t,v,v+=i);return N},a.compact=function(t){for(var i=-1,c=null==t?0:t.length,l=0,_=[];++i<c;){var v=t[i];v&&(_[l++]=v)}return _},a.concat=function(){var t=arguments.length;if(!t)return[];for(var i=e4(t-1),c=arguments[0],l=t;l--;)i[l-1]=arguments[l];return jn(nO(c)?un(c):[c],j(i,1))},a.cond=function(t){var i=null==t?0:t.length,c=C();return t=i?G(t,function(t){if("function"!=typeof t[1])throw new tl(l);return[c(t[0]),t[1]]}):[],T(function(c){for(var l=-1;++l<i;){var _=t[l];if(cn(_[0],this,c))return cn(_[1],this,c)}})},a.conforms=function(t){var i,c;return c=V(i=An(t,1)),function(t){return qs(t,i,c)}},a.constant=Ri,a.countBy=no,a.create=function(t,i){var c=rN(t);return null==i?c:Ms(c,i)},a.curry=function Vu(t,i,l){i=l?c:i;var _=Kn(t,8,c,c,c,c,c,i);return _.placeholder=Vu.placeholder,_},a.curryRight=function ku(t,i,l){i=l?c:i;var _=Kn(t,16,c,c,c,c,c,i);return _.placeholder=ku.placeholder,_},a.debounce=ju,a.defaults=nF,a.defaultsDeep=nV,a.defer=nm,a.delay=nb,a.difference=rJ,a.differenceBy=rY,a.differenceWith=rX,a.drop=function(t,i,l){var _=null==t?0:t.length;return _?Cn(t,(i=l||i===c?1:R(i))<0?0:i,_):[]},a.dropRight=function(t,i,l){var _=null==t?0:t.length;return _?Cn(t,0,(i=_-(i=l||i===c?1:R(i)))<0?0:i):[]},a.dropRightWhile=function(t,i){return t&&t.length?Ke(t,C(i,3),!0,!0):[]},a.dropWhile=function(t,i){return t&&t.length?Ke(t,C(i,3),!0):[]},a.fill=function(t,i,l,_){var v=null==t?0:t.length;return v?(l&&"number"!=typeof l&&rn(t,i,l)&&(l=0,_=v),function(t,i,l,_){var v=t.length;for((l=R(l))<0&&(l=-l>v?0:v+l),(_=_===c||_>v?v:R(_))<0&&(_+=v),_=l>_?0:ua(_);l<_;)t[l++]=i;return t}(t,i,l,_)):[]},a.filter=function(t,i){return(nO(t)?kn:zs)(t,C(i,3))},a.flatMap=function(t,i){return j(tr(t,i),1)},a.flatMapDeep=function(t,i){return j(tr(t,i),I)},a.flatMapDepth=function(t,i,l){return l=l===c?1:R(l),j(tr(t,i),l)},a.flatten=qu,a.flattenDeep=function(t){return(null==t?0:t.length)?j(t,I):[]},a.flattenDepth=function(t,i){return(null==t?0:t.length)?j(t,i=i===c?1:R(i)):[]},a.flip=function(t){return Kn(t,512)},a.flow=is,a.flowRight=ia,a.fromPairs=function(t){for(var i=-1,c=null==t?0:t.length,l={};++i<c;){var _=t[i];l[_[0]]=_[1]}return l},a.functions=function(t){return null==t?[]:Be(t,V(t))},a.functionsIn=function(t){return null==t?[]:Be(t,fn(t))},a.groupBy=nh,a.initial=function(t){return(null==t?0:t.length)?Cn(t,0,-1):[]},a.intersection=rZ,a.intersectionBy=rQ,a.intersectionWith=r0,a.invert=nB,a.invertBy=nK,a.invokeMap=nf,a.iteratee=bi,a.keyBy=nd,a.keys=V,a.keysIn=fn,a.map=tr,a.mapKeys=function(t,i){var c={};return i=C(i,3),$n(t,function(t,l,_){zn(c,i(t,l,_),t)}),c},a.mapValues=function(t,i){var c={};return i=C(i,3),$n(t,function(t,l,_){zn(c,l,i(t,l,_))}),c},a.matches=function(t){return Vs(An(t,1))},a.matchesProperty=function(t,i){return ks(t,An(i,1))},a.memoize=rr,a.merge=nW,a.mergeWith=nJ,a.method=io,a.methodOf=ic,a.mixin=Ti,a.negate=ir,a.nthArg=function(t){return t=R(t),T(function(i){return js(i,t)})},a.omit=nY,a.omitBy=function(t,i){return ca(t,ir(C(i)))},a.once=function(t){return Xu(2,t)},a.orderBy=function(t,i,l,_){return null==t?[]:(nO(i)||(i=null==i?[]:[i]),nO(l=_?c:l)||(l=null==l?[]:[l]),nu(t,i,l))},a.over=il,a.overArgs=nw,a.overEvery=ih,a.overSome=id,a.partial=nE,a.partialRight=nD,a.partition=np,a.pick=nX,a.pickBy=ca,a.property=_a,a.propertyOf=function(t){return function(i){return null==t?c:vt(t,i)}},a.pull=r1,a.pullAll=Gu,a.pullAllBy=function(t,i,c){return t&&t.length&&i&&i.length?ni(t,i,C(c,2)):t},a.pullAllWith=function(t,i,l){return t&&t.length&&i&&i.length?ni(t,i,c,l):t},a.pullAt=r5,a.range=ip,a.rangeRight=i_,a.rearg=nS,a.reject=function(t,i){return(nO(t)?kn:zs)(t,ir(C(i,3)))},a.remove=function(t,i){var c=[];if(!(t&&t.length))return c;var l=-1,_=[],v=t.length;for(i=C(i,3);++l<v;){var I=t[l];i(I,l,t)&&(c.push(I),_.push(l))}return eu(t,_),c},a.rest=function(t,i){if("function"!=typeof t)throw new tl(l);return T(t,i=i===c?i:R(i))},a.reverse=Pi,a.sampleSize=function(t,i,l){return i=(l?rn(t,i,l):i===c)?1:R(i),(nO(t)?function(t,i){return je(un(t),gt(i,0,t.length))}:function(t,i){var c=qt(t);return je(c,gt(i,0,c.length))})(t,i)},a.set=function(t,i,c){return null==t?t:fe(t,i,c)},a.setWith=function(t,i,l,_){return _="function"==typeof _?_:c,null==t?t:fe(t,i,l,_)},a.shuffle=function(t){return(nO(t)?function(t){return je(un(t))}:function(t){return je(qt(t))})(t)},a.slice=function(t,i,l){var _=null==t?0:t.length;return _?(l&&"number"!=typeof l&&rn(t,i,l)?(i=0,l=_):(i=null==i?0:R(i),l=l===c?_:R(l)),Cn(t,i,l)):[]},a.sortBy=n_,a.sortedUniq=function(t){return t&&t.length?iu(t):[]},a.sortedUniqBy=function(t,i){return t&&t.length?iu(t,C(i,2)):[]},a.split=function(t,i,l){return l&&"number"!=typeof l&&rn(t,i,l)&&(i=l=c),(l=l===c?4294967295:l>>>0)?(t=$(t))&&("string"==typeof i||null!=i&&!nj(i))&&!(i=ln(i))&&bt(t)?st(On(t),0,l):t.split(i,l):[]},a.spread=function(t,i){if("function"!=typeof t)throw new tl(l);return i=null==i?0:rc(R(i),0),T(function(c){var l=c[i],_=st(c,0,i);return l&&jn(_,l),cn(t,this,_)})},a.tail=function(t){var i=null==t?0:t.length;return i?Cn(t,1,i):[]},a.take=function(t,i,l){return t&&t.length?Cn(t,0,(i=l||i===c?1:R(i))<0?0:i):[]},a.takeRight=function(t,i,l){var _=null==t?0:t.length;return _?Cn(t,(i=_-(i=l||i===c?1:R(i)))<0?0:i,_):[]},a.takeRightWhile=function(t,i){return t&&t.length?Ke(t,C(i,3),!1,!0):[]},a.takeWhile=function(t,i){return t&&t.length?Ke(t,C(i,3)):[]},a.tap=function(t,i){return i(t),t},a.throttle=function(t,i,c){var _=!0,v=!0;if("function"!=typeof t)throw new tl(l);return z(c)&&(_="leading"in c?!!c.leading:_,v="trailing"in c?!!c.trailing:v),ju(t,i,{leading:_,maxWait:i,trailing:v})},a.thru=nr,a.toArray=sa,a.toPairs=nZ,a.toPairsIn=nQ,a.toPath=function(t){return nO(t)?G(t,Wn):pn(t)?[t]:un(rW($(t)))},a.toPlainObject=aa,a.transform=function(t,i,c){var l=nO(t),_=l||nA(t)||nU(t);if(i=C(i,4),null==c){var v=t&&t.constructor;c=_?l?new v:[]:z(t)&&Jn(v)?rN(tP(t)):{}}return(_?mn:$n)(t,function(t,l,_){return i(c,t,l,_)}),c},a.unary=function(t){return Ju(t,1)},a.union=r3,a.unionBy=r2,a.unionWith=r6,a.uniq=function(t){return t&&t.length?rt(t):[]},a.uniqBy=function(t,i){return t&&t.length?rt(t,C(i,2)):[]},a.uniqWith=function(t,i){return i="function"==typeof i?i:c,t&&t.length?rt(t,c,i):[]},a.unset=function(t,i){return null==t||ii(t,i)},a.unzip=Ai,a.unzipWith=zu,a.update=function(t,i,c){return null==t?t:uu(t,i,ai(c))},a.updateWith=function(t,i,l,_){return _="function"==typeof _?_:c,null==t?t:uu(t,i,ai(l),_)},a.values=qt,a.valuesIn=function(t){return null==t?[]:Fr(t,fn(t))},a.without=r8,a.words=ga,a.wrap=function(t,i){return nE(ai(i),t)},a.xor=r4,a.xorBy=r9,a.xorWith=r7,a.zip=nn,a.zipObject=function(t,i){return fu(t||[],i||[],ie)},a.zipObjectDeep=function(t,i){return fu(t||[],i||[],fe)},a.zipWith=ns,a.entries=nZ,a.entriesIn=nQ,a.extend=nz,a.extendWith=n$,Ti(a,a),a.add=ig,a.attempt=n9,a.camelCase=n0,a.capitalize=pa,a.ceil=iy,a.clamp=function(t,i,l){return l===c&&(l=i,i=c),l!==c&&(l=(l=xn(l))==l?l:0),i!==c&&(i=(i=xn(i))==i?i:0),gt(xn(t),i,l)},a.clone=function(t){return An(t,4)},a.cloneDeep=function(t){return An(t,5)},a.cloneDeepWith=function(t,i){return An(t,5,i="function"==typeof i?i:c)},a.cloneWith=function(t,i){return An(t,4,i="function"==typeof i?i:c)},a.conformsTo=function(t,i){return null==i||qs(t,i,V(i))},a.deburr=da,a.defaultTo=function(t,i){return null==t||t!=t?i:t},a.divide=iv,a.endsWith=function(t,i,l){t=$(t),i=ln(i);var _=t.length,v=l=l===c?_:gt(R(l),0,_);return(l-=i.length)>=0&&t.slice(l,v)==i},a.eq=bn,a.escape=function(t){return(t=$(t))&&eN.test(t)?t.replace(eP,t5):t},a.escapeRegExp=function(t){return(t=$(t))&&ez.test(t)?t.replace(ek,"\\$&"):t},a.every=function(t,i,l){var _=nO(t)?Ps:dc;return l&&rn(t,i,l)&&(i=c),_(t,C(i,3))},a.find=nc,a.findIndex=Fu,a.findKey=function(t,i){return As(t,C(i,3),$n)},a.findLast=nl,a.findLastIndex=Mu,a.findLastKey=function(t,i){return As(t,C(i,3),Jr)},a.floor=im,a.forEach=Yu,a.forEachRight=Zu,a.forIn=function(t,i){return null==t?t:rT(t,C(i,3),fn)},a.forInRight=function(t,i){return null==t?t:rU(t,C(i,3),fn)},a.forOwn=function(t,i){return t&&$n(t,C(i,3))},a.forOwnRight=function(t,i){return t&&Jr(t,C(i,3))},a.get=yi,a.gt=nI,a.gte=nx,a.has=function(t,i){return null!=t&&Ou(t,i,vc)},a.hasIn=Si,a.head=Bu,a.identity=on,a.includes=function(t,i,c,l){t=an(t)?t:qt(t),c=c&&!l?R(c):0;var _=t.length;return c<0&&(c=rc(_+c,0)),ur(t)?c<=_&&t.indexOf(i,c)>-1:!!_&&Rt(t,i,c)>-1},a.indexOf=function(t,i,c){var l=null==t?0:t.length;if(!l)return -1;var _=null==c?0:R(c);return _<0&&(_=rc(l+_,0)),Rt(t,i,_)},a.inRange=function(t,i,l){var _,v,I;return i=Xn(i),l===c?(l=i,i=0):l=Xn(l),(_=t=xn(t))>=ru(v=i,I=l)&&_<rc(v,I)},a.invoke=nG,a.isArguments=nC,a.isArray=nO,a.isArrayBuffer=nP,a.isArrayLike=an,a.isArrayLikeObject=Y,a.isBoolean=function(t){return!0===t||!1===t||K(t)&&en(t)==B},a.isBuffer=nA,a.isDate=nN,a.isElement=function(t){return K(t)&&1===t.nodeType&&!le(t)},a.isEmpty=function(t){if(null==t)return!0;if(an(t)&&(nO(t)||"string"==typeof t||"function"==typeof t.splice||nA(t)||nU(t)||nC(t)))return!t.length;var i=rF(t);if(i==er||i==el)return!t.size;if(ce(t))return!kr(t).length;for(var c in t)if(tg.call(t,c))return!1;return!0},a.isEqual=function(t,i){return ae(t,i)},a.isEqualWith=function(t,i,l){var _=(l="function"==typeof l?l:c)?l(t,i):c;return _===c?ae(t,i,c,l):!!_},a.isError=xi,a.isFinite=function(t){return"number"==typeof t&&re(t)},a.isFunction=Jn,a.isInteger=ta,a.isLength=sr,a.isMap=nR,a.isMatch=function(t,i){return t===i||Vr(t,i,di(i))},a.isMatchWith=function(t,i,l){return l="function"==typeof l?l:c,Vr(t,i,di(i),l)},a.isNaN=function(t){return ra(t)&&t!=+t},a.isNative=function(t){if(rV(t))throw new e7("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Js(t)},a.isNil=function(t){return null==t},a.isNull=function(t){return null===t},a.isNumber=ra,a.isObject=z,a.isObjectLike=K,a.isPlainObject=le,a.isRegExp=nj,a.isSafeInteger=function(t){return ta(t)&&t>=-9007199254740991&&t<=9007199254740991},a.isSet=nT,a.isString=ur,a.isSymbol=pn,a.isTypedArray=nU,a.isUndefined=function(t){return t===c},a.isWeakMap=function(t){return K(t)&&rF(t)==ed},a.isWeakSet=function(t){return K(t)&&"[object WeakSet]"==en(t)},a.join=function(t,i){return null==t?"":rs.call(t,i)},a.kebabCase=n1,a.last=In,a.lastIndexOf=function(t,i,l){var _=null==t?0:t.length;if(!_)return -1;var v=_;return l!==c&&(v=(v=R(l))<0?rc(_+v,0):ru(v,_-1)),i==i?function(t,i,c){for(var l=c+1;l--&&t[l]!==i;);return l}(t,i,v):xe(t,Cs,v,!0)},a.lowerCase=n5,a.lowerFirst=n3,a.lt=nL,a.lte=nM,a.max=function(t){return t&&t.length?qe(t,on,Xr):c},a.maxBy=function(t,i){return t&&t.length?qe(t,C(i,2),Xr):c},a.mean=function(t){return Is(t,on)},a.meanBy=function(t,i){return Is(t,C(i,2))},a.min=function(t){return t&&t.length?qe(t,on,jr):c},a.minBy=function(t,i){return t&&t.length?qe(t,C(i,2),jr):c},a.stubArray=Di,a.stubFalse=Hi,a.stubObject=function(){return{}},a.stubString=function(){return""},a.stubTrue=function(){return!0},a.multiply=ib,a.nth=function(t,i){return t&&t.length?js(t,R(i)):c},a.noConflict=function(){return tq._===this&&(tq._=tw),this},a.noop=Li,a.now=ng,a.pad=function(t,i,c){t=$(t);var l=(i=R(i))?Tt(t):0;if(!i||l>=i)return t;var _=(i-l)/2;return Xe(t4(_),c)+t+Xe(t8(_),c)},a.padEnd=function(t,i,c){t=$(t);var l=(i=R(i))?Tt(t):0;return i&&l<i?t+Xe(i-l,c):t},a.padStart=function(t,i,c){t=$(t);var l=(i=R(i))?Tt(t):0;return i&&l<i?Xe(i-l,c)+t:t},a.parseInt=function(t,i,c){return c||null==i?i=0:i&&(i=+i),rf($(t).replace(e$,""),i||0)},a.random=function(t,i,l){if(l&&"boolean"!=typeof l&&rn(t,i,l)&&(i=l=c),l===c&&("boolean"==typeof i?(l=i,i=c):"boolean"==typeof t&&(l=t,t=c)),t===c&&i===c?(t=0,i=1):(t=Xn(t),i===c?(i=t,t=0):i=Xn(i)),t>i){var _=t;t=i,i=_}if(l||t%1||i%1){var v=rd();return ru(t+v*(i-t+tk("1e-"+((v+"").length-1))),i)}return ti(t,i)},a.reduce=function(t,i,c){var l=nO(t)?Dr:xs,_=arguments.length<3;return l(t,C(i,4),c,_,rR)},a.reduceRight=function(t,i,c){var l=nO(t)?Xf:xs,_=arguments.length<3;return l(t,C(i,4),c,_,rj)},a.repeat=function(t,i,l){return i=(l?rn(t,i,l):i===c)?1:R(i),ei($(t),i)},a.replace=function(){var t=arguments,i=$(t[0]);return t.length<3?i:i.replace(t[1],t[2])},a.result=function(t,i,l){i=it(i,t);var _=-1,v=i.length;for(v||(v=1,t=c);++_<v;){var I=null==t?c:t[Wn(i[_])];I===c&&(_=v,I=l),t=Jn(I)?I.call(t):I}return t},a.round=iw,a.runInContext=h,a.sample=function(t){return(nO(t)?Fs:function(t){return Fs(qt(t))})(t)},a.size=function(t){if(null==t)return 0;if(an(t))return ur(t)?Tt(t):t.length;var i=rF(t);return i==er||i==el?t.size:kr(t).length},a.snakeCase=n2,a.some=function(t,i,l){var _=nO(t)?Hr:$c;return l&&rn(t,i,l)&&(i=c),_(t,C(i,3))},a.sortedIndex=function(t,i){return ze(t,i)},a.sortedIndexBy=function(t,i,c){return ri(t,i,C(c,2))},a.sortedIndexOf=function(t,i){var c=null==t?0:t.length;if(c){var l=ze(t,i);if(l<c&&bn(t[l],i))return l}return -1},a.sortedLastIndex=function(t,i){return ze(t,i,!0)},a.sortedLastIndexBy=function(t,i,c){return ri(t,i,C(c,2),!0)},a.sortedLastIndexOf=function(t,i){if(null==t?0:t.length){var c=ze(t,i,!0)-1;if(bn(t[c],i))return c}return -1},a.startCase=n6,a.startsWith=function(t,i,c){return t=$(t),c=null==c?0:gt(R(c),0,t.length),i=ln(i),t.slice(c,c+i.length)==i},a.subtract=iE,a.sum=function(t){return t&&t.length?Ur(t,on):0},a.sumBy=function(t,i){return t&&t.length?Ur(t,C(i,2)):0},a.template=function(t,i,l){var _=a.templateSettings;l&&rn(t,i,l)&&(i=c),t=$(t),i=n$({},i,_,xu);var v,I,N=n$({},i.imports,_.imports,xu),U=V(N),M=Fr(N,U),k=0,B=i.interpolate||e3,W="__p += '",J=to((i.escape||e3).source+"|"+B.source+"|"+(B===eT?eJ:e3).source+"|"+(i.evaluate||e3).source+"|$","g"),X="//# sourceURL="+(tg.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tT+"]")+`
`;t.replace(J,function(i,c,l,_,N,U){return l||(l=_),W+=t.slice(k,U).replace(e2,so),c&&(v=!0,W+=`' +
__e(`+c+`) +
'`),N&&(I=!0,W+=`';
`+N+`;
__p += '`),l&&(W+=`' +
((__t = (`+l+`)) == null ? '' : __t) +
'`),k=U+i.length,i}),W+=`';
`;var Q=tg.call(i,"variable")&&i.variable;if(Q){if(eG.test(Q))throw new e7("Invalid `variable` option passed into `_.template`")}else W=`with (obj) {
`+W+`
}
`;W=(I?W.replace(eI,""):W).replace(ex,"$1").replace(eC,"$1;"),W="function("+(Q||"obj")+`) {
`+(Q?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(I?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var er=n9(function(){return tt(U,X+"return "+W).apply(c,M)});if(er.source=W,xi(er))throw er;return er},a.times=function(t,i){if((t=R(t))<1||t>9007199254740991)return[];var c=4294967295,l=ru(t,4294967295);i=C(i),t-=4294967295;for(var _=Wr(l,i);++c<t;)i(c);return _},a.toFinite=Xn,a.toInteger=R,a.toLength=ua,a.toLower=function(t){return $(t).toLowerCase()},a.toNumber=xn,a.toSafeInteger=function(t){return t?gt(R(t),-9007199254740991,9007199254740991):0===t?t:0},a.toString=$,a.toUpper=function(t){return $(t).toUpperCase()},a.trim=function(t,i,l){if((t=$(t))&&(l||i===c))return Es(t);if(!t||!(i=ln(i)))return t;var _=On(t),v=On(i),I=ys(_,v),N=Ss(_,v)+1;return st(_,I,N).join("")},a.trimEnd=function(t,i,l){if((t=$(t))&&(l||i===c))return t.slice(0,Rs(t)+1);if(!t||!(i=ln(i)))return t;var _=On(t),v=Ss(_,On(i))+1;return st(_,0,v).join("")},a.trimStart=function(t,i,l){if((t=$(t))&&(l||i===c))return t.replace(e$,"");if(!t||!(i=ln(i)))return t;var _=On(t),v=ys(_,On(i));return st(_,v).join("")},a.truncate=function(t,i){var l=30,_="...";if(z(i)){var v="separator"in i?i.separator:v;l="length"in i?R(i.length):l,_="omission"in i?ln(i.omission):_}var I=(t=$(t)).length;if(bt(t)){var N=On(t);I=N.length}if(l>=I)return t;var U=l-Tt(_);if(U<1)return _;var M=N?st(N,0,U).join(""):t.slice(0,U);if(v===c)return M+_;if(N&&(U+=M.length-U),nj(v)){if(t.slice(U).search(v)){var k,B=M;for(v.global||(v=to(v.source,$(eY.exec(v))+"g")),v.lastIndex=0;k=v.exec(B);)var W=k.index;M=M.slice(0,W===c?U:W)}}else if(t.indexOf(ln(v),U)!=U){var J=M.lastIndexOf(v);J>-1&&(M=M.slice(0,J))}return M+_},a.unescape=function(t){return(t=$(t))&&eA.test(t)?t.replace(eO,t3):t},a.uniqueId=function(t){var i=++ty;return $(t)+i},a.upperCase=n8,a.upperFirst=n4,a.each=Yu,a.eachRight=Zu,a.first=Bu,Ti(a,(e8={},$n(a,function(t,i){tg.call(a.prototype,i)||(e8[i]=t)}),e8),{chain:!1}),a.VERSION="4.17.21",mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){a[t].placeholder=a}),mn(["drop","take"],function(t,i){D.prototype[t]=function(l){l=l===c?1:rc(R(l),0);var _=this.__filtered__&&!i?new D(this):this.clone();return _.__filtered__?_.__takeCount__=ru(l,_.__takeCount__):_.__views__.push({size:ru(l,4294967295),type:t+(_.__dir__<0?"Right":"")}),_},D.prototype[t+"Right"]=function(i){return this.reverse()[t](i).reverse()}}),mn(["filter","map","takeWhile"],function(t,i){var c=i+1,l=1==c||3==c;D.prototype[t]=function(t){var i=this.clone();return i.__iteratees__.push({iteratee:C(t,3),type:c}),i.__filtered__=i.__filtered__||l,i}}),mn(["head","last"],function(t,i){var c="take"+(i?"Right":"");D.prototype[t]=function(){return this[c](1).value()[0]}}),mn(["initial","tail"],function(t,i){var c="drop"+(i?"":"Right");D.prototype[t]=function(){return this.__filtered__?new D(this):this[c](1)}}),D.prototype.compact=function(){return this.filter(on)},D.prototype.find=function(t){return this.filter(t).head()},D.prototype.findLast=function(t){return this.reverse().find(t)},D.prototype.invokeMap=T(function(t,i){return"function"==typeof t?new D(this):this.map(function(c){return ue(c,t,i)})}),D.prototype.reject=function(t){return this.filter(ir(C(t)))},D.prototype.slice=function(t,i){t=R(t);var l=this;return l.__filtered__&&(t>0||i<0)?new D(l):(t<0?l=l.takeRight(-t):t&&(l=l.drop(t)),i!==c&&(l=(i=R(i))<0?l.dropRight(-i):l.take(i-t)),l)},D.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},D.prototype.toArray=function(){return this.take(4294967295)},$n(D.prototype,function(t,i){var l=/^(?:filter|find|map|reject)|While$/.test(i),_=/^(?:head|last)$/.test(i),v=a[_?"take"+("last"==i?"Right":""):i],I=_||/^find/.test(i);v&&(a.prototype[i]=function(){var i=this.__wrapped__,N=_?[1]:arguments,U=i instanceof D,M=N[0],k=U||nO(i),m=function(t){var i=v.apply(a,jn([t],N));return _&&B?i[0]:i};k&&l&&"function"==typeof M&&1!=M.length&&(U=k=!1);var B=this.__chain__,W=!!this.__actions__.length,J=I&&!B,X=U&&!W;if(!I&&k){i=X?i:new D(this);var Q=t.apply(i,N);return Q.__actions__.push({func:nr,args:[m],thisArg:c}),new Pn(Q,B)}return J&&X?t.apply(this,N):(Q=this.thru(m),J?_?Q.value()[0]:Q.value():Q)})}),mn(["pop","push","shift","sort","splice","unshift"],function(t){var i=th[t],c=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",l=/^(?:pop|shift)$/.test(t);a.prototype[t]=function(){var t=arguments;if(l&&!this.__chain__){var _=this.value();return i.apply(nO(_)?_:[],t)}return this[c](function(c){return i.apply(nO(c)?c:[],t)})}}),$n(D.prototype,function(t,i){var c=a[i];if(c){var l=c.name+"";tg.call(rE,l)||(rE[l]=[]),rE[l].push({name:i,func:c})}}),rE[Ze(c,2).name]=[{name:"wrapper",func:c}],D.prototype.clone=function(){var t=new D(this.__wrapped__);return t.__actions__=un(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=un(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=un(this.__views__),t},D.prototype.reverse=function(){if(this.__filtered__){var t=new D(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},D.prototype.value=function(){var t=this.__wrapped__.value(),i=this.__dir__,c=nO(t),l=i<0,_=c?t.length:0,v=function(t,i,c){for(var l=-1,_=c.length;++l<_;){var v=c[l],I=v.size;switch(v.type){case"drop":t+=I;break;case"dropRight":i-=I;break;case"take":i=ru(i,t+I);break;case"takeRight":t=rc(t,i-I)}}return{start:t,end:i}}(0,_,this.__views__),I=v.start,N=v.end,U=N-I,M=l?N:I-1,k=this.__iteratees__,B=k.length,W=0,J=ru(U,this.__takeCount__);if(!c||!l&&_==U&&J==U)return au(t,this.__actions__);var X=[];e:for(;U--&&W<J;){M+=i;for(var Q=-1,er=t[M];++Q<B;){var es=k[Q],ea=es.iteratee,eo=es.type,ec=ea(er);if(2==eo)er=ec;else if(!ec){if(1==eo)continue e;break e}}X[W++]=er}return X},a.prototype.at=na,a.prototype.chain=function(){return Ku(this)},a.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},a.prototype.next=function(){this.__values__===c&&(this.__values__=sa(this.value()));var t=this.__index__>=this.__values__.length,i=t?c:this.__values__[this.__index__++];return{done:t,value:i}},a.prototype.plant=function(t){for(var i,l=this;l instanceof Fe;){var _=Wu(l);_.__index__=0,_.__values__=c,i?v.__wrapped__=_:i=_;var v=_;l=l.__wrapped__}return v.__wrapped__=t,i},a.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof D){var i=t;return this.__actions__.length&&(i=new D(this)),(i=i.reverse()).__actions__.push({func:nr,args:[Pi],thisArg:c}),new Pn(i,this.__chain__)}return this.thru(Pi)},a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=function(){return au(this.__wrapped__,this.__actions__)},a.prototype.first=a.prototype.head,tF&&(a.prototype[tF]=function(){return this}),a}();tV?((tV.exports=t2)._=t2,tF._=t2):tq._=t2}).call(nE)}(nD,nD.exports);var nS=Object.defineProperty,nI=Object.defineProperties,nx=Object.getOwnPropertyDescriptors,nC=Object.getOwnPropertySymbols,nO=Object.prototype.hasOwnProperty,nP=Object.prototype.propertyIsEnumerable,Ia=(t,i,c)=>i in t?nS(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,dist_index_es_or=(t,i)=>{for(var c in i||(i={}))nO.call(i,c)&&Ia(t,c,i[c]);if(nC)for(var c of nC(i))nP.call(i,c)&&Ia(t,c,i[c]);return t},Gg=(t,i)=>nI(t,nx(i));function En(t,i,c){let l;let _=Ui(t);return i.rpcMap&&(l=i.rpcMap[_]),l||(l=`https://rpc.walletconnect.com/v1?chainId=eip155:${_}&projectId=${c}`),l}function Ui(t){return t.includes("eip155")?Number(t.split(":")[1]):Number(t)}function xa(t){var i,c,l,_;let v={};if(!F(t))return v;for(let[I,N]of Object.entries(t)){let t=te(I)?[I]:N.chains,U=N.methods||[],M=N.events||[],k=N.rpcMap||{},B=Ze(I);v[B]=Gg(dist_index_es_or(dist_index_es_or({},v[B]),N),{chains:S(t,null==(i=v[B])?void 0:i.chains),methods:S(U,null==(c=v[B])?void 0:c.methods),events:S(M,null==(l=v[B])?void 0:l.events),rpcMap:dist_index_es_or(dist_index_es_or({},k),null==(_=v[B])?void 0:_.rpcMap)})}return v}let nA={},universal_provider_dist_index_es_J=t=>nA[t],index_es_Wi=(t,i)=>{nA[t]=i};let Zg=class Zg{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(this.chainId=t,!this.httpProviders[t]){let c=i||En(`${this.name}:${t}`,this.namespace);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.events.emit(nw.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let t=this.namespace.accounts;return t&&t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;t[i]=this.createHttpProvider(i,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||En(t,this.namespace);return typeof c>"u"?void 0:new tR.r(new nv.Z(c,universal_provider_dist_index_es_J("disableProviderPing")))}};let Jg=class Jg{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,i){let c=Ui(t);if(!this.httpProviders[c]){let t=i||En(`${this.name}:${c}`,this.namespace,this.client.core.projectId);if(!t)throw Error(`No RPC url provided for chainId: ${c}`);this.setHttpProvider(c,t)}this.chainId=c,this.events.emit(nw.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,i){let c=i||En(`${this.name}:${t}`,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new tR.r(new nv.k(c,universal_provider_dist_index_es_J("disableProviderPing")))}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;let l=Ui(i);t[l]=this.createHttpProvider(l,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){let t=this.chainId,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}async handleSwitchChain(t){var i;let c=t.request.params?null==(i=t.request.params[0])?void 0:i.chainId:"0x0";c=c.startsWith("0x")?c:`0x${c}`;let l=parseInt(c,16);if(this.isChainApproved(l))this.setDefaultChain(`${l}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:c}]},chainId:t.chainId}),this.setDefaultChain(`${l}`);else throw Error(`Failed to switch to chain 'eip155:${l}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}};let Xg=class Xg{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(!this.httpProviders[t]){let c=i||En(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.chainId=t,this.events.emit(nw.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;t[i]=this.createHttpProvider(i,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||En(t,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new tR.r(new nv.Z(c,universal_provider_dist_index_es_J("disableProviderPing")))}};let Qg=class Qg{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(this.chainId=t,!this.httpProviders[t]){let c=i||En(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.events.emit(nw.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;t[i]=this.createHttpProvider(i,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||En(t,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new tR.r(new nv.Z(c,universal_provider_dist_index_es_J("disableProviderPing")))}};let Vg=class Vg{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(this.chainId=t,!this.httpProviders[t]){let c=i||this.getCardanoRPCUrl(t);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.events.emit(nw.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{let c=this.getCardanoRPCUrl(i);t[i]=this.createHttpProvider(i,c)}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}getCardanoRPCUrl(t){let i=this.namespace.rpcMap;if(i)return i[t]}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||this.getCardanoRPCUrl(t);return typeof c>"u"?void 0:new tR.r(new nv.Z(c,universal_provider_dist_index_es_J("disableProviderPing")))}};let kg=class kg{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(!this.httpProviders[t]){let c=i||En(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.chainId=t,this.events.emit(nw.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;t[i]=this.createHttpProvider(i,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||En(t,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new tR.r(new nv.Z(c,universal_provider_dist_index_es_J("disableProviderPing")))}};let jg=class jg{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(!this.httpProviders[t]){let c=i||En(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.chainId=t,this.events.emit(nw.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;t[i]=this.createHttpProvider(i,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||En(t,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new tR.r(new nv.Z(c,universal_provider_dist_index_es_J("disableProviderPing")))}};var nN=Object.defineProperty,nR=Object.defineProperties,nj=Object.getOwnPropertyDescriptors,nT=Object.getOwnPropertySymbols,nU=Object.prototype.hasOwnProperty,nL=Object.prototype.propertyIsEnumerable,Sa=(t,i,c)=>i in t?nN(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,index_es_cr=(t,i)=>{for(var c in i||(i={}))nU.call(i,c)&&Sa(t,c,i[c]);if(nT)for(var c of nT(i))nL.call(i,c)&&Sa(t,c,i[c]);return t},index_es_Fi=(t,i)=>nR(t,nj(i));let index_es_hr=class index_es_hr{constructor(t){this.events=new(ea()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger="u">typeof t?.logger&&"string"!=typeof t?.logger?t.logger:(0,tx.pino)((0,tx.getDefaultLoggerOptions)({level:t?.logger||nm})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){let i=new index_es_hr(t);return await i.initialize(),i}async request(t,i){let[c,l]=this.validateChain(i);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(c).request({request:index_es_cr({},t),chainId:`${c}:${l}`,topic:this.session.topic})}sendAsync(t,i,c){this.request(t,c).then(t=>i(null,t)).catch(t=>i(t,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(t=this.session)?void 0:t.topic,reason:w("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}removeListener(t,i){this.events.removeListener(t,i)}off(t,i){this.events.off(t,i)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let i=0;do{if(this.shouldAbortPairingAttempt)throw Error("Pairing aborted");if(i>=this.maxPairingAttempts)throw Error("Max auto pairing attempts reached");let{uri:c,approval:l}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});c&&(this.uri=c,this.events.emit("display_uri",c)),await l().then(t=>{this.session=t}).catch(t=>{if(t.message!==na)throw t;i++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,i){try{let[c,l]=this.validateChain(t);this.getProvider(c).setDefaultChain(l,i)}catch(t){if(!/Please call connect/.test(t.message))throw t}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");let i=this.client.pairing.getAll();if(j(i)){for(let c of i)t.deletePairings?this.client.core.expirer.set(c.topic,0):await this.client.core.relayer.subscriber.unsubscribe(c.topic);this.logger.info(`Inactive pairings cleared: ${i.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await dist_index_es_M.init({logger:this.providerOpts.logger||nm,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let t=[...new Set(Object.keys(this.session.namespaces).map(t=>Ze(t)))];index_es_Wi("client",this.client),index_es_Wi("events",this.events),index_es_Wi("disableProviderPing",this.disableProviderPing),t.forEach(t=>{if(!this.session)return;let i=function(t,i){let c=Object.keys(i.namespaces).filter(i=>i.includes(t));if(!c.length)return[];let l=[];return c.forEach(t=>{let c=i.namespaces[t].accounts;l.push(...c)}),l}(t,this.session),c=i.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`),l=function(t,i={}){let c=xa(t),l=xa(i);return nD.exports.merge(c,l)}(this.namespaces,this.optionalNamespaces),_=index_es_Fi(index_es_cr({},l[t]),{accounts:i,chains:c});switch(t){case"eip155":this.rpcProviders[t]=new Jg({namespace:_});break;case"solana":this.rpcProviders[t]=new Xg({namespace:_});break;case"cosmos":this.rpcProviders[t]=new Qg({namespace:_});break;case"polkadot":this.rpcProviders[t]=new Zg({namespace:_});break;case"cip34":this.rpcProviders[t]=new Vg({namespace:_});break;case"elrond":this.rpcProviders[t]=new kg({namespace:_});break;case"multiversx":this.rpcProviders[t]=new jg({namespace:_})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{let{params:i}=t,{event:c}=i;"accountsChanged"===c.name?this.events.emit("accountsChanged",c.data):"chainChanged"===c.name?this.onChainChanged(i.chainId):this.events.emit(c.name,c.data),this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:i})=>{var c;let{namespaces:l}=i,_=null==(c=this.client)?void 0:c.session.get(t);this.session=index_es_Fi(index_es_cr({},_),{namespaces:l}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:i})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",index_es_Fi(index_es_cr({},w("USER_DISCONNECTED")),{data:t.topic}))}),this.on(nw.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){if(!this.rpcProviders[t])throw Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var i;this.getProvider(t).updateNamespace(null==(i=this.session)?void 0:i.namespaces[t])})}setNamespaces(t){let{namespaces:i,optionalNamespaces:c,sessionProperties:l}=t;if(!i||!Object.keys(i).length)throw Error("Namespaces must be not empty");this.namespaces=i,this.optionalNamespaces=c,this.sessionProperties=l,this.persist("namespaces",i),this.persist("optionalNamespaces",c)}validateChain(t){let[i,c]=t?.split(":")||["",""];if(i&&!Object.keys(this.namespaces).map(t=>Ze(t)).includes(i))throw Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);if(i&&c)return[i,c];let l=Ze(Object.keys(this.namespaces)[0]),_=this.rpcProviders[l].getDefaultChain();return[l,_]}async requestAccounts(){let[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,i=!1){var c;let[l,_]=this.validateChain(t);i||this.getProvider(l).setDefaultChain(_),(null!=(c=this.namespaces[l])?c:this.namespaces[`${l}:${_}`]).defaultChain=_,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",_)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(t,i){this.client.core.storage.setItem(`${nb}/${t}`,i)}async getFromStore(t){return await this.client.core.storage.getItem(`${nb}/${t}`)}};let nM=["eth_sendTransaction","personal_sign"],nk=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],nz=["chainChanged","accountsChanged"],n$=["message","disconnect","connect"];var nH=Object.defineProperty,nq=Object.defineProperties,nF=Object.getOwnPropertyDescriptors,nV=Object.getOwnPropertySymbols,nB=Object.prototype.hasOwnProperty,nK=Object.prototype.propertyIsEnumerable,index_es_y=(t,i,c)=>i in t?nH(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,ethereum_provider_dist_index_es_C=(t,i)=>{for(var c in i||(i={}))nB.call(i,c)&&index_es_y(t,c,i[c]);if(nV)for(var c of nV(i))nK.call(i,c)&&index_es_y(t,c,i[c]);return t},ethereum_provider_dist_index_es_O=(t,i)=>nq(t,nF(i));function index_es_I(t){return Number(t[0].split(":")[1])}function ethereum_provider_dist_index_es_w(t){return`0x${t.toString(16)}`}let dist_index_es_m=class dist_index_es_m{constructor(){this.events=new es.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(t,i)=>(this.events.on(t,i),this),this.once=(t,i)=>(this.events.once(t,i),this),this.removeListener=(t,i)=>(this.events.removeListener(t,i),this),this.off=(t,i)=>(this.events.off(t,i),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){let i=new dist_index_es_m;return await i.initialize(t),i}async request(t){return await this.signer.request(t,this.formatChainId(this.chainId))}sendAsync(t,i){this.signer.sendAsync(t,i,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);let{required:i,optional:c}=function(t){let{chains:i,optionalChains:c,methods:l,optionalMethods:_,events:v,optionalEvents:I,rpcMap:N}=t;if(!j(i))throw Error("Invalid chains");let U=l||nM,M=v||nz,k={[index_es_I(i)]:N[index_es_I(i)]},B={chains:i,methods:U,events:M,rpcMap:k},W=v?.filter(t=>!nz.includes(t)),J=l?.filter(t=>!nM.includes(t));if(!c&&!I&&!_&&!(null!=W&&W.length)&&!(null!=J&&J.length))return{required:B};let X=W?.length&&J?.length||!c,Q={chains:[...new Set(X?i.concat(c||[]):c)],methods:[...new Set(U.concat(_||[]))],events:[...new Set(M.concat(I||[]))],rpcMap:N};return{required:B,optional:Q}}(this.rpc);try{let l=await new Promise(async(l,_)=>{var v;this.rpc.showQrModal&&(null==(v=this.modal)||v.subscribeModal(t=>{t.open||this.signer.session||(this.signer.abortPairingAttempt(),_(Error("Connection request reset. Please try again.")))})),await this.signer.connect(ethereum_provider_dist_index_es_O(ethereum_provider_dist_index_es_C({namespaces:{[this.namespace]:i}},c&&{optionalNamespaces:{[this.namespace]:c}}),{pairingTopic:t?.pairingTopic})).then(t=>{l(t)}).catch(t=>{_(Error(t.message))})});if(!l)return;this.setChainIds(this.rpc.chains);let _=function(t,i=[]){let c=[];return Object.keys(t).forEach(l=>{if(i.length&&!i.includes(l))return;let _=t[l];c.push(..._.accounts)}),c}(l.namespaces,[this.namespace]);this.setAccounts(_),this.events.emit("connect",{chainId:ethereum_provider_dist_index_es_w(this.chainId)})}catch(t){throw this.signer.logger.error(t),t}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{let{params:i}=t,{event:c}=i;"accountsChanged"===c.name?(this.accounts=this.parseAccounts(c.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===c.name?this.setChainId(this.formatChainId(c.data)):this.events.emit(c.name,c.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{let i=parseInt(t);this.chainId=i,this.events.emit("chainChanged",ethereum_provider_dist_index_es_w(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",ethereum_provider_dist_index_es_O(ethereum_provider_dist_index_es_C({},w("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var i,c;this.rpc.showQrModal&&(null==(i=this.modal)||i.closeModal(),null==(c=this.modal)||c.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return"string"==typeof t&&t.startsWith(`${this.namespace}:`)}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){let i=t.filter(t=>this.isCompatibleChainId(t)).map(t=>this.parseChainId(t));i.length&&(this.chainId=i[0],this.events.emit("chainChanged",ethereum_provider_dist_index_es_w(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){let i=this.parseChainId(t);this.chainId=i,this.switchEthereumChain(i)}}parseAccountId(t){let[i,c,l]=t.split(":");return{chainId:`${i}:${c}`,address:l}}setAccounts(t){this.accounts=t.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var i,c;return{chains:(null==(i=t.chains)?void 0:i.map(t=>this.formatChainId(t)))||[`${this.namespace}:1`],optionalChains:t.optionalChains?t.optionalChains.map(t=>this.formatChainId(t)):void 0,methods:t?.methods||nM,events:t?.events||nz,optionalMethods:t?.optionalMethods||[],optionalEvents:t?.optionalEvents||[],rpcMap:t?.rpcMap||this.buildRpcMap(t.chains.concat(t.optionalChains||[]),t.projectId),showQrModal:!!(null!=t&&t.showQrModal),qrModalOptions:null!=(c=t?.qrModalOptions)?c:void 0,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,i){let c={};return t.forEach(t=>{c[t]=this.getRpcUrl(t,i)}),c}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=index_es_I(this.rpc.chains),this.signer=await index_es_hr.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{let{WalletConnectModal:i}=await c.e(4378).then(c.bind(c,24378));t=i}catch{throw Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(ethereum_provider_dist_index_es_C({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(t){throw this.signer.logger.error(t),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;let{chains:i,optionalChains:c,rpcMap:l}=t;i&&j(i)&&(this.rpc.chains=i.map(t=>this.formatChainId(t)),i.forEach(t=>{this.rpc.rpcMap[t]=l?.[t]||this.getRpcUrl(t)})),c&&j(c)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=c?.map(t=>this.formatChainId(t)),c.forEach(t=>{this.rpc.rpcMap[t]=l?.[t]||this.getRpcUrl(t)}))}getRpcUrl(t,i){var c;return(null==(c=this.rpc.rpcMap)?void 0:c[t])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${t}&projectId=${i||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),i=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:i?.accounts),this.setAccounts(i?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return"string"==typeof t||t instanceof String?[this.parseAccount(t)]:t.map(t=>this.parseAccount(t))}}},5774:function(t,i,c){"use strict";c.d(i,{q:function(){return IEvents}});let IEvents=class IEvents{}},33843:function(t,i,c){"use strict";c.r(i),c.d(i,{IEvents:function(){return l.q}});var l=c(5774)},57052:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.HEARTBEAT_EVENTS=i.HEARTBEAT_INTERVAL=void 0;let l=c(10666);i.HEARTBEAT_INTERVAL=l.FIVE_SECONDS,i.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},13566:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(87592);l.__exportStar(c(57052),i)},47798:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.HeartBeat=void 0;let l=c(87592),_=c(22699),v=c(10666),I=c(87826),N=c(13566);let HeartBeat=class HeartBeat extends I.IHeartBeat{constructor(t){super(t),this.events=new _.EventEmitter,this.interval=N.HEARTBEAT_INTERVAL,this.interval=(null==t?void 0:t.interval)||N.HEARTBEAT_INTERVAL}static init(t){return l.__awaiter(this,void 0,void 0,function*(){let i=new HeartBeat(t);return yield i.init(),i})}init(){return l.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}off(t,i){this.events.off(t,i)}removeListener(t,i){this.events.removeListener(t,i)}initialize(){return l.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),v.toMiliseconds(this.interval))})}pulse(){this.events.emit(N.HEARTBEAT_EVENTS.pulse)}};i.HeartBeat=HeartBeat},67660:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(87592);l.__exportStar(c(47798),i),l.__exportStar(c(87826),i),l.__exportStar(c(13566),i)},81829:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IHeartBeat=void 0;let l=c(33843);let IHeartBeat=class IHeartBeat extends l.IEvents{constructor(t){super()}};i.IHeartBeat=IHeartBeat},87826:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(87592);l.__exportStar(c(81829),i)},87592:function(t,i,c){"use strict";c.r(i),c.d(i,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,i){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var c in i)i.hasOwnProperty(c)&&(t[c]=i[c])})(t,i)};function __extends(t,i){function __(){this.constructor=t}extendStatics(t,i),t.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var i,c=1,l=arguments.length;c<l;c++)for(var _ in i=arguments[c])Object.prototype.hasOwnProperty.call(i,_)&&(t[_]=i[_]);return t}).apply(this,arguments)};function __rest(t,i){var c={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&0>i.indexOf(l)&&(c[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var _=0,l=Object.getOwnPropertySymbols(t);_<l.length;_++)0>i.indexOf(l[_])&&Object.prototype.propertyIsEnumerable.call(t,l[_])&&(c[l[_]]=t[l[_]]);return c}function __decorate(t,i,c,l){var _,v=arguments.length,I=v<3?i:null===l?l=Object.getOwnPropertyDescriptor(i,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(t,i,c,l);else for(var N=t.length-1;N>=0;N--)(_=t[N])&&(I=(v<3?_(I):v>3?_(i,c,I):_(i,c))||I);return v>3&&I&&Object.defineProperty(i,c,I),I}function __param(t,i){return function(c,l){i(c,l,t)}}function __metadata(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)}function __awaiter(t,i,c,l){return new(c||(c=Promise))(function(_,v){function fulfilled(t){try{step(l.next(t))}catch(t){v(t)}}function rejected(t){try{step(l.throw(t))}catch(t){v(t)}}function step(t){var i;t.done?_(t.value):((i=t.value)instanceof c?i:new c(function(t){t(i)})).then(fulfilled,rejected)}step((l=l.apply(t,i||[])).next())})}function __generator(t,i){var c,l,_,v,I={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function verb(v){return function(N){return function(v){if(c)throw TypeError("Generator is already executing.");for(;I;)try{if(c=1,l&&(_=2&v[0]?l.return:v[0]?l.throw||((_=l.return)&&_.call(l),0):l.next)&&!(_=_.call(l,v[1])).done)return _;switch(l=0,_&&(v=[2&v[0],_.value]),v[0]){case 0:case 1:_=v;break;case 4:return I.label++,{value:v[1],done:!1};case 5:I.label++,l=v[1],v=[0];continue;case 7:v=I.ops.pop(),I.trys.pop();continue;default:if(!(_=(_=I.trys).length>0&&_[_.length-1])&&(6===v[0]||2===v[0])){I=0;continue}if(3===v[0]&&(!_||v[1]>_[0]&&v[1]<_[3])){I.label=v[1];break}if(6===v[0]&&I.label<_[1]){I.label=_[1],_=v;break}if(_&&I.label<_[2]){I.label=_[2],I.ops.push(v);break}_[2]&&I.ops.pop(),I.trys.pop();continue}v=i.call(t,I)}catch(t){v=[6,t],l=0}finally{c=_=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,N])}}}function __createBinding(t,i,c,l){void 0===l&&(l=c),t[l]=i[c]}function __exportStar(t,i){for(var c in t)"default"===c||i.hasOwnProperty(c)||(i[c]=t[c])}function __values(t){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&t[i],l=0;if(c)return c.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,i){var c="function"==typeof Symbol&&t[Symbol.iterator];if(!c)return t;var l,_,v=c.call(t),I=[];try{for(;(void 0===i||i-- >0)&&!(l=v.next()).done;)I.push(l.value)}catch(t){_={error:t}}finally{try{l&&!l.done&&(c=v.return)&&c.call(v)}finally{if(_)throw _.error}}return I}function __spread(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(__read(arguments[i]));return t}function __spreadArrays(){for(var t=0,i=0,c=arguments.length;i<c;i++)t+=arguments[i].length;for(var l=Array(t),_=0,i=0;i<c;i++)for(var v=arguments[i],I=0,N=v.length;I<N;I++,_++)l[_]=v[I];return l}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,i,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var l,_=c.apply(t,i||[]),v=[];return l={},verb("next"),verb("throw"),verb("return"),l[Symbol.asyncIterator]=function(){return this},l;function verb(t){_[t]&&(l[t]=function(i){return new Promise(function(c,l){v.push([t,i,c,l])>1||resume(t,i)})})}function resume(t,i){try{var c;(c=_[t](i)).value instanceof __await?Promise.resolve(c.value.v).then(fulfill,reject):settle(v[0][2],c)}catch(t){settle(v[0][3],t)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,i){t(i),v.shift(),v.length&&resume(v[0][0],v[0][1])}}function __asyncDelegator(t){var i,c;return i={},verb("next"),verb("throw",function(t){throw t}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(l,_){i[l]=t[l]?function(i){return(c=!c)?{value:__await(t[l](i)),done:"return"===l}:_?_(i):i}:_}}function __asyncValues(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,c=t[Symbol.asyncIterator];return c?c.call(t):(t=__values(t),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(c){i[c]=t[c]&&function(i){return new Promise(function(l,_){!function(t,i,c,l){Promise.resolve(l).then(function(i){t({value:i,done:c})},i)}(l,_,(i=t[c](i)).done,i.value)})}}}function __makeTemplateObject(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t}function __importStar(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var c in t)Object.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i.default=t,i}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,i){if(!i.has(t))throw TypeError("attempted to get private field on non-instance");return i.get(t)}function __classPrivateFieldSet(t,i,c){if(!i.has(t))throw TypeError("attempted to set private field on non-instance");return i.set(t,c),c}},68385:function(t,i,c){"use strict";let l=c(70110),_=c(26041),v=l.__importDefault(c(12585)),I=c(21833);i.ZP=class{constructor(){this.localStorage=v.default}getKeys(){return l.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return l.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(I.parseEntry)})}getItem(t){return l.__awaiter(this,void 0,void 0,function*(){let i=this.localStorage.getItem(t);if(null!==i)return _.safeJsonParse(i)})}setItem(t,i){return l.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(t,_.safeJsonStringify(i))})}removeItem(t){return l.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(t)})}}},12585:function(t,i,c){"use strict";!function(){function LocalStorage(){}LocalStorage.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},LocalStorage.prototype.setItem=function(t,i){this[t]=String(i)},LocalStorage.prototype.removeItem=function(t){delete this[t]},LocalStorage.prototype.clear=function(){let t=this;Object.keys(t).forEach(function(i){t[i]=void 0,delete t[i]})},LocalStorage.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},LocalStorage.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),void 0!==c.g&&c.g.localStorage?t.exports=c.g.localStorage:"undefined"!=typeof window&&window.localStorage?t.exports=window.localStorage:t.exports=new LocalStorage}()},21833:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(70110);l.__exportStar(c(72073),i),l.__exportStar(c(50863),i)},72073:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IKeyValueStorage=void 0,i.IKeyValueStorage=class{}},50863:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.parseEntry=void 0;let l=c(26041);i.parseEntry=function(t){var i;return[t[0],l.safeJsonParse(null!==(i=t[1])&&void 0!==i?i:"")]}},70110:function(t,i,c){"use strict";c.r(i),c.d(i,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,i){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var c in i)i.hasOwnProperty(c)&&(t[c]=i[c])})(t,i)};function __extends(t,i){function __(){this.constructor=t}extendStatics(t,i),t.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var i,c=1,l=arguments.length;c<l;c++)for(var _ in i=arguments[c])Object.prototype.hasOwnProperty.call(i,_)&&(t[_]=i[_]);return t}).apply(this,arguments)};function __rest(t,i){var c={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&0>i.indexOf(l)&&(c[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var _=0,l=Object.getOwnPropertySymbols(t);_<l.length;_++)0>i.indexOf(l[_])&&Object.prototype.propertyIsEnumerable.call(t,l[_])&&(c[l[_]]=t[l[_]]);return c}function __decorate(t,i,c,l){var _,v=arguments.length,I=v<3?i:null===l?l=Object.getOwnPropertyDescriptor(i,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(t,i,c,l);else for(var N=t.length-1;N>=0;N--)(_=t[N])&&(I=(v<3?_(I):v>3?_(i,c,I):_(i,c))||I);return v>3&&I&&Object.defineProperty(i,c,I),I}function __param(t,i){return function(c,l){i(c,l,t)}}function __metadata(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)}function __awaiter(t,i,c,l){return new(c||(c=Promise))(function(_,v){function fulfilled(t){try{step(l.next(t))}catch(t){v(t)}}function rejected(t){try{step(l.throw(t))}catch(t){v(t)}}function step(t){var i;t.done?_(t.value):((i=t.value)instanceof c?i:new c(function(t){t(i)})).then(fulfilled,rejected)}step((l=l.apply(t,i||[])).next())})}function __generator(t,i){var c,l,_,v,I={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function verb(v){return function(N){return function(v){if(c)throw TypeError("Generator is already executing.");for(;I;)try{if(c=1,l&&(_=2&v[0]?l.return:v[0]?l.throw||((_=l.return)&&_.call(l),0):l.next)&&!(_=_.call(l,v[1])).done)return _;switch(l=0,_&&(v=[2&v[0],_.value]),v[0]){case 0:case 1:_=v;break;case 4:return I.label++,{value:v[1],done:!1};case 5:I.label++,l=v[1],v=[0];continue;case 7:v=I.ops.pop(),I.trys.pop();continue;default:if(!(_=(_=I.trys).length>0&&_[_.length-1])&&(6===v[0]||2===v[0])){I=0;continue}if(3===v[0]&&(!_||v[1]>_[0]&&v[1]<_[3])){I.label=v[1];break}if(6===v[0]&&I.label<_[1]){I.label=_[1],_=v;break}if(_&&I.label<_[2]){I.label=_[2],I.ops.push(v);break}_[2]&&I.ops.pop(),I.trys.pop();continue}v=i.call(t,I)}catch(t){v=[6,t],l=0}finally{c=_=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,N])}}}function __createBinding(t,i,c,l){void 0===l&&(l=c),t[l]=i[c]}function __exportStar(t,i){for(var c in t)"default"===c||i.hasOwnProperty(c)||(i[c]=t[c])}function __values(t){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&t[i],l=0;if(c)return c.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,i){var c="function"==typeof Symbol&&t[Symbol.iterator];if(!c)return t;var l,_,v=c.call(t),I=[];try{for(;(void 0===i||i-- >0)&&!(l=v.next()).done;)I.push(l.value)}catch(t){_={error:t}}finally{try{l&&!l.done&&(c=v.return)&&c.call(v)}finally{if(_)throw _.error}}return I}function __spread(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(__read(arguments[i]));return t}function __spreadArrays(){for(var t=0,i=0,c=arguments.length;i<c;i++)t+=arguments[i].length;for(var l=Array(t),_=0,i=0;i<c;i++)for(var v=arguments[i],I=0,N=v.length;I<N;I++,_++)l[_]=v[I];return l}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,i,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var l,_=c.apply(t,i||[]),v=[];return l={},verb("next"),verb("throw"),verb("return"),l[Symbol.asyncIterator]=function(){return this},l;function verb(t){_[t]&&(l[t]=function(i){return new Promise(function(c,l){v.push([t,i,c,l])>1||resume(t,i)})})}function resume(t,i){try{var c;(c=_[t](i)).value instanceof __await?Promise.resolve(c.value.v).then(fulfill,reject):settle(v[0][2],c)}catch(t){settle(v[0][3],t)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,i){t(i),v.shift(),v.length&&resume(v[0][0],v[0][1])}}function __asyncDelegator(t){var i,c;return i={},verb("next"),verb("throw",function(t){throw t}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(l,_){i[l]=t[l]?function(i){return(c=!c)?{value:__await(t[l](i)),done:"return"===l}:_?_(i):i}:_}}function __asyncValues(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,c=t[Symbol.asyncIterator];return c?c.call(t):(t=__values(t),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(c){i[c]=t[c]&&function(i){return new Promise(function(l,_){!function(t,i,c,l){Promise.resolve(l).then(function(i){t({value:i,done:c})},i)}(l,_,(i=t[c](i)).done,i.value)})}}}function __makeTemplateObject(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t}function __importStar(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var c in t)Object.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i.default=t,i}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,i){if(!i.has(t))throw TypeError("attempted to get private field on non-instance");return i.get(t)}function __classPrivateFieldSet(t,i,c){if(!i.has(t))throw TypeError("attempted to set private field on non-instance");return i.set(t,c),c}},47337:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PINO_CUSTOM_CONTEXT_KEY=i.PINO_LOGGER_DEFAULTS=void 0,i.PINO_LOGGER_DEFAULTS={level:"info"},i.PINO_CUSTOM_CONTEXT_KEY="custom_context"},52500:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.pino=void 0;let l=c(42126),_=l.__importDefault(c(69413));Object.defineProperty(i,"pino",{enumerable:!0,get:function(){return _.default}}),l.__exportStar(c(47337),i),l.__exportStar(c(48846),i)},48846:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.generateChildLogger=i.formatChildLoggerContext=i.getLoggerContext=i.setBrowserLoggerContext=i.getBrowserLoggerContext=i.getDefaultLoggerOptions=void 0;let l=c(47337);function getBrowserLoggerContext(t,i=l.PINO_CUSTOM_CONTEXT_KEY){return t[i]||""}function setBrowserLoggerContext(t,i,c=l.PINO_CUSTOM_CONTEXT_KEY){return t[c]=i,t}function getLoggerContext(t,i=l.PINO_CUSTOM_CONTEXT_KEY){return void 0===t.bindings?getBrowserLoggerContext(t,i):t.bindings().context||""}function formatChildLoggerContext(t,i,c=l.PINO_CUSTOM_CONTEXT_KEY){let _=getLoggerContext(t,c),v=_.trim()?`${_}/${i}`:i;return v}i.getDefaultLoggerOptions=function(t){return Object.assign(Object.assign({},t),{level:(null==t?void 0:t.level)||l.PINO_LOGGER_DEFAULTS.level})},i.getBrowserLoggerContext=getBrowserLoggerContext,i.setBrowserLoggerContext=setBrowserLoggerContext,i.getLoggerContext=getLoggerContext,i.formatChildLoggerContext=formatChildLoggerContext,i.generateChildLogger=function(t,i,c=l.PINO_CUSTOM_CONTEXT_KEY){let _=formatChildLoggerContext(t,i,c),v=t.child({context:_});return setBrowserLoggerContext(v,_,c)}},42126:function(t,i,c){"use strict";c.r(i),c.d(i,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,i){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var c in i)i.hasOwnProperty(c)&&(t[c]=i[c])})(t,i)};function __extends(t,i){function __(){this.constructor=t}extendStatics(t,i),t.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var i,c=1,l=arguments.length;c<l;c++)for(var _ in i=arguments[c])Object.prototype.hasOwnProperty.call(i,_)&&(t[_]=i[_]);return t}).apply(this,arguments)};function __rest(t,i){var c={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&0>i.indexOf(l)&&(c[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var _=0,l=Object.getOwnPropertySymbols(t);_<l.length;_++)0>i.indexOf(l[_])&&Object.prototype.propertyIsEnumerable.call(t,l[_])&&(c[l[_]]=t[l[_]]);return c}function __decorate(t,i,c,l){var _,v=arguments.length,I=v<3?i:null===l?l=Object.getOwnPropertyDescriptor(i,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(t,i,c,l);else for(var N=t.length-1;N>=0;N--)(_=t[N])&&(I=(v<3?_(I):v>3?_(i,c,I):_(i,c))||I);return v>3&&I&&Object.defineProperty(i,c,I),I}function __param(t,i){return function(c,l){i(c,l,t)}}function __metadata(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)}function __awaiter(t,i,c,l){return new(c||(c=Promise))(function(_,v){function fulfilled(t){try{step(l.next(t))}catch(t){v(t)}}function rejected(t){try{step(l.throw(t))}catch(t){v(t)}}function step(t){var i;t.done?_(t.value):((i=t.value)instanceof c?i:new c(function(t){t(i)})).then(fulfilled,rejected)}step((l=l.apply(t,i||[])).next())})}function __generator(t,i){var c,l,_,v,I={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function verb(v){return function(N){return function(v){if(c)throw TypeError("Generator is already executing.");for(;I;)try{if(c=1,l&&(_=2&v[0]?l.return:v[0]?l.throw||((_=l.return)&&_.call(l),0):l.next)&&!(_=_.call(l,v[1])).done)return _;switch(l=0,_&&(v=[2&v[0],_.value]),v[0]){case 0:case 1:_=v;break;case 4:return I.label++,{value:v[1],done:!1};case 5:I.label++,l=v[1],v=[0];continue;case 7:v=I.ops.pop(),I.trys.pop();continue;default:if(!(_=(_=I.trys).length>0&&_[_.length-1])&&(6===v[0]||2===v[0])){I=0;continue}if(3===v[0]&&(!_||v[1]>_[0]&&v[1]<_[3])){I.label=v[1];break}if(6===v[0]&&I.label<_[1]){I.label=_[1],_=v;break}if(_&&I.label<_[2]){I.label=_[2],I.ops.push(v);break}_[2]&&I.ops.pop(),I.trys.pop();continue}v=i.call(t,I)}catch(t){v=[6,t],l=0}finally{c=_=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,N])}}}function __createBinding(t,i,c,l){void 0===l&&(l=c),t[l]=i[c]}function __exportStar(t,i){for(var c in t)"default"===c||i.hasOwnProperty(c)||(i[c]=t[c])}function __values(t){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&t[i],l=0;if(c)return c.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,i){var c="function"==typeof Symbol&&t[Symbol.iterator];if(!c)return t;var l,_,v=c.call(t),I=[];try{for(;(void 0===i||i-- >0)&&!(l=v.next()).done;)I.push(l.value)}catch(t){_={error:t}}finally{try{l&&!l.done&&(c=v.return)&&c.call(v)}finally{if(_)throw _.error}}return I}function __spread(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(__read(arguments[i]));return t}function __spreadArrays(){for(var t=0,i=0,c=arguments.length;i<c;i++)t+=arguments[i].length;for(var l=Array(t),_=0,i=0;i<c;i++)for(var v=arguments[i],I=0,N=v.length;I<N;I++,_++)l[_]=v[I];return l}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,i,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var l,_=c.apply(t,i||[]),v=[];return l={},verb("next"),verb("throw"),verb("return"),l[Symbol.asyncIterator]=function(){return this},l;function verb(t){_[t]&&(l[t]=function(i){return new Promise(function(c,l){v.push([t,i,c,l])>1||resume(t,i)})})}function resume(t,i){try{var c;(c=_[t](i)).value instanceof __await?Promise.resolve(c.value.v).then(fulfill,reject):settle(v[0][2],c)}catch(t){settle(v[0][3],t)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,i){t(i),v.shift(),v.length&&resume(v[0][0],v[0][1])}}function __asyncDelegator(t){var i,c;return i={},verb("next"),verb("throw",function(t){throw t}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(l,_){i[l]=t[l]?function(i){return(c=!c)?{value:__await(t[l](i)),done:"return"===l}:_?_(i):i}:_}}function __asyncValues(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,c=t[Symbol.asyncIterator];return c?c.call(t):(t=__values(t),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(c){i[c]=t[c]&&function(i){return new Promise(function(l,_){!function(t,i,c,l){Promise.resolve(l).then(function(i){t({value:i,done:c})},i)}(l,_,(i=t[c](i)).done,i.value)})}}}function __makeTemplateObject(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t}function __importStar(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var c in t)Object.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i.default=t,i}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,i){if(!i.has(t))throw TypeError("attempted to get private field on non-instance");return i.get(t)}function __classPrivateFieldSet(t,i,c){if(!i.has(t))throw TypeError("attempted to set private field on non-instance");return i.set(t,c),c}},64187:function(){},3947:function(){},27025:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(52388);l.__exportStar(c(9567),i),l.__exportStar(c(16994),i)},9567:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ONE_THOUSAND=i.ONE_HUNDRED=void 0,i.ONE_HUNDRED=100,i.ONE_THOUSAND=1e3},16994:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ONE_YEAR=i.FOUR_WEEKS=i.THREE_WEEKS=i.TWO_WEEKS=i.ONE_WEEK=i.THIRTY_DAYS=i.SEVEN_DAYS=i.FIVE_DAYS=i.THREE_DAYS=i.ONE_DAY=i.TWENTY_FOUR_HOURS=i.TWELVE_HOURS=i.SIX_HOURS=i.THREE_HOURS=i.ONE_HOUR=i.SIXTY_MINUTES=i.THIRTY_MINUTES=i.TEN_MINUTES=i.FIVE_MINUTES=i.ONE_MINUTE=i.SIXTY_SECONDS=i.THIRTY_SECONDS=i.TEN_SECONDS=i.FIVE_SECONDS=i.ONE_SECOND=void 0,i.ONE_SECOND=1,i.FIVE_SECONDS=5,i.TEN_SECONDS=10,i.THIRTY_SECONDS=30,i.SIXTY_SECONDS=60,i.ONE_MINUTE=i.SIXTY_SECONDS,i.FIVE_MINUTES=5*i.ONE_MINUTE,i.TEN_MINUTES=10*i.ONE_MINUTE,i.THIRTY_MINUTES=30*i.ONE_MINUTE,i.SIXTY_MINUTES=60*i.ONE_MINUTE,i.ONE_HOUR=i.SIXTY_MINUTES,i.THREE_HOURS=3*i.ONE_HOUR,i.SIX_HOURS=6*i.ONE_HOUR,i.TWELVE_HOURS=12*i.ONE_HOUR,i.TWENTY_FOUR_HOURS=24*i.ONE_HOUR,i.ONE_DAY=i.TWENTY_FOUR_HOURS,i.THREE_DAYS=3*i.ONE_DAY,i.FIVE_DAYS=5*i.ONE_DAY,i.SEVEN_DAYS=7*i.ONE_DAY,i.THIRTY_DAYS=30*i.ONE_DAY,i.ONE_WEEK=i.SEVEN_DAYS,i.TWO_WEEKS=2*i.ONE_WEEK,i.THREE_WEEKS=3*i.ONE_WEEK,i.FOUR_WEEKS=4*i.ONE_WEEK,i.ONE_YEAR=365*i.ONE_DAY},10666:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(52388);l.__exportStar(c(88914),i),l.__exportStar(c(1415),i),l.__exportStar(c(28580),i),l.__exportStar(c(27025),i)},28580:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(52388);l.__exportStar(c(5955),i)},5955:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IWatch=void 0,i.IWatch=class{}},5492:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.fromMiliseconds=i.toMiliseconds=void 0;let l=c(27025);i.toMiliseconds=function(t){return t*l.ONE_THOUSAND},i.fromMiliseconds=function(t){return Math.floor(t/l.ONE_THOUSAND)}},64539:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.delay=void 0,i.delay=function(t){return new Promise(i=>{setTimeout(()=>{i(!0)},t)})}},88914:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(52388);l.__exportStar(c(64539),i),l.__exportStar(c(5492),i)},1415:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Watch=void 0;let Watch=class Watch{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){let i=this.get(t);if(void 0!==i.elapsed)throw Error(`Watch already stopped for label: ${t}`);let c=Date.now()-i.started;this.timestamps.set(t,{started:i.started,elapsed:c})}get(t){let i=this.timestamps.get(t);if(void 0===i)throw Error(`No timestamp found for label: ${t}`);return i}elapsed(t){let i=this.get(t),c=i.elapsed||Date.now()-i.started;return c}};i.Watch=Watch,i.default=Watch},52388:function(t,i,c){"use strict";c.r(i),c.d(i,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,i){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var c in i)i.hasOwnProperty(c)&&(t[c]=i[c])})(t,i)};function __extends(t,i){function __(){this.constructor=t}extendStatics(t,i),t.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var i,c=1,l=arguments.length;c<l;c++)for(var _ in i=arguments[c])Object.prototype.hasOwnProperty.call(i,_)&&(t[_]=i[_]);return t}).apply(this,arguments)};function __rest(t,i){var c={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&0>i.indexOf(l)&&(c[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var _=0,l=Object.getOwnPropertySymbols(t);_<l.length;_++)0>i.indexOf(l[_])&&Object.prototype.propertyIsEnumerable.call(t,l[_])&&(c[l[_]]=t[l[_]]);return c}function __decorate(t,i,c,l){var _,v=arguments.length,I=v<3?i:null===l?l=Object.getOwnPropertyDescriptor(i,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(t,i,c,l);else for(var N=t.length-1;N>=0;N--)(_=t[N])&&(I=(v<3?_(I):v>3?_(i,c,I):_(i,c))||I);return v>3&&I&&Object.defineProperty(i,c,I),I}function __param(t,i){return function(c,l){i(c,l,t)}}function __metadata(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)}function __awaiter(t,i,c,l){return new(c||(c=Promise))(function(_,v){function fulfilled(t){try{step(l.next(t))}catch(t){v(t)}}function rejected(t){try{step(l.throw(t))}catch(t){v(t)}}function step(t){var i;t.done?_(t.value):((i=t.value)instanceof c?i:new c(function(t){t(i)})).then(fulfilled,rejected)}step((l=l.apply(t,i||[])).next())})}function __generator(t,i){var c,l,_,v,I={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function verb(v){return function(N){return function(v){if(c)throw TypeError("Generator is already executing.");for(;I;)try{if(c=1,l&&(_=2&v[0]?l.return:v[0]?l.throw||((_=l.return)&&_.call(l),0):l.next)&&!(_=_.call(l,v[1])).done)return _;switch(l=0,_&&(v=[2&v[0],_.value]),v[0]){case 0:case 1:_=v;break;case 4:return I.label++,{value:v[1],done:!1};case 5:I.label++,l=v[1],v=[0];continue;case 7:v=I.ops.pop(),I.trys.pop();continue;default:if(!(_=(_=I.trys).length>0&&_[_.length-1])&&(6===v[0]||2===v[0])){I=0;continue}if(3===v[0]&&(!_||v[1]>_[0]&&v[1]<_[3])){I.label=v[1];break}if(6===v[0]&&I.label<_[1]){I.label=_[1],_=v;break}if(_&&I.label<_[2]){I.label=_[2],I.ops.push(v);break}_[2]&&I.ops.pop(),I.trys.pop();continue}v=i.call(t,I)}catch(t){v=[6,t],l=0}finally{c=_=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,N])}}}function __createBinding(t,i,c,l){void 0===l&&(l=c),t[l]=i[c]}function __exportStar(t,i){for(var c in t)"default"===c||i.hasOwnProperty(c)||(i[c]=t[c])}function __values(t){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&t[i],l=0;if(c)return c.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,i){var c="function"==typeof Symbol&&t[Symbol.iterator];if(!c)return t;var l,_,v=c.call(t),I=[];try{for(;(void 0===i||i-- >0)&&!(l=v.next()).done;)I.push(l.value)}catch(t){_={error:t}}finally{try{l&&!l.done&&(c=v.return)&&c.call(v)}finally{if(_)throw _.error}}return I}function __spread(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(__read(arguments[i]));return t}function __spreadArrays(){for(var t=0,i=0,c=arguments.length;i<c;i++)t+=arguments[i].length;for(var l=Array(t),_=0,i=0;i<c;i++)for(var v=arguments[i],I=0,N=v.length;I<N;I++,_++)l[_]=v[I];return l}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,i,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var l,_=c.apply(t,i||[]),v=[];return l={},verb("next"),verb("throw"),verb("return"),l[Symbol.asyncIterator]=function(){return this},l;function verb(t){_[t]&&(l[t]=function(i){return new Promise(function(c,l){v.push([t,i,c,l])>1||resume(t,i)})})}function resume(t,i){try{var c;(c=_[t](i)).value instanceof __await?Promise.resolve(c.value.v).then(fulfill,reject):settle(v[0][2],c)}catch(t){settle(v[0][3],t)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,i){t(i),v.shift(),v.length&&resume(v[0][0],v[0][1])}}function __asyncDelegator(t){var i,c;return i={},verb("next"),verb("throw",function(t){throw t}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(l,_){i[l]=t[l]?function(i){return(c=!c)?{value:__await(t[l](i)),done:"return"===l}:_?_(i):i}:_}}function __asyncValues(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,c=t[Symbol.asyncIterator];return c?c.call(t):(t=__values(t),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(c){i[c]=t[c]&&function(i){return new Promise(function(l,_){!function(t,i,c,l){Promise.resolve(l).then(function(i){t({value:i,done:c})},i)}(l,_,(i=t[c](i)).done,i.value)})}}}function __makeTemplateObject(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t}function __importStar(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var c in t)Object.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i.default=t,i}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,i){if(!i.has(t))throw TypeError("attempted to get private field on non-instance");return i.get(t)}function __classPrivateFieldSet(t,i,c){if(!i.has(t))throw TypeError("attempted to set private field on non-instance");return i.set(t,c),c}},34748:function(t,i,c){"use strict";let l=c(57785),_=c(15554),v=c(15452),I=c(40063),isNullOrUndefined=t=>null==t,N=Symbol("encodeFragmentIdentifier");function validateArrayFormatSeparator(t){if("string"!=typeof t||1!==t.length)throw TypeError("arrayFormatSeparator must be single character string")}function encode(t,i){return i.encode?i.strict?l(t):encodeURIComponent(t):t}function decode(t,i){return i.decode?_(t):t}function removeHash(t){let i=t.indexOf("#");return -1!==i&&(t=t.slice(0,i)),t}function extract(t){t=removeHash(t);let i=t.indexOf("?");return -1===i?"":t.slice(i+1)}function parseValue(t,i){return i.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):i.parseBooleans&&null!==t&&("true"===t.toLowerCase()||"false"===t.toLowerCase())&&(t="true"===t.toLowerCase()),t}function parse(t,i){validateArrayFormatSeparator((i=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},i)).arrayFormatSeparator);let c=function(t){let i;switch(t.arrayFormat){case"index":return(t,c,l)=>{if(i=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!i){l[t]=c;return}void 0===l[t]&&(l[t]={}),l[t][i[1]]=c};case"bracket":return(t,c,l)=>{if(i=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!i){l[t]=c;return}if(void 0===l[t]){l[t]=[c];return}l[t]=[].concat(l[t],c)};case"colon-list-separator":return(t,c,l)=>{if(i=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!i){l[t]=c;return}if(void 0===l[t]){l[t]=[c];return}l[t]=[].concat(l[t],c)};case"comma":case"separator":return(i,c,l)=>{let _="string"==typeof c&&c.includes(t.arrayFormatSeparator),v="string"==typeof c&&!_&&decode(c,t).includes(t.arrayFormatSeparator);c=v?decode(c,t):c;let I=_||v?c.split(t.arrayFormatSeparator).map(i=>decode(i,t)):null===c?c:decode(c,t);l[i]=I};case"bracket-separator":return(i,c,l)=>{let _=/(\[\])$/.test(i);if(i=i.replace(/\[\]$/,""),!_){l[i]=c?decode(c,t):c;return}let v=null===c?[]:c.split(t.arrayFormatSeparator).map(i=>decode(i,t));if(void 0===l[i]){l[i]=v;return}l[i]=[].concat(l[i],v)};default:return(t,i,c)=>{if(void 0===c[t]){c[t]=i;return}c[t]=[].concat(c[t],i)}}}(i),l=Object.create(null);if("string"!=typeof t||!(t=t.trim().replace(/^[?#&]/,"")))return l;for(let _ of t.split("&")){if(""===_)continue;let[t,I]=v(i.decode?_.replace(/\+/g," "):_,"=");I=void 0===I?null:["comma","separator","bracket-separator"].includes(i.arrayFormat)?I:decode(I,i),c(decode(t,i),I,l)}for(let t of Object.keys(l)){let c=l[t];if("object"==typeof c&&null!==c)for(let t of Object.keys(c))c[t]=parseValue(c[t],i);else l[t]=parseValue(c,i)}return!1===i.sort?l:(!0===i.sort?Object.keys(l).sort():Object.keys(l).sort(i.sort)).reduce((t,i)=>{let c=l[i];return c&&"object"==typeof c&&!Array.isArray(c)?t[i]=function keysSorter(t){return Array.isArray(t)?t.sort():"object"==typeof t?keysSorter(Object.keys(t)).sort((t,i)=>Number(t)-Number(i)).map(i=>t[i]):t}(c):t[i]=c,t},Object.create(null))}i.extract=extract,i.parse=parse,i.stringify=(t,i)=>{if(!t)return"";validateArrayFormatSeparator((i=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},i)).arrayFormatSeparator);let shouldFilter=c=>i.skipNull&&isNullOrUndefined(t[c])||i.skipEmptyString&&""===t[c],c=function(t){switch(t.arrayFormat){case"index":return i=>(c,l)=>{let _=c.length;return void 0===l||t.skipNull&&null===l||t.skipEmptyString&&""===l?c:null===l?[...c,[encode(i,t),"[",_,"]"].join("")]:[...c,[encode(i,t),"[",encode(_,t),"]=",encode(l,t)].join("")]};case"bracket":return i=>(c,l)=>void 0===l||t.skipNull&&null===l||t.skipEmptyString&&""===l?c:null===l?[...c,[encode(i,t),"[]"].join("")]:[...c,[encode(i,t),"[]=",encode(l,t)].join("")];case"colon-list-separator":return i=>(c,l)=>void 0===l||t.skipNull&&null===l||t.skipEmptyString&&""===l?c:null===l?[...c,[encode(i,t),":list="].join("")]:[...c,[encode(i,t),":list=",encode(l,t)].join("")];case"comma":case"separator":case"bracket-separator":{let i="bracket-separator"===t.arrayFormat?"[]=":"=";return c=>(l,_)=>void 0===_||t.skipNull&&null===_||t.skipEmptyString&&""===_?l:(_=null===_?"":_,0===l.length)?[[encode(c,t),i,encode(_,t)].join("")]:[[l,encode(_,t)].join(t.arrayFormatSeparator)]}default:return i=>(c,l)=>void 0===l||t.skipNull&&null===l||t.skipEmptyString&&""===l?c:null===l?[...c,encode(i,t)]:[...c,[encode(i,t),"=",encode(l,t)].join("")]}}(i),l={};for(let i of Object.keys(t))shouldFilter(i)||(l[i]=t[i]);let _=Object.keys(l);return!1!==i.sort&&_.sort(i.sort),_.map(l=>{let _=t[l];return void 0===_?"":null===_?encode(l,i):Array.isArray(_)?0===_.length&&"bracket-separator"===i.arrayFormat?encode(l,i)+"[]":_.reduce(c(l),[]).join("&"):encode(l,i)+"="+encode(_,i)}).filter(t=>t.length>0).join("&")},i.parseUrl=(t,i)=>{i=Object.assign({decode:!0},i);let[c,l]=v(t,"#");return Object.assign({url:c.split("?")[0]||"",query:parse(extract(t),i)},i&&i.parseFragmentIdentifier&&l?{fragmentIdentifier:decode(l,i)}:{})},i.stringifyUrl=(t,c)=>{c=Object.assign({encode:!0,strict:!0,[N]:!0},c);let l=removeHash(t.url).split("?")[0]||"",_=i.extract(t.url),v=i.parse(_,{sort:!1}),I=Object.assign(v,t.query),U=i.stringify(I,c);U&&(U=`?${U}`);let M=function(t){let i="",c=t.indexOf("#");return -1!==c&&(i=t.slice(c)),i}(t.url);return t.fragmentIdentifier&&(M=`#${c[N]?encode(t.fragmentIdentifier,c):t.fragmentIdentifier}`),`${l}${U}${M}`},i.pick=(t,c,l)=>{l=Object.assign({parseFragmentIdentifier:!0,[N]:!1},l);let{url:_,query:v,fragmentIdentifier:U}=i.parseUrl(t,l);return i.stringifyUrl({url:_,query:I(v,c),fragmentIdentifier:U},l)},i.exclude=(t,c,l)=>{let _=Array.isArray(c)?t=>!c.includes(t):(t,i)=>!c(t,i);return i.pick(t,_,l)}},33958:function(t,i,c){t=c.nmd(t);var l,_,v,I="__lodash_hash_undefined__",N="[object Arguments]",U="[object Array]",M="[object Boolean]",k="[object Date]",B="[object Error]",W="[object Function]",J="[object Map]",X="[object Number]",Q="[object Object]",er="[object Promise]",es="[object RegExp]",ea="[object Set]",eo="[object String]",ec="[object WeakMap]",el="[object ArrayBuffer]",eh="[object DataView]",ef=/^\[object .+?Constructor\]$/,ed=/^(?:0|[1-9]\d*)$/,ep={};ep["[object Float32Array]"]=ep["[object Float64Array]"]=ep["[object Int8Array]"]=ep["[object Int16Array]"]=ep["[object Int32Array]"]=ep["[object Uint8Array]"]=ep["[object Uint8ClampedArray]"]=ep["[object Uint16Array]"]=ep["[object Uint32Array]"]=!0,ep[N]=ep[U]=ep[el]=ep[M]=ep[eh]=ep[k]=ep[B]=ep[W]=ep[J]=ep[X]=ep[Q]=ep[es]=ep[ea]=ep[eo]=ep[ec]=!1;var e_="object"==typeof c.g&&c.g&&c.g.Object===Object&&c.g,eg="object"==typeof self&&self&&self.Object===Object&&self,ey=e_||eg||Function("return this")(),ev=i&&!i.nodeType&&i,em=ev&&t&&!t.nodeType&&t,eb=em&&em.exports===ev,ew=eb&&e_.process,eE=function(){try{return ew&&ew.binding&&ew.binding("util")}catch(t){}}(),eD=eE&&eE.isTypedArray;function mapToArray(t){var i=-1,c=Array(t.size);return t.forEach(function(t,l){c[++i]=[l,t]}),c}function setToArray(t){var i=-1,c=Array(t.size);return t.forEach(function(t){c[++i]=t}),c}var eS=Array.prototype,eI=Function.prototype,ex=Object.prototype,eC=ey["__core-js_shared__"],eO=eI.toString,eP=ex.hasOwnProperty,eA=(l=/[^.]+$/.exec(eC&&eC.keys&&eC.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",eN=ex.toString,eR=RegExp("^"+eO.call(eP).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ej=eb?ey.Buffer:void 0,eT=ey.Symbol,eU=ey.Uint8Array,eL=ex.propertyIsEnumerable,eM=eS.splice,ek=eT?eT.toStringTag:void 0,ez=Object.getOwnPropertySymbols,e$=ej?ej.isBuffer:void 0,eH=(_=Object.keys,v=Object,function(t){return _(v(t))}),eF=getNative(ey,"DataView"),eV=getNative(ey,"Map"),eB=getNative(ey,"Promise"),eK=getNative(ey,"Set"),eG=getNative(ey,"WeakMap"),eW=getNative(Object,"create"),eJ=toSource(eF),eY=toSource(eV),eX=toSource(eB),eZ=toSource(eK),eQ=toSource(eG),e0=eT?eT.prototype:void 0,e1=e0?e0.valueOf:void 0;function Hash(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function ListCache(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function MapCache(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function SetCache(t){var i=-1,c=null==t?0:t.length;for(this.__data__=new MapCache;++i<c;)this.add(t[i])}function Stack(t){var i=this.__data__=new ListCache(t);this.size=i.size}function assocIndexOf(t,i){for(var c=t.length;c--;)if(eq(t[c][0],i))return c;return -1}function baseGetTag(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ek&&ek in Object(t)?function(t){var i=eP.call(t,ek),c=t[ek];try{t[ek]=void 0;var l=!0}catch(t){}var _=eN.call(t);return l&&(i?t[ek]=c:delete t[ek]),_}(t):eN.call(t)}function baseIsArguments(t){return isObjectLike(t)&&baseGetTag(t)==N}function equalArrays(t,i,c,l,_,v){var I=1&c,N=t.length,U=i.length;if(N!=U&&!(I&&U>N))return!1;var M=v.get(t);if(M&&v.get(i))return M==i;var k=-1,B=!0,W=2&c?new SetCache:void 0;for(v.set(t,i),v.set(i,t);++k<N;){var J=t[k],X=i[k];if(l)var Q=I?l(X,J,k,i,t,v):l(J,X,k,t,i,v);if(void 0!==Q){if(Q)continue;B=!1;break}if(W){if(!function(t,i){for(var c=-1,l=null==t?0:t.length;++c<l;)if(i(t[c],c,t))return!0;return!1}(i,function(t,i){if(!W.has(i)&&(J===t||_(J,t,c,l,v)))return W.push(i)})){B=!1;break}}else if(!(J===X||_(J,X,c,l,v))){B=!1;break}}return v.delete(t),v.delete(i),B}function getAllKeys(t){var i;return i=function(t){return null!=t&&isLength(t.length)&&!isFunction(t)?function(t,i){var c,l=e6(t),_=!l&&e2(t),v=!l&&!_&&e8(t),I=!l&&!_&&!v&&e4(t),N=l||_||v||I,U=N?function(t,i){for(var c=-1,l=Array(t);++c<t;)l[c]=i(c);return l}(t.length,String):[],M=U.length;for(var k in t)eP.call(t,k)&&!(N&&("length"==k||v&&("offset"==k||"parent"==k)||I&&("buffer"==k||"byteLength"==k||"byteOffset"==k)||(c=null==(c=M)?9007199254740991:c)&&("number"==typeof k||ed.test(k))&&k>-1&&k%1==0&&k<c))&&U.push(k);return U}(t):function(t){if(i=t&&t.constructor,t!==("function"==typeof i&&i.prototype||ex))return eH(t);var i,c=[];for(var l in Object(t))eP.call(t,l)&&"constructor"!=l&&c.push(l);return c}(t)}(t),e6(t)?i:function(t,i){for(var c=-1,l=i.length,_=t.length;++c<l;)t[_+c]=i[c];return t}(i,e5(t))}function getMapData(t,i){var c,l=t.__data__;return("string"==(c=typeof i)||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==i:null===i)?l["string"==typeof i?"string":"hash"]:l.map}function getNative(t,i){var c=null==t?void 0:t[i];return!(!isObject(c)||eA&&eA in c)&&(isFunction(c)?eR:ef).test(toSource(c))?c:void 0}Hash.prototype.clear=function(){this.__data__=eW?eW(null):{},this.size=0},Hash.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},Hash.prototype.get=function(t){var i=this.__data__;if(eW){var c=i[t];return c===I?void 0:c}return eP.call(i,t)?i[t]:void 0},Hash.prototype.has=function(t){var i=this.__data__;return eW?void 0!==i[t]:eP.call(i,t)},Hash.prototype.set=function(t,i){var c=this.__data__;return this.size+=this.has(t)?0:1,c[t]=eW&&void 0===i?I:i,this},ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(t){var i=this.__data__,c=assocIndexOf(i,t);return!(c<0)&&(c==i.length-1?i.pop():eM.call(i,c,1),--this.size,!0)},ListCache.prototype.get=function(t){var i=this.__data__,c=assocIndexOf(i,t);return c<0?void 0:i[c][1]},ListCache.prototype.has=function(t){return assocIndexOf(this.__data__,t)>-1},ListCache.prototype.set=function(t,i){var c=this.__data__,l=assocIndexOf(c,t);return l<0?(++this.size,c.push([t,i])):c[l][1]=i,this},MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(eV||ListCache),string:new Hash}},MapCache.prototype.delete=function(t){var i=getMapData(this,t).delete(t);return this.size-=i?1:0,i},MapCache.prototype.get=function(t){return getMapData(this,t).get(t)},MapCache.prototype.has=function(t){return getMapData(this,t).has(t)},MapCache.prototype.set=function(t,i){var c=getMapData(this,t),l=c.size;return c.set(t,i),this.size+=c.size==l?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function(t){return this.__data__.set(t,I),this},SetCache.prototype.has=function(t){return this.__data__.has(t)},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(t){var i=this.__data__,c=i.delete(t);return this.size=i.size,c},Stack.prototype.get=function(t){return this.__data__.get(t)},Stack.prototype.has=function(t){return this.__data__.has(t)},Stack.prototype.set=function(t,i){var c=this.__data__;if(c instanceof ListCache){var l=c.__data__;if(!eV||l.length<199)return l.push([t,i]),this.size=++c.size,this;c=this.__data__=new MapCache(l)}return c.set(t,i),this.size=c.size,this};var e5=ez?function(t){return null==t?[]:function(t,i){for(var c=-1,l=null==t?0:t.length,_=0,v=[];++c<l;){var I=t[c];i(I,c,t)&&(v[_++]=I)}return v}(ez(t=Object(t)),function(i){return eL.call(t,i)})}:function(){return[]},e3=baseGetTag;function toSource(t){if(null!=t){try{return eO.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function eq(t,i){return t===i||t!=t&&i!=i}(eF&&e3(new eF(new ArrayBuffer(1)))!=eh||eV&&e3(new eV)!=J||eB&&e3(eB.resolve())!=er||eK&&e3(new eK)!=ea||eG&&e3(new eG)!=ec)&&(e3=function(t){var i=baseGetTag(t),c=i==Q?t.constructor:void 0,l=c?toSource(c):"";if(l)switch(l){case eJ:return eh;case eY:return J;case eX:return er;case eZ:return ea;case eQ:return ec}return i});var e2=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&eP.call(t,"callee")&&!eL.call(t,"callee")},e6=Array.isArray,e8=e$||function(){return!1};function isFunction(t){if(!isObject(t))return!1;var i=baseGetTag(t);return i==W||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function isObject(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}function isObjectLike(t){return null!=t&&"object"==typeof t}var e4=eD?function(t){return eD(t)}:function(t){return isObjectLike(t)&&isLength(t.length)&&!!ep[baseGetTag(t)]};t.exports=function(t,i){return function baseIsEqual(t,i,c,l,_){return t===i||(null!=t&&null!=i&&(isObjectLike(t)||isObjectLike(i))?function(t,i,c,l,_,v){var I=e6(t),W=e6(i),er=I?U:e3(t),ec=W?U:e3(i);er=er==N?Q:er,ec=ec==N?Q:ec;var ef=er==Q,ed=ec==Q,ep=er==ec;if(ep&&e8(t)){if(!e8(i))return!1;I=!0,ef=!1}if(ep&&!ef)return v||(v=new Stack),I||e4(t)?equalArrays(t,i,c,l,_,v):function(t,i,c,l,_,v,I){switch(c){case eh:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)break;t=t.buffer,i=i.buffer;case el:if(t.byteLength!=i.byteLength||!v(new eU(t),new eU(i)))break;return!0;case M:case k:case X:return eq(+t,+i);case B:return t.name==i.name&&t.message==i.message;case es:case eo:return t==i+"";case J:var N=mapToArray;case ea:var U=1&l;if(N||(N=setToArray),t.size!=i.size&&!U)break;var W=I.get(t);if(W)return W==i;l|=2,I.set(t,i);var Q=equalArrays(N(t),N(i),l,_,v,I);return I.delete(t),Q;case"[object Symbol]":if(e1)return e1.call(t)==e1.call(i)}return!1}(t,i,er,c,l,_,v);if(!(1&c)){var e_=ef&&eP.call(t,"__wrapped__"),eg=ed&&eP.call(i,"__wrapped__");if(e_||eg){var ey=e_?t.value():t,ev=eg?i.value():i;return v||(v=new Stack),_(ey,ev,c,l,v)}}return!!ep&&(v||(v=new Stack),function(t,i,c,l,_,v){var I=1&c,N=getAllKeys(t),U=N.length;if(U!=getAllKeys(i).length&&!I)return!1;for(var M=U;M--;){var k=N[M];if(!(I?k in i:eP.call(i,k)))return!1}var B=v.get(t);if(B&&v.get(i))return B==i;var W=!0;v.set(t,i),v.set(i,t);for(var J=I;++M<U;){var X=t[k=N[M]],Q=i[k];if(l)var er=I?l(Q,X,k,i,t,v):l(X,Q,k,t,i,v);if(!(void 0===er?X===Q||_(X,Q,c,l,v):er)){W=!1;break}J||(J="constructor"==k)}if(W&&!J){var es=t.constructor,ea=i.constructor;es!=ea&&"constructor"in t&&"constructor"in i&&!("function"==typeof es&&es instanceof es&&"function"==typeof ea&&ea instanceof ea)&&(W=!1)}return v.delete(t),v.delete(i),W}(t,i,c,l,_,v))}(t,i,c,l,baseIsEqual,_):t!=t&&i!=i)}(t,i)}},31493:function(t){"use strict";function tryStringify(t){try{return JSON.stringify(t)}catch(t){return'"[Circular]"'}}t.exports=function(t,i,c){var l=c&&c.stringify||tryStringify;if("object"==typeof t&&null!==t){var _=i.length+1;if(1===_)return t;var v=Array(_);v[0]=l(t);for(var I=1;I<_;I++)v[I]=l(i[I]);return v.join(" ")}if("string"!=typeof t)return t;var N=i.length;if(0===N)return t;for(var U="",M=0,k=-1,B=t&&t.length||0,W=0;W<B;){if(37===t.charCodeAt(W)&&W+1<B){switch(k=k>-1?k:0,t.charCodeAt(W+1)){case 100:case 102:if(M>=N||null==i[M])break;k<W&&(U+=t.slice(k,W)),U+=Number(i[M]),k=W+2,W++;break;case 105:if(M>=N||null==i[M])break;k<W&&(U+=t.slice(k,W)),U+=Math.floor(Number(i[M])),k=W+2,W++;break;case 79:case 111:case 106:if(M>=N||void 0===i[M])break;k<W&&(U+=t.slice(k,W));var J=typeof i[M];if("string"===J){U+="'"+i[M]+"'",k=W+2,W++;break}if("function"===J){U+=i[M].name||"<anonymous>",k=W+2,W++;break}U+=l(i[M]),k=W+2,W++;break;case 115:if(M>=N)break;k<W&&(U+=t.slice(k,W)),U+=String(i[M]),k=W+2,W++;break;case 37:k<W&&(U+=t.slice(k,W)),U+="%",k=W+2,W++,M--}++M}++W}return -1===k?t:(k<B&&(U+=t.slice(k)),U)}},26041:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.safeJsonParse=function(t){if("string"!=typeof t)throw Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch(i){return t}},i.safeJsonStringify=function(t){return"string"==typeof t?t:JSON.stringify(t,(t,i)=>void 0===i?null:i)}},69413:function(t,i,c){"use strict";let l=c(31493);t.exports=pino;let _=function(){function defd(t){return void 0!==t&&t}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return defd(self)||defd(window)||defd(this)||{}}}().console||{};function pino(t){var i;(t=t||{}).browser=t.browser||{};let c=t.browser.transmit;if(c&&"function"!=typeof c.send)throw Error("pino: transmit option must have a send function");let l=t.browser.write||_;t.browser.write&&(t.browser.asObject=!0);let v=t.serializers||{},I=function(t,i){if(Array.isArray(t)){let i=t.filter(function(t){return"!stdSerializers.err"!==t});return i}return!0===t&&Object.keys(i)}(t.browser.serialize,v),N=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(N=!1),"function"==typeof l&&(l.error=l.fatal=l.warn=l.info=l.debug=l.trace=l),!1===t.enabled&&(t.level="silent");let U=t.level||"info",M=Object.create(l);M.log||(M.log=noop),Object.defineProperty(M,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(M,"level",{get:function(){return this._level},set:function(t){if("silent"!==t&&!this.levels.values[t])throw Error("unknown level "+t);this._level=t,set(k,M,"error","log"),set(k,M,"fatal","error"),set(k,M,"warn","error"),set(k,M,"info","log"),set(k,M,"debug","log"),set(k,M,"trace","log")}});let k={transmit:c,serialize:I,asObject:t.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(i=t).timestamp?i.timestamp:!1===i.timestamp?nullTime:epochTime};return M.levels=pino.levels,M.level=U,M.setMaxListeners=M.getMaxListeners=M.emit=M.addListener=M.on=M.prependListener=M.once=M.prependOnceListener=M.removeListener=M.removeAllListeners=M.listeners=M.listenerCount=M.eventNames=M.write=M.flush=noop,M.serializers=v,M._serialize=I,M._stdErrSerialize=N,M.child=function(i,l){if(!i)throw Error("missing bindings for child Pino");l=l||{},I&&i.serializers&&(l.serializers=i.serializers);let _=l.serializers;if(I&&_){var N=Object.assign({},v,_),U=!0===t.browser.serialize?Object.keys(N):I;delete i.serializers,applySerializers([i],U,N,this._stdErrSerialize)}function Child(t){this._childLevel=(0|t._childLevel)+1,this.error=bind(t,i,"error"),this.fatal=bind(t,i,"fatal"),this.warn=bind(t,i,"warn"),this.info=bind(t,i,"info"),this.debug=bind(t,i,"debug"),this.trace=bind(t,i,"trace"),N&&(this.serializers=N,this._serialize=U),c&&(this._logEvent=createLogEventShape([].concat(t._logEvent.bindings,i)))}return Child.prototype=this,new Child(this)},c&&(M._logEvent=createLogEventShape()),M}function set(t,i,c,v){let I=Object.getPrototypeOf(i);i[c]=i.levelVal>i.levels.values[c]?noop:I[c]?I[c]:_[c]||_[v]||noop,function(t,i,c){if(t.transmit||i[c]!==noop){var v;i[c]=(v=i[c],function(){let I=t.timestamp(),N=Array(arguments.length),U=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_?_:this;for(var M=0;M<N.length;M++)N[M]=arguments[M];if(t.serialize&&!t.asObject&&applySerializers(N,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?v.call(U,function(t,i,c,_){t._serialize&&applySerializers(c,t._serialize,t.serializers,t._stdErrSerialize);let v=c.slice(),I=v[0],N={};_&&(N.time=_),N.level=pino.levels.values[i];let U=(0|t._childLevel)+1;if(U<1&&(U=1),null!==I&&"object"==typeof I){for(;U--&&"object"==typeof v[0];)Object.assign(N,v.shift());I=v.length?l(v.shift(),v):void 0}else"string"==typeof I&&(I=l(v.shift(),v));return void 0!==I&&(N.msg=I),N}(this,c,N,I)):v.apply(U,N),t.transmit){let l=t.transmit.level||i.level,_=pino.levels.values[l],v=pino.levels.values[c];if(v<_)return;(function(t,i,c){let l=i.send,_=i.ts,v=i.methodLevel,I=i.methodValue,N=i.val,U=t._logEvent.bindings;applySerializers(c,t._serialize||Object.keys(t.serializers),t.serializers,void 0===t._stdErrSerialize||t._stdErrSerialize),t._logEvent.ts=_,t._logEvent.messages=c.filter(function(t){return -1===U.indexOf(t)}),t._logEvent.level.label=v,t._logEvent.level.value=I,l(v,t._logEvent,N),t._logEvent=createLogEventShape(U)})(this,{ts:I,methodLevel:c,methodValue:v,transmitLevel:l,transmitValue:pino.levels.values[t.transmit.level||i.level],send:t.transmit.send,val:i.levelVal},N)}})}}(t,i,c)}function applySerializers(t,i,c,l){for(let _ in t)if(l&&t[_]instanceof Error)t[_]=pino.stdSerializers.err(t[_]);else if("object"==typeof t[_]&&!Array.isArray(t[_]))for(let l in t[_])i&&i.indexOf(l)>-1&&l in c&&(t[_][l]=c[l](t[_][l]))}function bind(t,i,c){return function(){let l=Array(1+arguments.length);l[0]=i;for(var _=1;_<l.length;_++)l[_]=arguments[_-1];return t[c].apply(this,l)}}function createLogEventShape(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function mock(){return{}}function passthrough(t){return t}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},pino.stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:function(t){let i={type:t.constructor.name,msg:t.message,stack:t.stack};for(let c in t)void 0===i[c]&&(i[c]=t[c]);return i}},pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})}}]);
//# sourceMappingURL=777.a132e1bc6434925e.js.map